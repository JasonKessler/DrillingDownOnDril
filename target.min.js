!function(a,N){"object"==typeof exports&&"undefined"!=typeof module?N(exports,require("d3-interpolate")):"function"==typeof define&&define.amd?define(["exports","d3-interpolate"],N):N(a.d3=a.d3||{},a.d3)}(this,function(a,N){var f=function(a){for(var f=a.length/6|0,m=Array(f),p=0;p<f;)m[p]="#"+a.slice(6*p,6*++p);return m},J=f("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),C=f("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),G=f("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),
p=f("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),y=f("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),H=f("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),m=f("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Q=f("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),P=function(a){return N.interpolateRgbBasis(a[a.length-1])},S=Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e",
"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(f),R=P(S),ma=Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837",
"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(f),ga=P(ma),$a=Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419",
"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(f),lb=P($a),Db=Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(f),
Lc=P(Db),ab=Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(f),pb=P(ab),Qa=Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040",
"ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(f),Pb=P(Qa),wb=Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4",
"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(f),Wa=P(wb),va=Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850",
"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(f),wa=P(va),ja=Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2",
"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(f),Y=P(ja),Z=Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(f),qb=P(Z),qe=Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c",
"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(f),kc=P(qe),Vd=Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(f),re=P(Vd),db=Array(3).concat("fee8c8fdbb84e34a33",
"fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(f),Wd=P(db),Eb=Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450",
"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(f),Xd=P(Eb),Mc=Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(f),Ra=P(Mc),Qb=Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043",
"f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(f),rb=P(Qb),Rb=Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(f),sd=P(Rb),ha=Array(3).concat("edf8b17fcdbb2c7fb8",
"ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(f),xb=P(ha),aa=Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32",
"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(f),Xa=P(aa),sb=Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(f),K=P(sb),Na=Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026",
"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(f),Le=P(Na),Sb=Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(f),se=P(Sb),Tb=Array(3).concat("e5f5e0a1d99b31a354",
"edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(f),Ub=P(Tb),td=Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525",
"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(f),Vb=P(td),Bd=Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(f),Oa=P(Bd),bb=Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15",
"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(f),Nc=P(bb),f=Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(f),P=P(f);a.schemeAccent=J;a.schemeDark2=
C;a.schemePaired=G;a.schemePastel1=p;a.schemePastel2=y;a.schemeSet1=H;a.schemeSet2=m;a.schemeSet3=Q;a.interpolateBrBG=R;a.schemeBrBG=S;a.interpolatePRGn=ga;a.schemePRGn=ma;a.interpolatePiYG=lb;a.schemePiYG=$a;a.interpolatePuOr=Lc;a.schemePuOr=Db;a.interpolateRdBu=pb;a.schemeRdBu=ab;a.interpolateRdGy=Pb;a.schemeRdGy=Qa;a.interpolateRdYlBu=Wa;a.schemeRdYlBu=wb;a.interpolateRdYlGn=wa;a.schemeRdYlGn=va;a.interpolateSpectral=Y;a.schemeSpectral=ja;a.interpolateBuGn=qb;a.schemeBuGn=Z;a.interpolateBuPu=kc;
a.schemeBuPu=qe;a.interpolateGnBu=re;a.schemeGnBu=Vd;a.interpolateOrRd=Wd;a.schemeOrRd=db;a.interpolatePuBuGn=Xd;a.schemePuBuGn=Eb;a.interpolatePuBu=Ra;a.schemePuBu=Mc;a.interpolatePuRd=rb;a.schemePuRd=Qb;a.interpolateRdPu=sd;a.schemeRdPu=Rb;a.interpolateYlGnBu=xb;a.schemeYlGnBu=ha;a.interpolateYlGn=Xa;a.schemeYlGn=aa;a.interpolateYlOrBr=K;a.schemeYlOrBr=sb;a.interpolateYlOrRd=Le;a.schemeYlOrRd=Na;a.interpolateBlues=se;a.schemeBlues=Sb;a.interpolateGreens=Ub;a.schemeGreens=Tb;a.interpolateGreys=Vb;
a.schemeGreys=td;a.interpolatePurples=Oa;a.schemePurples=Bd;a.interpolateReds=Nc;a.schemeReds=bb;a.interpolateOranges=P;a.schemeOranges=f;Object.defineProperty(a,"__esModule",{value:!0})});(function(a,N){"object"==typeof exports&&"undefined"!=typeof module?N(exports):"function"==typeof define&&define.amd?define(["exports"],N):N(a.d3=a.d3||{})})(this,function(a){function N(b){return function(c,d){return Wf(b(c),d)}}function f(b,c,d){var g=Math.abs(c-b)/Math.max(0,d);d=Math.pow(10,Math.floor(Math.log(g)/Math.LN10));g/=d;return g>=Lo?d*=10:g>=Mo?d*=5:g>=No&&(d*=2),c<b?-d:d}function J(b){return b.length}function C(b,c,d){b=b(d);return"translate("+(isFinite(b)?b:c(d))+",0)"}function G(b,
c,d){b=b(d);return"translate(0,"+(isFinite(b)?b:c(d))+")"}function p(b){var c=b.bandwidth()/2;return b.round()&&(c=Math.round(c)),function(d){return b(d)+c}}function y(){return!this.__axis}function H(b,c){function d(d){var n,r=null==l?c.ticks?c.ticks.apply(c,g):c.domain():l,k=null==q?c.tickFormat?c.tickFormat.apply(c,g):cl:q,v=Math.max(a,0)+A,x=b===Qh||b===hj?C:G,D=c.range(),ca=D[0]+.5,D=D[D.length-1]+.5,of=(c.bandwidth?p:cl)(c.copy()),L=d.selection?d.selection():d,e=L.selectAll(".domain").data([null]),
r=L.selectAll(".tick").data(r,c).order(),h=r.exit(),w=r.enter().append("g").attr("class","tick"),z=r.select("line"),u=r.select("text"),B=b===Qh||b===ah?-1:1,F=b===ah||b===Rh?(n="x","y"):(n="y","x"),e=e.merge(e.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),r=r.merge(w),z=z.merge(w.append("line").attr("stroke","#000").attr(n+"2",B*a).attr(F+"1",.5).attr(F+"2",.5)),u=u.merge(w.append("text").attr("fill","#000").attr(n,B*v).attr(F,.5).attr("dy",b===Qh?"0em":b===hj?"0.71em":
"0.32em"));d!==L&&(e=e.transition(d),r=r.transition(d),z=z.transition(d),u=u.transition(d),h=h.transition(d).attr("opacity",dl).attr("transform",function(b){return x(of,this.parentNode.__axis||of,b)}),w.attr("opacity",dl).attr("transform",function(b){return x(this.parentNode.__axis||of,of,b)}));h.remove();e.attr("d",b===ah||b==Rh?"M"+B*t+","+ca+"H0.5V"+D+"H"+B*t:"M"+ca+","+B*t+"V0.5H"+D+"V"+B*t);r.attr("opacity",1).attr("transform",function(b){return x(of,of,b)});z.attr(n+"2",B*a);u.attr(n,B*v).text(k);
L.filter(y).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",b===Rh?"start":b===ah?"end":"middle");L.each(function(){this.__axis=of})}var g=[],l=null,q=null,a=6,t=6,A=3;return d.scale=function(b){return arguments.length?(c=b,d):c},d.ticks=function(){return g=ij.call(arguments),d},d.tickArguments=function(b){return arguments.length?(g=null==b?[]:ij.call(b),d):g.slice()},d.tickValues=function(b){return arguments.length?(l=null==b?null:ij.call(b),d):l&&l.slice()},
d.tickFormat=function(b){return arguments.length?(q=b,d):q},d.tickSize=function(b){return arguments.length?(a=t=+b,d):a},d.tickSizeInner=function(b){return arguments.length?(a=+b,d):a},d.tickSizeOuter=function(b){return arguments.length?(t=+b,d):t},d.tickPadding=function(b){return arguments.length?(A=+b,d):A},d}function m(){for(var b,c=0,d=arguments.length,g={};c<d;++c){if(!(b=arguments[c]+"")||b in g)throw Error("illegal type: "+b);g[b]=[]}return new Q(g)}function Q(b){this._=b}function P(b,c){return b.trim().split(/^|\s+/).map(function(b){var d=
"",l=b.indexOf(".");if(0<=l&&(d=b.slice(l+1),b=b.slice(0,l)),b&&!c.hasOwnProperty(b))throw Error("unknown type: "+b);return{type:b,name:d}})}function S(b,c,d){for(var g=0,l=b.length;g<l;++g)if(b[g].name===c){b[g]=Oo;b=b.slice(0,g).concat(b.slice(g+1));break}return null!=d&&b.push({name:c,value:d}),b}function R(b){return function(){var c=this.ownerDocument,d=this.namespaceURI;return d===jj&&c.documentElement.namespaceURI===jj?c.createElement(b):c.createElementNS(d,b)}}function ma(b){return function(){return this.ownerDocument.createElementNS(b.space,
b.local)}}function ga(){return new $a}function $a(){this._="@"+(++Po).toString(36)}function lb(b,c,d){return b=Db(b,c,d),function(c){var d=c.relatedTarget;d&&(d===this||8&d.compareDocumentPosition(this))||b.call(this,c)}}function Db(b,c,d){return function(g){var l=a.event;a.event=g;try{b.call(this,this.__data__,c,d)}finally{a.event=l}}}function Lc(b){return b.trim().split(/^|\s+/).map(function(b){var c="",g=b.indexOf(".");return 0<=g&&(c=b.slice(g+1),b=b.slice(0,g)),{type:b,name:c}})}function ab(b){return function(){var c=
this.__on;if(c){for(var d,g=0,l=-1,q=c.length;g<q;++g)d=c[g],b.type&&d.type!==b.type||d.name!==b.name?c[++l]=d:this.removeEventListener(d.type,d.listener,d.capture);++l?c.length=l:delete this.__on}}}function pb(b,c,d){var g=el.hasOwnProperty(b.type)?lb:Db;return function(l,q,a){var t;l=this.__on;q=g(c,q,a);if(l){a=0;for(var x=l.length;a<x;++a)if((t=l[a]).type===b.type&&t.name===b.name)return this.removeEventListener(t.type,t.listener,t.capture),this.addEventListener(t.type,t.listener=q,t.capture=
d),void(t.value=c)}this.addEventListener(b.type,q,d);t={type:b.type,name:b.name,value:c,listener:q,capture:d};l?l.push(t):this.__on=[t]}}function Qa(b,c,d,g){var l=a.event;b.sourceEvent=a.event;a.event=b;try{return c.apply(d,g)}finally{a.event=l}}function Pb(){}function wb(){return[]}function Wa(b,c){this.ownerDocument=b.ownerDocument;this.namespaceURI=b.namespaceURI;this._next=null;this._parent=b;this.__data__=c}function va(b,c,d,g,l,q){for(var a,t=0,A=c.length,D=q.length;t<D;++t)(a=c[t])?(a.__data__=
q[t],g[t]=a):d[t]=new Wa(b,q[t]);for(;t<A;++t)(a=c[t])&&(l[t]=a)}function wa(b,c,d,g,l,q,a){var t,x,D,n={},r=c.length,k=q.length,v=Array(r);for(t=0;t<r;++t)(x=c[t])&&(v[t]=D=fl+a.call(x,x.__data__,t,c),D in n?l[t]=x:n[D]=x);for(t=0;t<k;++t)D=fl+a.call(b,q[t],t,q),(x=n[D])?(g[t]=x,x.__data__=q[t],n[D]=null):d[t]=new Wa(b,q[t]);for(t=0;t<r;++t)(x=c[t])&&n[v[t]]===x&&(l[t]=x)}function ja(b,c){return b<c?-1:b>c?1:b>=c?0:NaN}function Y(b){return function(){this.removeAttribute(b)}}function Z(b){return function(){this.removeAttributeNS(b.space,
b.local)}}function qb(b,c){return function(){this.setAttribute(b,c)}}function qe(b,c){return function(){this.setAttributeNS(b.space,b.local,c)}}function kc(b,c){return function(){var d=c.apply(this,arguments);null==d?this.removeAttribute(b):this.setAttribute(b,d)}}function Vd(b,c){return function(){var d=c.apply(this,arguments);null==d?this.removeAttributeNS(b.space,b.local):this.setAttributeNS(b.space,b.local,d)}}function re(b){return function(){this.style.removeProperty(b)}}function db(b,c,d){return function(){this.style.setProperty(b,
c,d)}}function Wd(b,c,d){return function(){var g=c.apply(this,arguments);null==g?this.style.removeProperty(b):this.style.setProperty(b,g,d)}}function Eb(b){return function(){delete this[b]}}function Xd(b,c){return function(){this[b]=c}}function Mc(b,c){return function(){var d=c.apply(this,arguments);null==d?delete this[b]:this[b]=d}}function Ra(b){return b.classList||new Qb(b)}function Qb(b){this._node=b;this._names=(b.getAttribute("class")||"").trim().split(/^|\s+/)}function rb(b,c){for(var d=Ra(b),
g=-1,l=c.length;++g<l;)d.add(c[g])}function Rb(b,c){for(var d=Ra(b),g=-1,l=c.length;++g<l;)d.remove(c[g])}function sd(b){return function(){rb(this,b)}}function ha(b){return function(){Rb(this,b)}}function xb(b,c){return function(){(c.apply(this,arguments)?rb:Rb)(this,b)}}function aa(){this.textContent=""}function Xa(b){return function(){this.textContent=b}}function sb(b){return function(){var c=b.apply(this,arguments);this.textContent=null==c?"":c}}function K(){this.innerHTML=""}function Na(b){return function(){this.innerHTML=
b}}function Le(b){return function(){var c=b.apply(this,arguments);this.innerHTML=null==c?"":c}}function Sb(){this.nextSibling&&this.parentNode.appendChild(this)}function se(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Tb(){return null}function Ub(){var b=this.parentNode;b&&b.removeChild(this)}function td(b,c,d){var g=yg(b),l=g.CustomEvent;l?l=new l(c,d):(l=g.document.createEvent("Event"),d?(l.initEvent(c,d.bubbles,d.cancelable),l.detail=d.detail):
l.initEvent(c,!1,!1));b.dispatchEvent(l)}function Vb(b,c){return function(){return td(this,b,c)}}function Bd(b,c){return function(){return td(this,b,c.apply(this,arguments))}}function Oa(b,c){this._groups=b;this._parents=c}function bb(){return new Oa([[document.documentElement]],kj)}function Nc(b,c){var d=b.document.documentElement,g=Cd(b).on("dragstart.drag",null);c&&(g.on("click.drag",zg,!0),setTimeout(function(){g.on("click.drag",null)},0));"onselectstart"in d?g.on("selectstart.drag",null):(d.style.MozUserSelect=
d.__noselect,delete d.__noselect)}function Ob(b,c,d,g,l,q,a,t,A,D){this.target=b;this.type=c;this.subject=d;this.identifier=g;this.active=l;this.x=q;this.y=a;this.dx=t;this.dy=A;this._=D}function Ke(){return!a.event.button}function Jc(){return this.parentNode}function Kc(b){return null==b?{x:a.event.x,y:a.event.y}:b}function ud(b,c){var d=Object.create(b.prototype),g;for(g in c)d[g]=c[g];return d}function tb(){}function ib(b){var c;return b=(b+"").trim().toLowerCase(),(c=Qo.exec(b))?(c=parseInt(c[1],
16),new pa(c>>8&15|c>>4&240,c>>4&15|240&c,(15&c)<<4|15&c,1)):(c=Ro.exec(b))?Wb(parseInt(c[1],16)):(c=So.exec(b))?new pa(c[1],c[2],c[3],1):(c=To.exec(b))?new pa(255*c[1]/100,255*c[2]/100,255*c[3]/100,1):(c=Uo.exec(b))?ya(c[1],c[2],c[3],c[4]):(c=Vo.exec(b))?ya(255*c[1]/100,255*c[2]/100,255*c[3]/100,c[4]):(c=Wo.exec(b))?xa(c[1],c[2]/100,c[3]/100,1):(c=Xo.exec(b))?xa(c[1],c[2]/100,c[3]/100,c[4]):gl.hasOwnProperty(b)?Wb(gl[b]):"transparent"===b?new pa(NaN,NaN,NaN,0):null}function Wb(b){return new pa(b>>
16&255,b>>8&255,255&b,1)}function ya(b,c,d,g){return 0>=g&&(b=c=d=NaN),new pa(b,c,d,g)}function mb(b){return b instanceof tb||(b=ib(b)),b?(b=b.rgb(),new pa(b.r,b.g,b.b,b.opacity)):new pa}function vd(b,c,d,g){return 1===arguments.length?mb(b):new pa(b,c,d,null==g?1:g)}function pa(b,c,d,g){this.r=+b;this.g=+c;this.b=+d;this.opacity=+g}function xa(b,c,d,g){return 0>=g?b=c=d=NaN:0>=d||1<=d?b=c=NaN:0>=c&&(b=NaN),new eb(b,c,d,g)}function ka(b){if(b instanceof eb)return new eb(b.h,b.s,b.l,b.opacity);if(b instanceof
tb||(b=ib(b)),!b)return new eb;if(b instanceof eb)return b;b=b.rgb();var c=b.r/255,d=b.g/255,g=b.b/255,l=Math.min(c,d,g),q=Math.max(c,d,g),a=NaN,t=q-l,A=(q+l)/2;return t?(a=c===q?(d-g)/t+6*(d<g):d===q?(g-c)/t+2:(c-d)/t+4,t/=.5>A?q+l:2-q-l,a*=60):t=0<A&&1>A?0:a,new eb(a,t,A,b.opacity)}function Fb(b,c,d,g){return 1===arguments.length?ka(b):new eb(b,c,d,null==g?1:g)}function eb(b,c,d,g){this.h=+b;this.s=+c;this.l=+d;this.opacity=+g}function te(b,c,d){return 255*(60>b?c+(d-c)*b/60:180>b?d:240>b?c+(d-
c)*(240-b)/60:c)}function Xb(b){if(b instanceof fb)return new fb(b.l,b.a,b.b,b.opacity);if(b instanceof jb){var c=b.h*hl;return new fb(b.l,Math.cos(c)*b.c,Math.sin(c)*b.c,b.opacity)}b instanceof pa||(b=mb(b));var d=Yd(b.r),g=Yd(b.g),l=Yd(b.b),c=Yb((.4124564*d+.3575761*g+.1804375*l)/il),q=Yb((.2126729*d+.7151522*g+.072175*l)/jl),d=Yb((.0193339*d+.119192*g+.9503041*l)/kl);return new fb(116*q-16,500*(c-q),200*(q-d),b.opacity)}function Dd(b,c,d,g){return 1===arguments.length?Xb(b):new fb(b,c,d,null==
g?1:g)}function fb(b,c,d,g){this.l=+b;this.a=+c;this.b=+d;this.opacity=+g}function Yb(b){return b>Yo?Math.pow(b,1/3):b/ll+ml}function Zd(b){return b>Ag?b*b*b:ll*(b-ml)}function Zb(b){return 255*(.0031308>=b?12.92*b:1.055*Math.pow(b,1/2.4)-.055)}function Yd(b){return.04045>=(b/=255)?b/12.92:Math.pow((b+.055)/1.055,2.4)}function Gb(b,c,d,g){var l;if(1===arguments.length)if(l=b,l instanceof jb)l=new jb(l.h,l.c,l.l,l.opacity);else{l instanceof fb||(l=Xb(l));var q=Math.atan2(l.b,l.a)*nl;l=new jb(0>q?q+
360:q,Math.sqrt(l.a*l.a+l.b*l.b),l.l,l.opacity)}else l=new jb(b,c,d,null==g?1:g);return l}function jb(b,c,d,g){this.h=+b;this.c=+c;this.l=+d;this.opacity=+g}function ub(b,c,d,g){var l;if(1===arguments.length)if(l=b,l instanceof nb)l=new nb(l.h,l.s,l.l,l.opacity);else{l instanceof pa||(l=mb(l));var q=l.g/255,a=l.b/255,t=(ol*a+l.r/255*pl-ql*q)/(ol+pl-ql),a=a-t,A=(bh*(q-t)-lj*a)/Sh,a=(q=Math.sqrt(A*A+a*a)/(bh*t*(1-t)))?Math.atan2(A,a)*nl-120:NaN;l=new nb(0>a?a+360:a,q,t,l.opacity)}else l=new nb(b,c,
d,null==g?1:g);return l}function nb(b,c,d,g){this.h=+b;this.s=+c;this.l=+d;this.opacity=+g}function ue(b,c,d,g,l){var q=b*b,a=q*b;return((1-3*b+3*q-a)*c+(4-6*q+3*a)*d+(1+3*b+3*q-3*a)*g+a*l)/6}function Da(b,c){return function(d){return b+d*c}}function lc(b,c,d){return b=Math.pow(b,d),c=Math.pow(c,d)-b,d=1/d,function(g){return Math.pow(b+g*c,d)}}function Aa(b,c){var d=c-b;return d?Da(b,180<d||-180>d?d-360*Math.round(d/360):d):Th(isNaN(b)?c:b)}function O(b){return 1===(b=+b)?Sa:function(c,d){return d-
c?lc(c,d,b):Th(isNaN(c)?d:c)}}function Sa(b,c){var d=c-b;return d?Da(b,d):Th(isNaN(b)?c:b)}function sa(b){return function(c){var d,g,l=c.length,q=Array(l),a=Array(l),t=Array(l);for(d=0;d<l;++d)g=vd(c[d]),q[d]=g.r||0,a[d]=g.g||0,t[d]=g.b||0;return q=b(q),a=b(a),t=b(t),g.opacity=1,function(b){return g.r=q(b),g.g=a(b),g.b=t(b),g+""}}}function da(b){return function(){return b}}function ve(b){return function(c){return b(c)+""}}function mc(b,c,d,g){function l(b){return b.length?b.pop()+" ":""}function q(b,
g,l,k,q,a){b!==l||g!==k?(q=q.push("translate(",null,c,null,d),a.push({i:q-4,x:Ed(b,l)},{i:q-2,x:Ed(g,k)})):(l||k)&&q.push("translate("+l+c+k+d)}function a(b,c,d,k){b!==c?(180<b-c?c+=360:180<c-b&&(b+=360),k.push({i:d.push(l(d)+"rotate(",null,g)-2,x:Ed(b,c)})):c&&d.push(l(d)+"rotate("+c+g)}function t(b,c,d,k){b!==c?k.push({i:d.push(l(d)+"skewX(",null,g)-2,x:Ed(b,c)}):c&&d.push(l(d)+"skewX("+c+g)}function A(b,c,d,g,q,a){b!==d||c!==g?(q=q.push(l(q)+"scale(",null,",",null,")"),a.push({i:q-4,x:Ed(b,d)},
{i:q-2,x:Ed(c,g)})):1===d&&1===g||q.push(l(q)+"scale("+d+","+g+")")}return function(c,d){var g=[],l=[];return c=b(c),d=b(d),q(c.translateX,c.translateY,d.translateX,d.translateY,g,l),a(c.rotate,d.rotate,g,l),t(c.skewX,d.skewX,g,l),A(c.scaleX,c.scaleY,d.scaleX,d.scaleY,g,l),c=d=null,function(b){for(var c,d=-1,k=l.length;++d<k;)g[(c=l[d]).i]=c.x(b);return g.join("")}}}function we(b){return((b=Math.exp(b))+1/b)/2}function nc(b){return function(c,d){var g=b((c=Fb(c)).h,(d=Fb(d)).h),l=Sa(c.s,d.s),q=Sa(c.l,
d.l),a=Sa(c.opacity,d.opacity);return function(b){return c.h=g(b),c.s=l(b),c.l=q(b),c.opacity=a(b),c+""}}}function oc(b){return function(c,d){var g=b((c=Gb(c)).h,(d=Gb(d)).h),l=Sa(c.c,d.c),q=Sa(c.l,d.l),a=Sa(c.opacity,d.opacity);return function(b){return c.h=g(b),c.c=l(b),c.l=q(b),c.opacity=a(b),c+""}}}function xe(b){return function d(g){function l(d,l){var q=b((d=ub(d)).h,(l=ub(l)).h),a=Sa(d.s,l.s),x=Sa(d.l,l.l),n=Sa(d.opacity,l.opacity);return function(b){return d.h=q(b),d.s=a(b),d.l=x(Math.pow(b,
g)),d.opacity=n(b),d+""}}return g=+g,l.gamma=d,l}(1)}function vb(){return zf||(rl(Me),zf=mj.now()+nj)}function Me(){zf=0}function yb(){this._call=this._time=this._next=null}function Hb(b,c,d){var g=new yb;return g.restart(b,c,d),g}function ye(){vb();++Bg;for(var b,c=Uh;c;)0<=(b=zf-c._time)&&c._call.call(null,b),c=c._next;--Bg}function pc(){zf=(Vh=mj.now())+nj;Bg=ch=0;try{ye()}finally{Bg=0;for(var b,c,d=Uh,g=1/0;d;)d._call?(g>d._time&&(g=d._time),b=d,d=d._next):(c=d._next,d._next=null,d=b?b._next=
c:Uh=c);dh=b;$b(g);zf=0}}function Ne(){var b=mj.now(),c=b-Vh;c>sl&&(nj-=c,Vh=b)}function $b(b){if(!Bg){ch&&(ch=clearTimeout(ch));var c=b-zf;24<c?(b<1/0&&(ch=setTimeout(pc,c)),eh&&(eh=clearInterval(eh))):(eh||(Vh=zf,eh=setInterval(Ne,sl)),Bg=1,rl(pc))}}function ac(b,c){var d=b.__transition;if(!d||!(d=d[c])||d.state>tl)throw Error("too late");return d}function qc(b,c){var d=b.__transition;if(!d||!(d=d[c])||d.state>Wh)throw Error("too late");return d}function gb(b,c){var d=b.__transition;if(!d||!(d=
d[c]))throw Error("too late");return d}function Oe(b,c,d){function g(x){var A,n,r,k;if(d.state!==oj)return q();for(A in t)if(k=t[A],k.name===d.name){if(k.state===pj)return qj(g);k.state===ul?(k.state=Xh,k.timer.stop(),k.on.call("interrupt",b,b.__data__,k.index,k.group),delete t[A]):+A<c&&(k.state=Xh,k.timer.stop(),delete t[A])}if(qj(function(){d.state===pj&&(d.state=ul,d.timer.restart(l,d.delay,d.time),l(x))}),d.state=Wh,d.on.call("start",b,b.__data__,d.index,d.group),d.state===Wh){d.state=pj;a=Array(r=
d.tween.length);A=0;for(n=-1;A<r;++A)(k=d.tween[A].value.call(b,b.__data__,d.index,d.group))&&(a[++n]=k);a.length=n+1}}function l(c){c=c<d.duration?d.ease.call(null,c/d.duration):(d.timer.restart(q),d.state=rj,1);for(var g=-1,l=a.length;++g<l;)a[g].call(null,c);d.state===rj&&(d.on.call("end",b,b.__data__,d.index,d.group),q())}function q(){d.state=Xh;d.timer.stop();delete t[c];for(var g in t)return;delete b.__transition}var a,t=b.__transition;t[c]=d;d.timer=Hb(function(b){d.state=oj;d.timer.restart(g,
d.delay,d.time);d.delay<=b&&g(b-d.delay)},0,d.time)}function Oc(b,c){var d,g;return function(){var l=qc(this,b),q=l.tween;if(q!==d){g=d=q;for(var q=0,a=g.length;q<a;++q)if(g[q].name===c){g=g.slice();g.splice(q,1);break}}l.tween=g}}function Pc(b,c,d){var g,l;if("function"!=typeof d)throw Error();return function(){var q=qc(this,b),a=q.tween;if(a!==g){l=(g=a).slice();for(var a={name:c,value:d},t=0,A=l.length;t<A;++t)if(l[t].name===c){l[t]=a;break}t===A&&l.push(a)}q.tween=l}}function $d(b,c,d){var g=
b._id;return b.each(function(){var b=qc(this,g);(b.value||(b.value={}))[c]=d.apply(this,arguments)}),function(b){return gb(b,g).value[c]}}function Qc(b){return function(){this.removeAttribute(b)}}function Pe(b){return function(){this.removeAttributeNS(b.space,b.local)}}function Rc(b,c,d){var g,l;return function(){var q=this.getAttribute(b);return q===d?null:q===g?l:l=c(g=q,d)}}function Ea(b,c,d){var g,l;return function(){var q=this.getAttributeNS(b.space,b.local);return q===d?null:q===g?l:l=c(g=q,
d)}}function ia(b,c,d){var g,l,q;return function(){var a,t=d(this);return null==t?void this.removeAttribute(b):(a=this.getAttribute(b),a===t?null:a===g&&t===l?q:q=c(g=a,l=t))}}function rc(b,c,d){var g,l,q;return function(){var a,t=d(this);return null==t?void this.removeAttributeNS(b.space,b.local):(a=this.getAttributeNS(b.space,b.local),a===t?null:a===g&&t===l?q:q=c(g=a,l=t))}}function Sc(b,c){function d(){var d=this,l=c.apply(d,arguments);return l&&function(c){d.setAttributeNS(b.space,b.local,l(c))}}
return d._value=c,d}function Tc(b,c){function d(){var d=this,l=c.apply(d,arguments);return l&&function(c){d.setAttribute(b,l(c))}}return d._value=c,d}function Qe(b,c){return function(){ac(this,b).delay=+c.apply(this,arguments)}}function Re(b,c){return c=+c,function(){ac(this,b).delay=c}}function Uc(b,c){return function(){qc(this,b).duration=+c.apply(this,arguments)}}function Vc(b,c){return c=+c,function(){qc(this,b).duration=c}}function Wc(b,c){if("function"!=typeof c)throw Error();return function(){qc(this,
b).ease=c}}function Se(b){return(b+"").trim().split(/^|\s+/).every(function(b){var c=b.indexOf(".");return 0<=c&&(b=b.slice(0,c)),!b||"start"===b})}function Te(b,c,d){var g,l,a=Se(c)?ac:qc;return function(){var q=a(this,b),t=q.on;t!==g&&(l=(g=t).copy()).on(c,d);q.on=l}}function Xc(b){return function(){var c=this.parentNode,d;for(d in this.__transition)if(+d!==b)return;c&&c.removeChild(this)}}function Yc(b,c){var d,g,l;return function(){var a=yg(this).getComputedStyle(this,null),x=a.getPropertyValue(b),
a=(this.style.removeProperty(b),a.getPropertyValue(b));return x===a?null:x===d&&a===g?l:l=c(d=x,g=a)}}function Zc(b){return function(){this.style.removeProperty(b)}}function Ue(b,c,d){var g,l;return function(){var a=yg(this).getComputedStyle(this,null).getPropertyValue(b);return a===d?null:a===g?l:l=c(g=a,d)}}function Ve(b,c,d){var g,l,a;return function(){var q=yg(this).getComputedStyle(this,null),t=q.getPropertyValue(b),A=d(this);return null==A&&(this.style.removeProperty(b),A=q.getPropertyValue(b)),
t===A?null:t===g&&A===l?a:a=c(g=t,l=A)}}function $c(b,c,d){function g(){var g=this,a=c.apply(g,arguments);return a&&function(c){g.style.setProperty(b,a(c),d)}}return g._value=c,g}function ad(b){return function(){this.textContent=b}}function Fa(b){return function(){var c=b(this);this.textContent=null==c?"":c}}function W(b,c,d,g){this._groups=b;this._parents=c;this._name=d;this._id=g}function ae(b){return bb().transition(b)}function ta(b){return(1>=(b*=2)?b*b:--b*(2-b)+1)/2}function ba(b){return(1>=
(b*=2)?b*b*b:(b-=2)*b*b+2)/2}function be(b){return(1-Math.cos(vl*b))/2}function sc(b){return(1>=(b*=2)?Math.pow(2,10*b-10):2-Math.pow(2,10-10*b))/2}function ze(b){return(1>=(b*=2)?1-Math.sqrt(1-b*b):Math.sqrt(1-(b-=2)*b)+1)/2}function zb(b){return(b=+b)<sj?Yh*b*b:b<Zo?Yh*(b-=$o)*b+ap:b<bp?Yh*(b-=cp)*b+dp:Yh*(b-=ep)*b+fp}function Ab(b){return{type:b}}function We(){return!a.event.button}function bd(){var b=this.ownerSVGElement||this;return[[0,0],[b.width.baseVal.value,b.height.baseVal.value]]}function ce(b){for(;!b.__brush;)if(!(b=
b.parentNode))return;return b.__brush}function bc(b){return b[0][0]===b[1][0]||b[0][1]===b[1][1]}function cc(b){function c(c){var g=c.property("__brush",x).selectAll(".overlay").data([Ab("overlay")]);g.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",pf.overlay).merge(g).each(function(){var b=ce(this).extent;Cd(this).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1])});c.selectAll(".selection").data([Ab("selection")]).enter().append("rect").attr("class",
"selection").attr("cursor",pf.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");g=c.selectAll(".handle").data(b.handles,function(b){return b.type});g.exit().remove();g.enter().append("rect").attr("class",function(b){return"handle handle--"+b.type}).attr("cursor",function(b){return pf[b.type]});c.each(d).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",
q)}function d(){var b=Cd(this),c=ce(this).selection;c?(b.selectAll(".selection").style("display",null).attr("x",c[0][0]).attr("y",c[0][1]).attr("width",c[1][0]-c[0][0]).attr("height",c[1][1]-c[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(b){return"e"===b.type[b.type.length-1]?c[1][0]-r/2:c[0][0]-r/2}).attr("y",function(b){return"s"===b.type[0]?c[1][1]-r/2:c[0][1]-r/2}).attr("width",function(b){return"n"===b.type||"s"===b.type?c[1][0]-c[0][0]+r:r}).attr("height",function(b){return"e"===
b.type||"w"===b.type?c[1][1]-c[0][1]+r:r})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function g(b,c){return b.__brush.emitter||new l(b,c)}function l(b,c){this.that=b;this.args=c;this.state=b.__brush;this.active=0}function q(){function c(){var b=Af(U);!J||Ha||de||(Math.abs(b[0]-Z[0])>Math.abs(b[1]-Z[1])?de=!0:Ha=!0);Z=b;Ta=!0;Zh();l()}function l(){var b;switch(F=Z[0]-N[0],I=Z[1]-N[1],f){case tj:case wl:Ka&&(F=Math.max(K-
x,Math.min(H-w,F)),A=x+F,z=w+F);La&&(I=Math.max(C-e,Math.min(G-u,I)),h=e+I,B=u+I);break;case Cg:0>Ka?(F=Math.max(K-x,Math.min(H-x,F)),A=x+F,z=w):0<Ka&&(F=Math.max(K-w,Math.min(H-w,F)),A=x,z=w+F);0>La?(I=Math.max(C-e,Math.min(G-e,I)),h=e+I,B=u):0<La&&(I=Math.max(C-u,Math.min(G-u,I)),h=e,B=u+I);break;case Dg:Ka&&(A=Math.max(K,Math.min(H,x-F*Ka)),z=Math.max(K,Math.min(H,w+F*Ka))),La&&(h=Math.max(C,Math.min(G,e-I*La)),B=Math.max(C,Math.min(G,u+I*La)))}z<A&&(Ka*=-1,b=x,x=w,w=b,b=A,A=z,z=b,X in xl&&R.attr("cursor",
pf[X=xl[X]]));B<h&&(La*=-1,b=e,e=u,u=b,b=h,h=B,B=b,X in yl&&R.attr("cursor",pf[X=yl[X]]));m.selection&&(y=m.selection);Ha&&(A=y[0][0],z=y[1][0]);de&&(h=y[0][1],B=y[1][1]);y[0][0]===A&&y[0][1]===h&&y[1][0]===z&&y[1][1]===B||(m.selection=[[A,h],[z,B]],d.call(U),P.brush())}function q(){a.event.stopImmediatePropagation();if(a.event.touches){if(a.event.touches.length)return;t&&clearTimeout(t);t=setTimeout(function(){t=null},500);Q.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Nc(a.event.view,
Ta),O.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Q.attr("pointer-events","all");R.attr("cursor",pf.overlay);m.selection&&(y=m.selection);bc(y)&&(m.selection=null,d.call(U));P.end()}function n(){switch(a.event.keyCode){case 16:J=Ka&&La;break;case 18:f===Cg&&(Ka&&(w=z-F*Ka,x=A+F*Ka),La&&(u=B-I*La,e=h+I*La),f=Dg,l());break;case 32:f!==Cg&&f!==Dg||(0>Ka?w=z-F:0<Ka&&(x=A-F),0>La?u=B-I:0<La&&(e=h-I),f=tj,R.attr("cursor",pf.selection),l());break;default:return}Zh()}function r(){switch(a.event.keyCode){case 16:J&&
(Ha=de=J=!1,l());break;case 18:f===Dg&&(0>Ka?w=z:0<Ka&&(x=A),0>La?u=B:0<La&&(e=h),f=Cg,l());break;case 32:f===tj&&(a.event.altKey?(Ka&&(w=z-F*Ka,x=A+F*Ka),La&&(u=B-I*La,e=h+I*La),f=Dg):(0>Ka?w=z:0<Ka&&(x=A),0>La?u=B:0<La&&(e=h),f=Cg),R.attr("cursor",pf[X]),l());break;default:return}Zh()}if(a.event.touches){if(a.event.changedTouches.length<a.event.touches.length)return Zh()}else if(t)return;if(D.apply(this,arguments)){var x,A,e,h,w,z,u,B,F,I,Ta,Ha,de,U=this,X=a.event.target.__data__.type,f="selection"===
(a.event.metaKey?X="overlay":X)?wl:a.event.altKey?Dg:Cg,Ka=b===$h?null:hp[X],La=b===ai?null:ip[X],m=ce(U),p=m.extent,y=m.selection,K=p[0][0],C=p[0][1],H=p[1][0],G=p[1][1],J=Ka&&La&&a.event.shiftKey,N=Af(U),Z=N,P=g(U,arguments).beforestart();"overlay"===X?m.selection=y=[[x=b===$h?K:N[0],e=b===ai?C:N[1]],[w=b===$h?H:x,u=b===ai?G:e]]:(x=y[0][0],e=y[0][1],w=y[1][0],u=y[1][1]);A=x;h=e;z=w;B=u;var Q=Cd(U).attr("pointer-events","none"),R=Q.selectAll(".overlay").attr("cursor",pf[X]);if(a.event.touches)Q.on("touchmove.brush",
c,!0).on("touchend.brush touchcancel.brush",q,!0);else{var O=Cd(a.event.view).on("keydown.brush",n,!0).on("keyup.brush",r,!0).on("mousemove.brush",c,!0).on("mouseup.brush",q,!0);bi(a.event.view)}a.event.stopImmediatePropagation();Xf(U);d.call(U);P.start()}}function x(){var c=this.__brush||{selection:null};return c.extent=A.apply(this,arguments),c.dim=b,c}var t,A=bd,D=We,n=m(c,"start","brush","end"),r=6;return c.move=function(c,l){c.selection?c.on("start.brush",function(){g(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",
function(){g(this,arguments).end()}).tween("brush",function(){function c(b){a.selection=1===b&&bc(e)?null:h(b);d.call(k);q.brush()}var k=this,a=k.__brush,q=g(k,arguments),n=a.selection,e=b.input("function"==typeof l?l.apply(this,arguments):l,a.extent),h=gh(n,e);return n&&e?c:c(1)}):c.each(function(){var c=arguments,k=this.__brush,a=b.input("function"==typeof l?l.apply(this,c):l,k.extent),c=g(this,c).beforestart();Xf(this);k.selection=null==a||bc(a)?null:a;d.call(this);c.start().brush().end()})},l.prototype=
{beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(d){Qa(new jp(c,d,b.output(this.state.selection)),n.apply,n,[d,this.that,this.args])}},c.extent=function(b){return arguments.length?(A="function"==typeof b?b:zl([[+b[0][0],
+b[0][1]],[+b[1][0],+b[1][1]]]),c):A},c.filter=function(b){return arguments.length?(D="function"==typeof b?b:zl(!!b),c):D},c.handleSize=function(b){return arguments.length?(r=+b,c):r},c.on=function(){var b=n.on.apply(n,arguments);return b===n?c:b},c}function Xe(b){return function(c,d){return b(c.source.value+c.target.value,d.source.value+d.target.value)}}function dc(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function tc(){return new dc}function cd(b){return b.source}function dd(b){return b.target}
function Ye(b){return b.radius}function ed(b){return b.startAngle}function Ze(b){return b.endAngle}function Ib(){}function cb(b,c){var d=new Ib;if(b instanceof Ib)b.each(function(b,c){d.set(c,b)});else if(Array.isArray(b)){var g,l=-1,a=b.length;if(null==c)for(;++l<a;)d.set(l,b[l]);else for(;++l<a;)d.set(c(g=b[l],l,b),g)}else if(b)for(l in b)d.set(l,b[l]);return d}function $e(){return{}}function fd(b,c,d){b[c]=d}function Ae(){return cb()}function uc(b,c,d){b.set(c,d)}function za(){}function fa(b,c){var d=
new za;if(b instanceof za)b.each(function(b){d.add(b)});else if(b){var g=-1,l=b.length;if(null==c)for(;++g<l;)d.add(b[g]);else for(;++g<l;)d.add(c(b[g],g,b))}return d}function ec(b){return new Function("d","return {"+b.map(function(b,d){return JSON.stringify(b)+": d["+d+"]"}).join(",")+"}")}function gd(b,c){var d=ec(b);return function(g,l){return c(d(g),l,b)}}function hd(b){var c=Object.create(null),d=[];return b.forEach(function(b){for(var g in b)g in c||d.push(c[g]=g)}),d}function Be(b,c,d,g){if(isNaN(c)||
isNaN(d))return b;var l,a,x,t,A,D,n,r,k=b._root;g={data:g};var v=b._x0,E=b._y0,M=b._x1,ca=b._y1;if(!k)return b._root=g,b;for(;k.length;)if((D=c>=(a=(v+M)/2))?v=a:M=a,(n=d>=(x=(E+ca)/2))?E=x:ca=x,l=k,!(k=k[r=n<<1|D]))return l[r]=g,b;if(t=+b._x.call(null,k.data),A=+b._y.call(null,k.data),c===t&&d===A)return g.next=k,l?l[r]=g:b._root=g,b;do l=l?l[r]=Array(4):b._root=Array(4),(D=c>=(a=(v+M)/2))?v=a:M=a,(n=d>=(x=(E+ca)/2))?E=x:ca=x;while((r=n<<1|D)===(D=(A>=x)<<1|t>=a));return l[D]=k,l[r]=g,b}function af(b){return b[0]}
function id(b){return b[1]}function Jb(b,c,d){c=new fc(null==c?af:c,null==d?id:d,NaN,NaN,NaN,NaN);return null==b?c:c.addAll(b)}function fc(b,c,d,g,l,a){this._x=b;this._y=c;this._x0=d;this._y0=g;this._x1=l;this._y1=a;this._root=void 0}function Ce(b){for(var c={data:b.data},d=c;b=b.next;)d=d.next={data:b.data};return c}function bf(b){return b.x+b.vx}function jd(b){return b.y+b.vy}function kd(b){return b.index}function vc(b,c){var d=b.get(c);if(!d)throw Error("missing: "+c);return d}function cf(b){return b.x}
function df(b){return b.y}function wc(b){if(!(c=kp.exec(b)))throw Error("invalid format: "+b);var c;b=c[1]||" ";var d=c[2]||">",g=c[3]||"-",l=c[4]||"",a=!!c[5],x=c[6]&&+c[6],t=!!c[7],A=c[8]&&+c[8].slice(1);c=c[9]||"";"n"===c?(t=!0,c="g"):Al[c]||(c="");(a||"0"===b&&"="===d)&&(a=!0,b="0",d="=");this.fill=b;this.align=d;this.sign=g;this.symbol=l;this.zero=a;this.width=x;this.comma=t;this.precision=A;this.type=c}function ld(b){return b}function Ca(b){return ci=Bl(b),a.format=ci.format,a.formatPrefix=
ci.formatPrefix,ci}function T(){this.reset()}function ee(b,c,d){var g=b.s=c+d,l=g-c;b.t=c-(g-l)+(d-l)}function ua(b){return 1<b?0:-1>b?Ma:Math.acos(b)}function V(b){return 1<b?hb:-1>b?-hb:Math.asin(b)}function fe(b){return(b=ea(b/2))*b}function Ia(){}function Fd(b,c){b&&Cl.hasOwnProperty(b.type)&&Cl[b.type](b,c)}function gc(b,c,d){var g=-1,l=b.length-d;for(c.lineStart();++g<l;)d=b[g],c.point(d[0],d[1],d[2]);c.lineEnd()}function xc(b,c){var d=-1,g=b.length;for(c.polygonStart();++d<g;)gc(b[d],c,1);
c.polygonEnd()}function ef(){ff.point=gf}function md(){yc(Dl,El)}function gf(b,c){ff.point=yc;Dl=b;El=c;b*=ra;c*=ra;uj=b;vj=na(c=c/2+di);wj=ea(c)}function yc(b,c){b*=ra;c*=ra;c=c/2+di;var d=b-uj,g=0<=d?1:-1,l=g*d,d=na(c),a=ea(c),x=wj*a,t=vj*d+x*na(l),g=x*g*ea(l);ei.add(zc(g,t));uj=b;vj=d;wj=a}function Kb(b){return[zc(b[1],b[0]),V(b[2])]}function Ac(b){var c=b[0];b=b[1];var d=na(b);return[d*na(c),d*ea(c),ea(b)]}function Lb(b,c){return b[0]*c[0]+b[1]*c[1]+b[2]*c[2]}function nd(b,c){return[b[1]*c[2]-
b[2]*c[1],b[2]*c[0]-b[0]*c[2],b[0]*c[1]-b[1]*c[0]]}function hc(b,c){b[0]+=c[0];b[1]+=c[1];b[2]+=c[2]}function Mb(b,c){return[b[0]*c,b[1]*c,b[2]*c]}function Gd(b){var c=Bb(b[0]*b[0]+b[1]*b[1]+b[2]*b[2]);b[0]/=c;b[1]/=c;b[2]/=c}function ic(b,c){Bf.push(qf=[kb=b,ob=b]);c<Hd&&(Hd=c);c>ge&&(ge=c)}function De(b,c){var d=Ac([b*ra,c*ra]);if(Eg){var g=nd(Eg,d),g=nd([g[1],-g[0],0],g);Gd(g);var g=Kb(g),l,a=b-Yf,x=0<a?1:-1,t=g[0]*Za*x,a=180<Pa(a);a^(x*Yf<t&&t<x*b)?(l=g[1]*Za,l>ge&&(ge=l)):(t=(t+360)%360-180,
a^(x*Yf<t&&t<x*b)?(l=-g[1]*Za,l<Hd&&(Hd=l)):(c<Hd&&(Hd=c),c>ge&&(ge=c)));a?b<Yf?Va(kb,b)>Va(kb,ob)&&(ob=b):Va(b,ob)>Va(kb,ob)&&(kb=b):ob>=kb?(b<kb&&(kb=b),b>ob&&(ob=b)):b>Yf?Va(kb,b)>Va(kb,ob)&&(ob=b):Va(b,ob)>Va(kb,ob)&&(kb=b)}else Bf.push(qf=[kb=b,ob=b]);c<Hd&&(Hd=c);c>ge&&(ge=c);Eg=d;Yf=b}function Bc(){rf.point=De}function Cc(){qf[0]=kb;qf[1]=ob;rf.point=ic;Eg=null}function Ee(b,c){if(Eg){var d=b-Yf;hh.add(180<Pa(d)?d+(0<d?360:-360):d)}else Fl=b,Gl=c;ff.point(b,c);De(b,c)}function od(){ff.lineStart()}
function hf(){Ee(Fl,Gl);ff.lineEnd();Pa(hh)>qa&&(kb=-(ob=180));qf[0]=kb;qf[1]=ob;Eg=null}function Va(b,c){return 0>(c-=b)?c+360:c}function Zf(b,c){return b[0]-c[0]}function Cf(b,c){return b[0]<=b[1]?b[0]<=c&&c<=b[1]:c<b[0]||b[1]<c}function wd(b,c){b*=ra;c*=ra;var d=na(c);Fe(d*na(b),d*ea(b),ea(c))}function Fe(b,c,d){++ih;fi+=(b-fi)/ih;gi+=(c-gi)/ih;hi+=(d-hi)/ih}function Id(){Ge.point=$f}function $f(b,c){b*=ra;c*=ra;var d=na(c);Dc=d*na(b);Ec=d*ea(b);Fc=ea(c);Ge.point=ag;Fe(Dc,Ec,Fc)}function ag(b,
c){b*=ra;c*=ra;var d=na(c),g=d*na(b),d=d*ea(b),l=ea(c),a=zc(Bb((a=Ec*l-Fc*d)*a+(a=Fc*g-Dc*l)*a+(a=Dc*d-Ec*g)*a),Dc*g+Ec*d+Fc*l);ii+=a;ji+=a*(Dc+(Dc=g));ki+=a*(Ec+(Ec=d));li+=a*(Fc+(Fc=l));Fe(Dc,Ec,Fc)}function Jd(){Ge.point=wd}function bg(){Ge.point=cg}function he(){Df(Hl,Il);Ge.point=wd}function cg(b,c){Hl=b;Il=c;b*=ra;c*=ra;Ge.point=Df;var d=na(c);Dc=d*na(b);Ec=d*ea(b);Fc=ea(c);Fe(Dc,Ec,Fc)}function Df(b,c){b*=ra;c*=ra;var d=na(c),g=d*na(b),d=d*ea(b),l=ea(c),a=Ec*l-Fc*d,x=Fc*g-Dc*l,t=Dc*d-Ec*g,
A=Bb(a*a+x*x+t*t),D=Dc*g+Ec*d+Fc*l,n=A&&-V(A)/A,A=zc(A,D);xj+=n*a;yj+=n*x;zj+=n*t;ii+=A;ji+=A*(Dc+(Dc=g));ki+=A*(Ec+(Ec=d));li+=A*(Fc+(Fc=l));Fe(Dc,Ec,Fc)}function xd(b,c){return[b>Ma?b-yd:b<-Ma?b+yd:b,c]}function sf(b,c,d){return(b%=yd)?c||d?Jl(Ef(b),Ff(c,d)):Ef(b):c||d?Ff(c,d):xd}function Kd(b){return function(c,d){return c+=b,[c>Ma?c-yd:c<-Ma?c+yd:c,d]}}function Ef(b){var c=Kd(b);return c.invert=Kd(-b),c}function Ff(b,c){function d(b,c){var d=na(c),n=na(b)*d,d=ea(b)*d,q=ea(c),k=q*g+n*l;return[zc(d*
a-k*x,n*g-q*l),V(k*a+d*x)]}var g=na(b),l=ea(b),a=na(c),x=ea(c);return d.invert=function(b,c){var d=na(c),n=na(b)*d,d=ea(b)*d,q=ea(c),k=q*a-d*x;return[zc(d*a+q*x,n*g+k*l),V(k*g-n*l)]},d}function Ld(b,c,d,g,l,a){if(d){var q=na(c),t=ea(c);d*=g;for(null==l?(l=c+g*yd,a=c-d/2):(l=Gf(q,l),a=Gf(q,a),(0<g?l<a:l>a)&&(l+=g*yd));0<g?l>a:l<a;l-=d)c=Kb([q,-t*na(l),-t*ea(l)]),b.point(c[0],c[1])}}function Gf(b,c){c=Ac(c);c[0]-=b;Gd(c);var d=ua(-c[1]);return((0>-c[2]?-d:d)+yd-qa)%yd}function Ga(b,c,d,g){this.x=b;
this.z=c;this.o=d;this.e=g;this.v=!1;this.n=this.p=null}function la(b){if(c=b.length){for(var c,d,g=0,l=b[0];++g<c;)l.n=d=b[g],d.p=l,l=d;l.n=d=b[0];d.p=l}}function jf(b,c,d,g){function l(l,q,n,r){var k=0,v=0;if(null==l||(k=a(l,n))!==(v=a(q,n))||0>t(l,q)^0<n){do r.point(0===k||3===k?b:d,1<k?g:c);while((k=(k+n+4)%4)!==v)}else r.point(q[0],q[1])}function a(g,l){return Pa(g[0]-b)<qa?0<l?0:3:Pa(g[0]-d)<qa?0<l?2:1:Pa(g[1]-c)<qa?0<l?1:0:0<l?3:2}function x(b,c){return t(b.x,c.x)}function t(b,c){var d=a(b,
1),g=a(c,1);return d!==g?d-g:0===d?c[1]-b[1]:1===d?b[0]-c[0]:2===d?b[1]-c[1]:c[0]-b[0]}return function(a){function q(e,l){b<=e&&e<=d&&c<=l&&l<=g&&z.point(e,l)}function n(l,a){var n=b<=l&&l<=d&&c<=a&&a<=g;if(k&&t.push([l,a]),h)A=l,M=a,ca=n,h=!1,n&&(z.lineStart(),z.point(l,a));else if(n&&e)z.point(l,a);else{var q=[f=Math.max(mi,Math.min(jh,f)),L=Math.max(mi,Math.min(jh,L))],r=[l=Math.max(mi,Math.min(jh,l)),a=Math.max(mi,Math.min(jh,a))];lp(q,r,b,c,d,g)?(e||(z.lineStart(),z.point(q[0],q[1])),z.point(r[0],
r[1]),n||z.lineEnd(),w=!1):n&&(z.lineStart(),z.point(l,a),w=!1)}f=l;L=a;e=n}var r,k,t,A,M,ca,f,L,e,h,w,z=a,u=Kl(),B={point:q,lineStart:function(){B.point=n;k&&k.push(t=[]);h=!0;e=!1;f=L=NaN},lineEnd:function(){r&&(n(A,M),ca&&e&&u.rejoin(),r.push(u.result()));B.point=q;e&&z.lineEnd()},polygonStart:function(){z=u;r=[];k=[];w=!0},polygonEnd:function(){for(var c,d=c=0,e=k.length;d<e;++d)for(var n,q,h=k[d],u=1,v=h.length,B=h[0],A=B[0],B=B[1];u<v;++u)n=A,q=B,B=h[u],A=B[0],B=B[1],q<=g?B>g&&(A-n)*(g-q)>(B-
q)*(b-n)&&++c:B<=g&&(A-n)*(g-q)<(B-q)*(b-n)&&--c;d=w&&c;e=(r=Aj(r)).length;(d||e)&&(a.polygonStart(),d&&(a.lineStart(),l(null,null,1,a),a.lineEnd()),e&&Ll(r,x,c,l,a),a.polygonEnd());z=a;r=k=t=null}};return B}}function Ba(){Fg.point=Fg.lineEnd=Ia}function oa(b,c){b*=ra;c*=ra;Bj=b;ni=ea(c);oi=na(c);Fg.point=Hf}function Hf(b,c){b*=ra;c*=ra;var d=ea(c),g=na(c),l=Pa(b-Bj),a=na(l),l=ea(l),l=g*l,x=oi*d-ni*g*a,a=ni*d+oi*g*a;Cj.add(zc(Bb(l*l+x*x),a));Bj=b;ni=d;oi=g}function Md(b,c,d){var g=He(b,c-qa,d).concat(c);
return function(b){return g.map(function(c){return[b,c]})}}function If(b,c,d){var g=He(b,c-qa,d).concat(c);return function(b){return g.map(function(c){return[c,b]})}}function Nd(){function b(){return{type:"MultiLineString",coordinates:c()}}function c(){return He(pi(a/ca)*ca,l,ca).map(k).concat(He(pi(D/f)*f,A,f).map(v)).concat(He(pi(g/E)*E,d,E).filter(function(b){return Pa(b%ca)>qa}).map(n)).concat(He(pi(t/M)*M,x,M).filter(function(b){return Pa(b%f)>qa}).map(r))}var d,g,l,a,x,t,A,D,n,r,k,v,E=10,M=
E,ca=90,f=360,L=2.5;return b.lines=function(){return c().map(function(b){return{type:"LineString",coordinates:b}})},b.outline=function(){return{type:"Polygon",coordinates:[k(a).concat(v(A).slice(1),k(l).reverse().slice(1),v(D).reverse().slice(1))]}},b.extent=function(c){return arguments.length?b.extentMajor(c).extentMinor(c):b.extentMinor()},b.extentMajor=function(c){return arguments.length?(a=+c[0][0],l=+c[1][0],D=+c[0][1],A=+c[1][1],a>l&&(c=a,a=l,l=c),D>A&&(c=D,D=A,A=c),b.precision(L)):[[a,D],[l,
A]]},b.extentMinor=function(c){return arguments.length?(g=+c[0][0],d=+c[1][0],t=+c[0][1],x=+c[1][1],g>d&&(c=g,g=d,d=c),t>x&&(c=t,t=x,x=c),b.precision(L)):[[g,t],[d,x]]},b.step=function(c){return arguments.length?b.stepMajor(c).stepMinor(c):b.stepMinor()},b.stepMajor=function(c){return arguments.length?(ca=+c[0],f=+c[1],b):[ca,f]},b.stepMinor=function(c){return arguments.length?(E=+c[0],M=+c[1],b):[E,M]},b.precision=function(c){return arguments.length?(L=+c,n=Md(t,x,90),r=If(g,d,L),k=Md(D,A,90),v=
If(a,l,L),b):L},b.extentMajor([[-180,-90+qa],[180,90-qa]]).extentMinor([[-180,-80-qa],[180,80+qa]])}function dg(){tf.point=eg}function eg(b,c){tf.point=Od;Ml=Dj=b;Nl=Ej=c}function Od(b,c){Fj.add(Ej*b-Dj*c);Dj=b;Ej=c}function fg(){Od(Ml,Nl)}function Nb(b,c){Gj+=b;Hj+=c;++kh}function Jf(){ie.point=gg}function gg(b,c){ie.point=je;Nb(kf=b,lf=c)}function je(b,c){var d=b-kf,g=c-lf,d=Bb(d*d+g*g);qi+=d*(kf+b)/2;ri+=d*(lf+c)/2;Gg+=d;Nb(kf=b,lf=c)}function Kf(){ie.point=Nb}function ke(){ie.point=hg}function ig(){Pd(Ol,
Pl)}function hg(b,c){ie.point=Pd;Nb(Ol=kf=b,Pl=lf=c)}function Pd(b,c){var d=b-kf,g=c-lf,d=Bb(d*d+g*g);qi+=d*(kf+b)/2;ri+=d*(lf+c)/2;Gg+=d;d=lf*b-kf*c;Ij+=d*(kf+b);Jj+=d*(lf+c);lh+=3*d;Nb(kf=b,lf=c)}function Lf(b){this._context=b}function le(b,c){mh.point=Mf;Ql=nh=b;Rl=oh=c}function Mf(b,c){nh-=b;oh-=c;Kj.add(Bb(nh*nh+oh*oh));nh=b;oh=c}function Nf(){this._string=[]}function Qd(b){return"m0,"+b+"a"+b+","+b+" 0 1,1 0,"+-2*b+"a"+b+","+b+" 0 1,1 0,"+2*b+"z"}function jg(b){return 1<b.length}function me(b,
c){return(0>(b=b.x)[0]?b[1]-hb-qa:hb-b[1])-(0>(c=c.x)[0]?c[1]-hb-qa:hb-c[1])}function mf(b){return function(c){var d=new uf,g;for(g in b)d[g]=b[g];return d.stream=c,d}}function uf(){}function jc(b,c,d){var g=c[1][0]-c[0][0],l=c[1][1]-c[0][1],a=b.clipExtent&&b.clipExtent();b.scale(150).translate([0,0]);null!=a&&b.clipExtent(null);Ie(d,b.stream(si));var x=si.result();d=Math.min(g/(x[1][0]-x[0][0]),l/(x[1][1]-x[0][1]));g=+c[0][0]+(g-d*(x[1][0]+x[0][0]))/2;c=+c[0][1]+(l-d*(x[1][1]+x[0][1]))/2;return null!=
a&&b.clipExtent(a),b.scale(150*d).translate([g,c])}function kg(b){return mf({point:function(c,d){c=b(c,d);this.stream.point(c[0],c[1])}})}function ne(b,c){function d(g,l,a,x,t,A,D,n,r,k,v,E,M,ca){var q=D-g,L=n-l,e=q*q+L*L;if(e>4*c&&M--){var h=x+k,w=t+v,z=A+E,u=Bb(h*h+w*w+z*z),B=V(z/=u),F=Pa(Pa(z)-1)<qa||Pa(a-r)<qa?(a+r)/2:zc(w,h),I=b(F,B),B=I[0],I=I[1],Ta=B-g,Ha=I-l,de=L*Ta-q*Ha;(de*de/e>c||.3<Pa((q*Ta+L*Ha)/e-.5)||x*k+t*v+A*E<mp)&&(d(g,l,a,x,t,A,B,I,F,h/=u,w/=u,z,M,ca),ca.point(B,I),d(B,I,F,h,w,
z,D,n,r,k,v,E,M,ca))}}return function(c){function g(d,e){d=b(d,e);c.point(d[0],d[1])}function a(){L=NaN;u.point=x;c.lineStart()}function x(g,l){var a=Ac([g,l]),k=b(g,l);d(L,e,f,h,w,z,L=k[0],e=k[1],f=g,h=a[0],w=a[1],z=a[2],Sl,c);c.point(L,e)}function t(){u.point=g;c.lineEnd()}function A(){a();u.point=D;u.lineEnd=n}function D(b,c){x(r=b,c);k=L;v=e;E=h;M=w;ca=z;u.point=x}function n(){d(L,e,f,h,w,z,k,v,r,E,M,ca,Sl,c);u.lineEnd=t;t()}var r,k,v,E,M,ca,f,L,e,h,w,z,u={point:g,lineStart:a,lineEnd:t,polygonStart:function(){c.polygonStart();
u.lineStart=A},polygonEnd:function(){c.polygonEnd();u.lineStart=a}};return u}}function zd(b){return vf(function(){return b})()}function vf(b){function c(b){return b=D(b[0]*ra,b[1]*ra),[b[0]*M+x,t-b[1]*M]}function d(b){return b=D.invert((b[0]-x)/M,(t-b[1])/M),b&&[b[0]*Za,b[1]*Za]}function g(b,c){return b=a(b,c),[b[0]*M+x,t-b[1]*M]}function l(){D=Jl(A=sf(h,w,z),a);var b=a(L,e);return x=ca-b[0]*M,t=f+b[1]*M,v=E=null,c}var a,x,t,A,D,n,r,k,v,E,M=150,ca=480,f=250,L=0,e=0,h=0,w=0,z=0,u=null,B=Tl,F=null,
I=lg,Ta=.5,Ha=Ul(g,Ta);return c.stream=function(b){return v&&E===b?v:v=np(B(A,Ha(I(E=b))))},c.clipAngle=function(b){return arguments.length?(B=+b?op(u=b*ra,6*ra):(u=null,Tl),v=E=null,c):u*Za},c.clipExtent=function(b){return arguments.length?(I=null==b?(F=n=r=k=null,lg):jf(F=+b[0][0],n=+b[0][1],r=+b[1][0],k=+b[1][1]),v=E=null,c):null==F?null:[[F,n],[r,k]]},c.scale=function(b){return arguments.length?(M=+b,l()):M},c.translate=function(b){return arguments.length?(ca=+b[0],f=+b[1],l()):[ca,f]},c.center=
function(b){return arguments.length?(L=b[0]%360*ra,e=b[1]%360*ra,l()):[L*Za,e*Za]},c.rotate=function(b){return arguments.length?(h=b[0]%360*ra,w=b[1]%360*ra,z=2<b.length?b[2]%360*ra:0,l()):[h*Za,w*Za,z*Za]},c.precision=function(b){return arguments.length?(Ha=Ul(g,Ta=b*b),v=E=null,c):Bb(Ta)},c.fitExtent=function(b,d){return jc(c,b,d)},c.fitSize=function(b,d){return jc(c,[[0,0],b],d)},function(){return a=b.apply(this,arguments),c.invert=a.invert&&d,l()}}function Ad(b){var c=0,d=Ma/3,g=vf(b);b=g(c,d);
return b.parallels=function(b){return arguments.length?g(c=b[0]*ra,d=b[1]*ra):[c*Za,d*Za]},b}function mg(b){function c(b,c){return[b*d,ea(c)/d]}var d=na(b);return c.invert=function(b,c){return[b/d,V(c*d)]},c}function Rd(b,c){function d(b,c){var d=Bb(a-2*l*ea(c))/l;return[d*ea(b*=l),x-d*na(b)]}var g=ea(b),l=(g+ea(c))/2;if(Pa(l)<qa)return mg(b);var a=1+g*(2*l-g),x=Bb(a)/l;return d.invert=function(b,c){var d=x-c;return[zc(b,Pa(d))/l*ph(d),V((a-(b*b+d*d)*l*l)/(2*l))]},d}function ng(b){var c=b.length;
return{point:function(d,g){for(var l=-1;++l<c;)b[l].point(d,g)},sphere:function(){for(var d=-1;++d<c;)b[d].sphere()},lineStart:function(){for(var d=-1;++d<c;)b[d].lineStart()},lineEnd:function(){for(var d=-1;++d<c;)b[d].lineEnd()},polygonStart:function(){for(var d=-1;++d<c;)b[d].polygonStart()},polygonEnd:function(){for(var d=-1;++d<c;)b[d].polygonEnd()}}}function Of(b){return function(c,d){var g=na(c),l=na(d),g=b(g*l);return[g*l*ea(c),g*ea(d)]}}function Gc(b){return function(c,d){var g=Bb(c*c+d*
d),l=b(g),a=ea(l),l=na(l);return[zc(c*a,g*l),V(g&&d*a/g)]}}function nf(b,c){return[b,ti(Hg((hb+c)/2))]}function Sd(b){var c,d=zd(b),g=d.scale,l=d.translate,a=d.clipExtent;return d.scale=function(b){return arguments.length?(g(b),c&&d.clipExtent(null),d):g()},d.translate=function(b){return arguments.length?(l(b),c&&d.clipExtent(null),d):l()},d.clipExtent=function(b){if(!arguments.length)return c?null:a();if(c=null==b){var q=Ma*g(),x=l();b=[[x[0]-q,x[1]-q],[x[0]+q,x[1]+q]]}return a(b),d},d.clipExtent(null)}
function Pf(b,c){function d(b,c){0<a?c<-hb+qa&&(c=-hb+qa):c>hb-qa&&(c=hb-qa);var d=a/Lj(Hg((hb+c)/2),l);return[d*ea(l*b),a-d*na(l*b)]}var g=na(b),l=b===c?ea(b):ti(g/na(c))/ti(Hg((hb+c)/2)/Hg((hb+b)/2)),a=g*Lj(Hg((hb+b)/2),l)/l;return l?(d.invert=function(b,c){var d=a-c,g=ph(l)*Bb(b*b+d*d);return[zc(b,Pa(d))/l*ph(d),2*Ig(Lj(a/g,1/l))-hb]},d):nf}function Je(b,c){return[b,c]}function Td(b,c){function d(b,c){var d=q-c,g=a*b;return[d*ea(g),q-d*na(g)]}var g=na(b),a=b===c?ea(b):(g-na(c))/(c-b),q=g/a+b;return Pa(a)<
qa?Je:(d.invert=function(b,c){var d=q-c;return[zc(b,Pa(d))/a*ph(d),q-ph(a)*Bb(b*b+d*d)]},d)}function wf(b,c){var d=na(c),g=na(b)*d;return[d*ea(b)/g,ea(c)/g]}function og(b,c,d,g){return 1===b&&1===c&&0===d&&0===g?lg:mf({point:function(a,q){this.stream.point(a*b+d,q*c+g)}})}function Jg(b,c){return[na(c)*ea(b),ea(c)]}function Kg(b,c){var d=na(c),g=1+na(b)*d;return[d*ea(b)/g,ea(c)/g]}function Mj(b,c){return[ti(Hg((hb+c)/2)),-b]}function pp(b,c){return b.parent===c.parent?1:2}function qp(b,c){return b+
c.x}function rp(b,c){return Math.max(b,c.y)}function sp(b){for(var c;c=b.children;)b=c[0];return b}function tp(b){for(var c;c=b.children;)b=c[c.length-1];return b}function up(b){var c=0,d=b.children,g=d&&d.length;if(g)for(;0<=--g;)c+=d[g].value;else c=1;b.value=c}function Nj(b,c){var d,g,a,q,x,t=new Lg(b),A=+b.value&&(t.value=b.value),D=[t];for(null==c&&(c=vp);d=D.pop();)if(A&&(d.value=+d.data.value),(a=c(d.data))&&(x=a.length))for(d.children=Array(x),q=x-1;0<=q;--q)D.push(g=d.children[q]=new Lg(a[q])),
g.parent=d,g.depth=d.depth+1;return t.eachBefore(Vl)}function vp(b){return b.children}function wp(b){b.data=b.data.data}function Vl(b){var c=0;do b.height=c;while((b=b.parent)&&b.height<++c)}function Lg(b){this.data=b;this.depth=this.height=0;this.parent=null}function xp(b){this._=b;this.next=null}function Wl(b,c){var d,g,a,q=null,x=b.head;switch(c.length){case 1:d=c[0];d={x:d.x,y:d.y,r:d.r};break;case 2:a=c[0];var t=c[1];d=a.x;g=a.y;a=a.r;var A=t.x,D=t.y,t=t.r,n=A-d,r=D-g,k=t-a,v=Math.sqrt(n*n+r*
r);d={x:(d+A+n/v*k)/2,y:(g+D+r/v*k)/2,r:(v+a+t)/2};break;case 3:a=c[0];D=c[1];A=c[2];d=a.x;g=a.y;a=a.r;var r=D.x,k=D.y,E=D.r,n=A.x,v=A.y,M=A.r,A=2*(d-r),t=2*(g-k),D=2*(E-a),E=d*d+g*g-a*a-r*r-k*k+E*E,r=2*(d-n),ca=2*(g-v),k=2*(M-a),M=d*d+g*g-a*a-n*n-v*v+M*M,v=r*t-A*ca,n=(t*M-ca*E)/v-d,t=(ca*D-t*k)/v,E=(r*E-A*M)/v-g,A=(A*k-r*D)/v,D=t*t+A*A-1,r=2*(n*t+E*A+a);a=(-r-Math.sqrt(r*r-4*D*(n*n+E*E-a*a)))/(2*D);d={x:n+t*a+d,y:E+A*a+g,r:a}}for(;x;){a=x._;g=x.next;if(A=d)A=a.x-d.x,D=a.y-d.y,t=d.r-a.r,A=t*t+1E-6>
A*A+D*D;A?q=x:(q?(b.tail=q,q.next=null):b.head=b.tail=null,c.push(a),d=Wl(b,c),c.pop(),b.head?(x.next=b.head,b.head=x):(x.next=null,b.head=b.tail=x),q=b.tail,q.next=g);x=g}return b.tail=q,d}function Xl(b,c,d){var g=b.x,a=b.y,q=c.r+d.r;b=b.r+d.r;var x=c.x-g;c=c.y-a;var t=x*x+c*c;if(t){var A=.5+((b*=b)-(q*=q))/(2*t),q=Math.sqrt(Math.max(0,2*q*(b+t)-(b-=t)*b-q*q))/(2*t);d.x=g+A*x+q*c;d.y=a+A*c-q*x}else d.x=g+b,d.y=a}function Yl(b,c){var d=c.x-b.x,g=c.y-b.y,a=b.r+c.r;return a*a-1E-6>d*d+g*g}function Zl(b,
c){for(var d=b._.r;b!==c;)d+=2*(b=b.next)._.r;return d-c._.r}function $l(b,c,d){var g=b._;b=b.next._;var a=g.r+b.r;c=(g.x*b.r+b.x*g.r)/a-c;d=(g.y*b.r+b.y*g.r)/a-d;return c*c+d*d}function ui(b){this._=b;this.previous=this.next=null}function am(b){if(!(a=b.length))return 0;var c,d,g,a;if(c=b[0],c.x=0,c.y=0,!(1<a))return c.r;if(d=b[1],c.x=-d.r,d.x=c.r,d.y=0,!(2<a))return c.r+d.r;Xl(d,c,g=b[2]);var q,x,t,A,D;A=c.r*c.r;t=d.r*d.r;D=g.r*g.r;var n=A+t+D,r=A*c.x+t*d.x+D*g.x,k=A*c.y+t*d.y+D*g.y;c=new ui(c);
d=new ui(d);g=new ui(g);c.next=g.previous=d;d.next=c.previous=g;g.next=d.previous=c;t=3;a:for(;t<a;++t){Xl(c._,d._,g=b[t]);g=new ui(g);A=d.next;D=c.previous;q=d._.r;x=c._.r;do if(q<=x){if(Yl(A._,g._)){q+c._.r+d._.r>Zl(A,d)?c=A:d=A;c.next=d;d.previous=c;--t;continue a}q+=A._.r;A=A.next}else{if(Yl(D._,g._)){Zl(c,D)>x+c._.r+d._.r?c=D:d=D;c.next=d;d.previous=c;--t;continue a}x+=D._.r;D=D.previous}while(A!==D.next);g.previous=c;g.next=d;c.next=d.previous=d=g;n+=D=g._.r*g._.r;r+=D*g._.x;k+=D*g._.y;for(A=
$l(c,q=r/n,x=k/n);(g=g.next)!==d;)(D=$l(g,q,x))<A&&(c=g,A=D);d=c.next}c=[d._];for(g=d;(g=g.next)!==d;)c.push(g._);g=bm(c);for(t=0;t<a;++t)c=b[t],c.x-=g.x,c.y-=g.y;return g.r}function vi(b){if("function"!=typeof b)throw Error();return b}function pg(){return 0}function yp(b){return Math.sqrt(b.value)}function cm(b){return function(c){c.children||(c.r=Math.max(0,+b(c)||0))}}function Oj(b,c){return function(d){if(g=d.children){var g,a,q,x=g.length,t=b(d)*c||0;if(t)for(a=0;a<x;++a)g[a].r+=t;if(q=am(g),
t)for(a=0;a<x;++a)g[a].r-=t;d.r=q+t}}}function dm(b){return function(c){var d=c.parent;c.r*=b;d&&(c.x=d.x+b*c.x,c.y=d.y+b*c.y)}}function zp(b){return b.id}function Ap(b){return b.parentId}function Bp(b,c){return b.parent===c.parent?1:2}function Pj(b){var c=b.children;return c?c[0]:b.t}function Qj(b){var c=b.children;return c?c[c.length-1]:b.t}function wi(b,c){this._=b;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=c}function Cp(b){for(var c,d,g,
a=new wi(b,0),q=[a];b=q.pop();)if(d=b._.children)for(b.children=Array(c=d.length),g=c-1;0<=g;--g)q.push(c=b.children[g]=new wi(d[g],g)),c.parent=b;return(a.parent=new wi(null,0)).children=[a],a}function em(b,c,d,g,a,q){for(var l,t,A,D,n,r,k,v,E,M,ca=[],f=c.children,L=l=0,e=f.length,h=c.value;l<e;){c=a-d;A=q-g;do D=f[L++].value;while(!D&&L<e);n=r=D;E=Math.max(A/c,c/A)/(h*b);M=D*D*E;for(v=Math.max(r/M,M/n);L<e;++L){if(D+=t=f[L].value,t<n&&(n=t),t>r&&(r=t),M=D*D*E,k=Math.max(r/M,M/n),k>v){D-=t;break}v=
k}ca.push(l={value:D,dice:c<A,children:f.slice(l,L)});l.dice?qh(l,d,g,a,h?g+=A*D/h:q):xi(l,d,g,h?d+=c*D/h:a,q);h-=D;l=L}return ca}function Dp(b,c){return b[0]-c[0]||b[1]-c[1]}function fm(b){for(var c=b.length,d=[0,1],g=2,a=2;a<c;++a){for(;1<g&&0>=Ep(b[d[g-2]],b[d[g-1]],b[a]);)--g;d[g++]=a}return d.slice(0,g)}function Rj(b){if(!(1<=b))throw Error();this._size=b;this._call=this._error=null;this._tasks=[];this._data=[];this._waiting=this._active=this._ended=this._start=0}function gm(b){if(!b._start)try{for(;b._start=
b._waiting&&b._active<b._size;){var c=b._ended+b._active,d=b._tasks[c],g=d.length-1,a=d[g];d[g]=Fp(b,c);--b._waiting;++b._active;d=a.apply(null,d);b._tasks[c]&&(b._tasks[c]=d||Gp)}}catch(q){if(b._tasks[b._ended+b._active-1])Sj(b,q);else if(!b._data)throw q;}}function Fp(b,c){return function(d,g){b._tasks[c]&&(--b._active,++b._ended,b._tasks[c]=null,null==b._error&&(null!=d?Sj(b,d):(b._data[c]=g,b._waiting?gm(b):yi(b))))}}function Sj(b,c){var d,g=b._tasks.length;b._error=c;b._data=void 0;for(b._waiting=
NaN;0<=--g;)if((d=b._tasks[g])&&(b._tasks[g]=null,d.abort))try{d.abort()}catch(l){}b._active=NaN;yi(b)}function yi(b){if(!b._active&&b._call){var c=b._data;b._data=void 0;b._call(b._error,c)}}function hm(b){return new Rj(arguments.length?+b:1/0)}function Hp(b){return function(c,d){b(null==c?d:null)}}function Ip(b,c){return function(d){return b(d.responseText,c)}}function Tj(b){function c(c){var l=c+"",q=d.get(l);if(!q){if(a!==Uj)return a;d.set(l,q=g.push(c))}return b[(q-1)%b.length]}var d=cb(),g=
[],a=Uj;return b=null==b?[]:Qf.call(b),c.domain=function(b){if(!arguments.length)return g.slice();g=[];d=cb();for(var a,l,q=-1,D=b.length;++q<D;)d.has(l=(a=b[q])+"")||d.set(l,g.push(a));return c},c.range=function(d){return arguments.length?(b=Qf.call(d),c):b.slice()},c.unknown=function(b){return arguments.length?(a=b,c):a},c.copy=function(){return Tj().domain(g).range(b).unknown(a)},c}function Vj(){function b(){var b=a().length,g=x[1]<x[0],l=x[g-0],E=x[1-g];c=(E-l)/Math.max(1,b-A+2*D);t&&(c=Math.floor(c));
l+=(E-l-c*(b-A))*n;d=c*(1-A);t&&(l=Math.round(l),d=Math.round(d));b=He(b).map(function(b){return l+c*b});return q(g?b.reverse():b)}var c,d,g=Tj().unknown(void 0),a=g.domain,q=g.range,x=[0,1],t=!1,A=0,D=0,n=.5;return delete g.unknown,g.domain=function(c){return arguments.length?(a(c),b()):a()},g.range=function(c){return arguments.length?(x=[+c[0],+c[1]],b()):x.slice()},g.rangeRound=function(c){return x=[+c[0],+c[1]],t=!0,b()},g.bandwidth=function(){return d},g.step=function(){return c},g.round=function(c){return arguments.length?
(t=!!c,b()):t},g.padding=function(c){return arguments.length?(A=D=Math.max(0,Math.min(1,c)),b()):A},g.paddingInner=function(c){return arguments.length?(A=Math.max(0,Math.min(1,c)),b()):A},g.paddingOuter=function(c){return arguments.length?(D=Math.max(0,Math.min(1,c)),b()):D},g.align=function(c){return arguments.length?(n=Math.max(0,Math.min(1,c)),b()):n},g.copy=function(){return Vj().domain(a()).range(x).round(t).paddingInner(A).paddingOuter(D).align(n)},b()}function im(b){var c=b.copy;return b.padding=
b.paddingOuter,delete b.paddingInner,delete b.paddingOuter,b.copy=function(){return im(c())},b}function Wj(b,c){return(c-=b=+b)?function(d){return(d-b)/c}:Xj(c)}function Jp(b){return function(c,d){var g=b(c=+c,d=+d);return function(b){return b<=c?0:b>=d?1:g(b)}}}function Kp(b){return function(c,d){var g=b(c=+c,d=+d);return function(b){return 0>=b?c:1<=b?d:g(b)}}}function Lp(b,c,d,g){var a=b[0];b=b[1];var q=c[0];c=c[1];return b<a?(a=d(b,a),q=g(c,q)):(a=d(a,b),q=g(q,c)),function(b){return q(a(b))}}
function Mp(b,c,d,g){var a=Math.min(b.length,c.length)-1,q=Array(a),x=Array(a),t=-1;for(b[a]<b[0]&&(b=b.slice().reverse(),c=c.slice().reverse());++t<a;)q[t]=d(b[t],b[t+1]),x[t]=g(c[t],c[t+1]);return function(c){var d=qg(b,c,1,a)-1;return x[d](q[d](c))}}function zi(b,c){return c.domain(b.domain()).range(b.range()).interpolate(b.interpolate()).clamp(b.clamp())}function Ai(b,c){function d(){return a=2<Math.min(t.length,A.length)?Mp:Lp,q=x=null,g}function g(c){return(q||(q=a(t,A,n?Jp(b):b,D)))(+c)}var a,
q,x,t=jm,A=jm,D=gh,n=!1;return g.invert=function(b){return(x||(x=a(A,t,Wj,n?Kp(c):c)))(+b)},g.domain=function(b){return arguments.length?(t=Yj.call(b,km),d()):t.slice()},g.range=function(b){return arguments.length?(A=Qf.call(b),d()):A.slice()},g.rangeRound=function(b){return A=Qf.call(b),D=lm,d()},g.clamp=function(b){return arguments.length?(n=!!b,d()):n},g.interpolate=function(b){return arguments.length?(D=b,d()):D},d()}function rh(b){var c=b.domain;return b.ticks=function(b){var d=c();return Bi(d[0],
d[d.length-1],null==b?10:b)},b.tickFormat=function(b,g){var d;a:{var q=c();d=g;var x,t=q[0],A=q[q.length-1],q=f(t,A,null==b?10:b);switch(d=Ci(null==d?",f":d),d.type){case "s":t=Math.max(Math.abs(t),Math.abs(A));d=(null!=d.precision||isNaN(x=mm(q,t))||(d.precision=x),a.formatPrefix(d,t));break a;case "":case "e":case "g":case "p":case "r":null!=d.precision||isNaN(x=nm(q,Math.max(Math.abs(t),Math.abs(A))))||(d.precision=x-("e"===d.type));break;case "f":case "%":null!=d.precision||isNaN(x=om(q))||(d.precision=
x-2*("%"===d.type))}d=a.format(d)}return d},b.nice=function(d){var g=c(),a=g.length-1;d=null==d?10:d;var q=g[0],x=g[a],t=f(q,x,d);return t&&(t=f(Math.floor(q/t)*t,Math.ceil(x/t)*t,d),g[0]=Math.floor(q/t)*t,g[a]=Math.ceil(x/t)*t,c(g)),b},b}function pm(){var b=Ai(Wj,Ed);return b.copy=function(){return zi(b,pm())},rh(b)}function qm(){function b(b){return+b}var c=[0,1];return b.invert=b,b.domain=b.range=function(d){return arguments.length?(c=Yj.call(d,km),b):c.slice()},b.copy=function(){return qm().domain(c)},
rh(b)}function Np(b,c){return(c=Math.log(c/b))?function(d){return Math.log(d/b)/c}:Xj(c)}function Op(b,c){return 0>b?function(d){return-Math.pow(-c,d)*Math.pow(-b,1-d)}:function(d){return Math.pow(c,d)*Math.pow(b,1-d)}}function Pp(b){return isFinite(b)?+("1e"+b):0>b?0:b}function rm(b){return 10===b?Pp:b===Math.E?Math.exp:function(c){return Math.pow(b,c)}}function sm(b){return b===Math.E?Math.log:10===b&&Math.log10||2===b&&Math.log2||(b=Math.log(b),function(c){return Math.log(c)/b})}function tm(b){return function(c){return-b(-c)}}
function um(){function b(){return l=sm(g),q=rm(g),0>d()[0]&&(l=tm(l),q=tm(q)),c}var c=Ai(Np,Op).domain([1,10]),d=c.domain,g=10,l=sm(10),q=rm(10);return c.base=function(c){return arguments.length?(g=+c,b()):g},c.domain=function(c){return arguments.length?(d(c),b()):d()},c.ticks=function(b){var c;c=d();var a=c[0],x=c[c.length-1];(c=x<a)&&(v=a,a=x,x=v);var n,r,k,v=l(a),E=l(x);n=null==b?10:+b;b=[];if(!(g%1)&&E-v<n)if(v=Math.round(v)-1,E=Math.round(E)+1,0<a)for(;v<E;++v)for(r=1,n=q(v);r<g;++r){if(k=n*
r,!(k<a)){if(k>x)break;b.push(k)}}else for(;v<E;++v)for(r=g-1,n=q(v);1<=r;--r){if(k=n*r,!(k<a)){if(k>x)break;b.push(k)}}else b=Bi(v,E,Math.min(E-v,n)).map(q);return c?b.reverse():b},c.tickFormat=function(b,d){if(null==d&&(d=10===g?".0e":","),"function"!=typeof d&&(d=a.format(d)),b===1/0)return d;null==b&&(b=10);var t=Math.max(1,g*b/c.ticks().length);return function(b){var c=b/q(Math.round(l(b)));return c*g<g-.5&&(c*=g),c<=t?d(b):""}},c.nice=function(){return d(vm(d(),{floor:function(b){return q(Math.floor(l(b)))},
ceil:function(b){return q(Math.ceil(l(b)))}}))},c.copy=function(){return zi(c,um().base(g))},c}function Mg(b,c){return 0>b?-Math.pow(-b,c):Math.pow(b,c)}function Zj(){var b=1,c=Ai(function(c,d){return(d=Mg(d,b)-(c=Mg(c,b)))?function(g){return(Mg(g,b)-c)/d}:Xj(d)},function(c,d){return d=Mg(d,b)-(c=Mg(c,b)),function(g){return Mg(c+d*g,1/b)}}),d=c.domain;return c.exponent=function(c){return arguments.length?(b=+c,d(d())):b},c.copy=function(){return zi(c,Zj().exponent(b))},rh(c)}function wm(){function b(){var b=
0,l=Math.max(1,g.length);for(a=Array(l-1);++b<l;)a[b-1]=sh(d,b/l);return c}function c(b){if(!isNaN(b=+b))return g[qg(a,b)]}var d=[],g=[],a=[];return c.invertExtent=function(b){b=g.indexOf(b);return 0>b?[NaN,NaN]:[0<b?a[b-1]:d[0],b<a.length?a[b]:d[d.length-1]]},c.domain=function(c){if(!arguments.length)return d.slice();d=[];for(var g,a=0,l=c.length;a<l;++a)g=c[a],null==g||isNaN(g=+g)||d.push(g);return d.sort(Wf),b()},c.range=function(c){return arguments.length?(g=Qf.call(c),b()):g.slice()},c.quantiles=
function(){return a.slice()},c.copy=function(){return wm().domain(d).range(g)},c}function xm(){function b(b){if(b<=b)return x[qg(q,b,0,a)]}function c(){var c=-1;for(q=Array(a);++c<a;)q[c]=((c+1)*g-(c-a)*d)/(a+1);return b}var d=0,g=1,a=1,q=[.5],x=[0,1];return b.domain=function(b){return arguments.length?(d=+b[0],g=+b[1],c()):[d,g]},b.range=function(b){return arguments.length?(a=(x=Qf.call(b)).length-1,c()):x.slice()},b.invertExtent=function(b){b=x.indexOf(b);return 0>b?[NaN,NaN]:1>b?[d,q[0]]:b>=a?
[q[a-1],g]:[q[b-1],q[b]]},b.copy=function(){return xm().domain([d,g]).range(x)},rh(b)}function ym(){function b(b){if(b<=b)return d[qg(c,b,0,g)]}var c=[.5],d=[0,1],g=1;return b.domain=function(a){return arguments.length?(c=Qf.call(a),g=Math.min(c.length,d.length-1),b):c.slice()},b.range=function(a){return arguments.length?(d=Qf.call(a),g=Math.min(c.length,d.length-1),b):d.slice()},b.invertExtent=function(b){b=d.indexOf(b);return[c[b-1],c[b]]},b.copy=function(){return ym().domain(c).range(d)},b}function Cb(b,
c,d,g){function a(c){return b(c=new Date(+c)),c}return a.floor=a,a.ceil=function(d){return b(d=new Date(d-1)),c(d,1),b(d),d},a.round=function(b){var c=a(b),d=a.ceil(b);return b-c<d-b?c:d},a.offset=function(b,d){return c(b=new Date(+b),null==d?1:Math.floor(d)),b},a.range=function(d,g,l){var q=[];if(d=a.ceil(d),l=null==l?1:Math.floor(l),!(d<g&&0<l))return q;do q.push(new Date(+d));while(c(d,l),b(d),d<g);return q},a.filter=function(d){return Cb(function(c){if(c>=c)for(;b(c),!d(c);)c.setTime(c-1)},function(b,
a){if(b>=b)for(;0<=--a;)for(;c(b,1),!d(b););})},d&&(a.count=function(c,a){return ak.setTime(+c),bk.setTime(+a),b(ak),b(bk),Math.floor(d(ak,bk))},a.every=function(b){return b=Math.floor(b),isFinite(b)&&0<b?1<b?a.filter(g?function(c){return 0===g(c)%b}:function(c){return 0===a.count(0,c)%b}):a:null}),a}function rg(b){return Cb(function(c){c.setDate(c.getDate()-(c.getDay()+7-b)%7);c.setHours(0,0,0,0)},function(b,d){b.setDate(b.getDate()+7*d)},function(b,d){return(d-b-(d.getTimezoneOffset()-b.getTimezoneOffset())*
xf)/zm})}function sg(b){return Cb(function(c){c.setUTCDate(c.getUTCDate()-(c.getUTCDay()+7-b)%7);c.setUTCHours(0,0,0,0)},function(b,d){b.setUTCDate(b.getUTCDate()+7*d)},function(b,d){return(d-b)/zm})}function Qp(b){if(0<=b.y&&100>b.y){var c=new Date(-1,b.m,b.d,b.H,b.M,b.S,b.L);return c.setFullYear(b.y),c}return new Date(b.y,b.m,b.d,b.H,b.M,b.S,b.L)}function ck(b){if(0<=b.y&&100>b.y){var c=new Date(Date.UTC(-1,b.m,b.d,b.H,b.M,b.S,b.L));return c.setUTCFullYear(b.y),c}return new Date(Date.UTC(b.y,b.m,
b.d,b.H,b.M,b.S,b.L))}function dk(b){return{y:b,m:0,d:1,H:0,M:0,S:0,L:0}}function Am(b){function c(b,c){return function(d){var e,a,g,k=[],l=-1,n=0,h=b.length;for(d instanceof Date||(d=new Date(+d));++l<h;)37===b.charCodeAt(l)&&(k.push(b.slice(n,l)),null!=(a=Bm[e=b.charAt(++l)])?e=b.charAt(++l):a="e"===e?" ":"0",(g=c[e])&&(e=g(d,a)),k.push(e),n=l+1);return k.push(b.slice(n,l)),k.join("")}}function d(b,c){return function(d){var e=dk(1900);if(a(e,b,d+="",0)!=d.length)return null;if("p"in e&&(e.H=e.H%
12+12*e.p),"W"in e||"U"in e)"w"in e||(e.w="W"in e?1:0),d="Z"in e?ck(dk(e.y)).getUTCDay():c(dk(e.y)).getDay(),e.m=0,e.d="W"in e?(e.w+6)%7+7*e.W-(d+5)%7:e.w+7*e.U-(d+6)%7;return"Z"in e?(e.H+=e.Z/100|0,e.M+=e.Z%100,ck(e)):c(e)}}function a(b,c,d,e){for(var a,g,k=0,l=c.length,n=d.length;k<l;){if(e>=n)return-1;if(a=c.charCodeAt(k++),37===a){if(a=c.charAt(k++),g=B[a in Bm?c.charAt(k++):a],!g||0>(e=g(b,d,e)))return-1}else if(a!=d.charCodeAt(e++))return-1}return e}var l=b.dateTime,q=b.date,x=b.time,t=b.periods,
A=b.days,D=b.shortDays,n=b.months,r=b.shortMonths,k=th(t),v=uh(t),E=th(A),M=uh(A),ca=th(D),f=uh(D),L=th(n),e=uh(n),h=th(r),w=uh(r),z={a:function(b){return D[b.getDay()]},A:function(b){return A[b.getDay()]},b:function(b){return r[b.getMonth()]},B:function(b){return n[b.getMonth()]},c:null,d:Cm,e:Cm,H:Rp,I:Sp,j:Tp,L:Up,m:Vp,M:Wp,p:function(b){return t[+(12<=b.getHours())]},S:Xp,U:Yp,w:Zp,W:$p,x:null,X:null,y:aq,Y:bq,Z:cq,"%":Dm},u={a:function(b){return D[b.getUTCDay()]},A:function(b){return A[b.getUTCDay()]},
b:function(b){return r[b.getUTCMonth()]},B:function(b){return n[b.getUTCMonth()]},c:null,d:Em,e:Em,H:dq,I:eq,j:fq,L:gq,m:hq,M:iq,p:function(b){return t[+(12<=b.getUTCHours())]},S:jq,U:kq,w:lq,W:mq,x:null,X:null,y:nq,Y:oq,Z:pq,"%":Dm},B={a:function(b,c,d){return(c=ca.exec(c.slice(d)))?(b.w=f[c[0].toLowerCase()],d+c[0].length):-1},A:function(b,c,d){return(c=E.exec(c.slice(d)))?(b.w=M[c[0].toLowerCase()],d+c[0].length):-1},b:function(b,c,d){return(c=h.exec(c.slice(d)))?(b.m=w[c[0].toLowerCase()],d+c[0].length):
-1},B:function(b,c,d){return(c=L.exec(c.slice(d)))?(b.m=e[c[0].toLowerCase()],d+c[0].length):-1},c:function(b,c,d){return a(b,l,c,d)},d:Fm,e:Fm,H:Gm,I:Gm,j:qq,L:rq,m:sq,M:tq,p:function(b,c,d){return(c=k.exec(c.slice(d)))?(b.p=v[c[0].toLowerCase()],d+c[0].length):-1},S:uq,U:vq,w:wq,W:xq,x:function(b,c,d){return a(b,q,c,d)},X:function(b,c,d){return a(b,x,c,d)},y:yq,Y:zq,Z:Aq,"%":Bq};return z.x=c(q,z),z.X=c(x,z),z.c=c(l,z),u.x=c(q,u),u.X=c(x,u),u.c=c(l,u),{format:function(b){var d=c(b+="",z);return d.toString=
function(){return b},d},parse:function(b){var c=d(b+="",Qp);return c.toString=function(){return b},c},utcFormat:function(b){var d=c(b+="",u);return d.toString=function(){return b},d},utcParse:function(b){var c=d(b,ck);return c.toString=function(){return b},c}}}function Ya(b,c,d){var a=0>b?"-":"";b=(a?-b:b)+"";var l=b.length;return a+(l<d?Array(d-l+1).join(c)+b:b)}function Cq(b){return b.replace(Dq,"\\$&")}function th(b){return new RegExp("^(?:"+b.map(Cq).join("|")+")","i")}function uh(b){for(var c=
{},d=-1,a=b.length;++d<a;)c[b[d].toLowerCase()]=d;return c}function wq(b,c,d){return(c=oe.exec(c.slice(d,d+1)))?(b.w=+c[0],d+c[0].length):-1}function vq(b,c,d){return(c=oe.exec(c.slice(d)))?(b.U=+c[0],d+c[0].length):-1}function xq(b,c,d){return(c=oe.exec(c.slice(d)))?(b.W=+c[0],d+c[0].length):-1}function zq(b,c,d){return(c=oe.exec(c.slice(d,d+4)))?(b.y=+c[0],d+c[0].length):-1}function yq(b,c,d){return(c=oe.exec(c.slice(d,d+2)))?(b.y=+c[0]+(68<+c[0]?1900:2E3),d+c[0].length):-1}function Aq(b,c,d){return(c=
/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(c.slice(d,d+6)))?(b.Z=c[1]?0:-(c[2]+(c[3]||"00")),d+c[0].length):-1}function sq(b,c,d){return(c=oe.exec(c.slice(d,d+2)))?(b.m=c[0]-1,d+c[0].length):-1}function Fm(b,c,d){return(c=oe.exec(c.slice(d,d+2)))?(b.d=+c[0],d+c[0].length):-1}function qq(b,c,d){return(c=oe.exec(c.slice(d,d+3)))?(b.m=0,b.d=+c[0],d+c[0].length):-1}function Gm(b,c,d){return(c=oe.exec(c.slice(d,d+2)))?(b.H=+c[0],d+c[0].length):-1}function tq(b,c,d){return(c=oe.exec(c.slice(d,d+2)))?(b.M=+c[0],
d+c[0].length):-1}function uq(b,c,d){return(c=oe.exec(c.slice(d,d+2)))?(b.S=+c[0],d+c[0].length):-1}function rq(b,c,d){return(c=oe.exec(c.slice(d,d+3)))?(b.L=+c[0],d+c[0].length):-1}function Bq(b,c,d){return(b=Eq.exec(c.slice(d,d+1)))?d+b[0].length:-1}function Cm(b,c){return Ya(b.getDate(),c,2)}function Rp(b,c){return Ya(b.getHours(),c,2)}function Sp(b,c){return Ya(b.getHours()%12||12,c,2)}function Tp(b,c){return Ya(1+Di.count(tg(b),b),c,3)}function Up(b,c){return Ya(b.getMilliseconds(),c,3)}function Vp(b,
c){return Ya(b.getMonth()+1,c,2)}function Wp(b,c){return Ya(b.getMinutes(),c,2)}function Xp(b,c){return Ya(b.getSeconds(),c,2)}function Yp(b,c){return Ya(vh.count(tg(b),b),c,2)}function Zp(b){return b.getDay()}function $p(b,c){return Ya(ek.count(tg(b),b),c,2)}function aq(b,c){return Ya(b.getFullYear()%100,c,2)}function bq(b,c){return Ya(b.getFullYear()%1E4,c,4)}function cq(b){b=b.getTimezoneOffset();return(0<b?"-":(b*=-1,"+"))+Ya(b/60|0,"0",2)+Ya(b%60,"0",2)}function Em(b,c){return Ya(b.getUTCDate(),
c,2)}function dq(b,c){return Ya(b.getUTCHours(),c,2)}function eq(b,c){return Ya(b.getUTCHours()%12||12,c,2)}function fq(b,c){return Ya(1+Ei.count(ug(b),b),c,3)}function gq(b,c){return Ya(b.getUTCMilliseconds(),c,3)}function hq(b,c){return Ya(b.getUTCMonth()+1,c,2)}function iq(b,c){return Ya(b.getUTCMinutes(),c,2)}function jq(b,c){return Ya(b.getUTCSeconds(),c,2)}function kq(b,c){return Ya(wh.count(ug(b),b),c,2)}function lq(b){return b.getUTCDay()}function mq(b,c){return Ya(fk.count(ug(b),b),c,2)}
function nq(b,c){return Ya(b.getUTCFullYear()%100,c,2)}function oq(b,c){return Ya(b.getUTCFullYear()%1E4,c,4)}function pq(){return"+0000"}function Dm(){return"%"}function Hm(b){return Ng=Am(b),a.timeFormat=Ng.format,a.timeParse=Ng.parse,a.utcFormat=Ng.utcFormat,a.utcParse=Ng.utcParse,Ng}function Fq(b){return b.toISOString()}function Gq(b){b=new Date(b);return isNaN(b)?null:b}function Hq(b){return new Date(b)}function Iq(b){return b instanceof Date?+b:+new Date(+b)}function gk(b,c,d,a,l,q,x,t,A){function g(g){return(x(g)<
g?E:q(g)<g?M:l(g)<g?ca:a(g)<g?m:c(g)<g?d(g)<g?L:e:b(g)<g?h:w)(g)}function n(c,d,e,a){if(null==c&&(c=10),"number"==typeof c){var g=Math.abs(e-d)/c,k=hk(function(b){return b[2]}).right(z,g);k===z.length?(a=f(d/ik,e/ik,c),c=b):k?(k=z[g/z[k-1][2]<z[k][2]/g?k-1:k],a=k[1],c=k[0]):(a=f(d,e,c),c=t)}return null==a?c:c.every(a)}var r=Ai(Wj,Ed),k=r.invert,v=r.domain,E=A(".%L"),M=A(":%S"),ca=A("%I:%M"),m=A("%I %p"),L=A("%a %d"),e=A("%b %d"),h=A("%B"),w=A("%Y"),z=[[x,1,xh],[x,5,5*xh],[x,15,15*xh],[x,30,30*xh],
[q,1,yh],[q,5,5*yh],[q,15,15*yh],[q,30,30*yh],[l,1,zh],[l,3,3*zh],[l,6,6*zh],[l,12,12*zh],[a,1,Ah],[a,2,2*Ah],[d,1,Jq],[c,1,Im],[c,3,3*Im],[b,1,ik]];return r.invert=function(b){return new Date(k(b))},r.domain=function(b){return arguments.length?v(Yj.call(b,Iq)):v().map(Hq)},r.ticks=function(b,c){var d,e=v(),a=e[0],e=e[e.length-1],g=e<a;return g&&(d=a,a=e,e=d),d=n(b,a,e,c),d=d?d.range(a,e+1):[],g?d.reverse():d},r.tickFormat=function(b,c){return null==c?g:A(c)},r.nice=function(b,c){var d=v();return(b=
n(b,d[0],d[d.length-1],c))?v(vm(d,b)):r},r.copy=function(){return zi(r,gk(b,c,d,a,l,q,x,t,A))},r}function Fi(b){var c=b.length;return function(d){return b[Math.max(0,Math.min(c-1,Math.floor(d*c)))]}}function Jm(b){function c(c){c=(c-d)/(a-d);return b(l?Math.max(0,Math.min(1,c)):c)}var d=0,a=1,l=!1;return c.domain=function(b){return arguments.length?(d=+b[0],a=+b[1],c):[d,a]},c.clamp=function(b){return arguments.length?(l=!!b,c):l},c.interpolator=function(d){return arguments.length?(b=d,c):b},c.copy=
function(){return Jm(b).domain([d,a]).clamp(l)},rh(c)}function Kq(b){return b.innerRadius}function Lq(b){return b.outerRadius}function Mq(b){return b.startAngle}function Nq(b){return b.endAngle}function Oq(b){return b&&b.padAngle}function Km(b){return 1<=b?Gi:-1>=b?-Gi:Math.asin(b)}function Hi(b,c,d,a,l,q,x){var g=b-d,A=c-a;x=(x?q:-q)/Math.sqrt(g*g+A*A);var A=x*A,g=-x*g,D=b+A,n=c+g,r=d+A,k=a+g;d=(D+r)/2;a=(n+k)/2;c=r-D;b=k-n;x=c*c+b*b;q=l-q;var k=D*k-r*n,v=(0>b?-1:1)*Math.sqrt(Math.max(0,q*q*x-k*
k)),D=(k*b-c*v)/x,n=(-k*c-b*v)/x,r=(k*b+c*v)/x;c=(-k*c+b*v)/x;b=D-d;x=n-a;d=r-d;a=c-a;return b*b+x*x>d*d+a*a&&(D=r,n=c),{cx:D,cy:n,x01:-A,y01:-g,x11:D*(l/q-1),y11:n*(l/q-1)}}function Lm(b){this._context=b}function Mm(b){return b[0]}function Nm(b){return b[1]}function Om(b){this._curve=b}function jk(b){function c(c){return new Om(b(c))}return c._curve=b,c}function Bh(b){var c=b.curve;return b.angle=b.x,delete b.x,b.radius=b.y,delete b.y,b.curve=function(b){return arguments.length?c(jk(b)):c()._curve},
b}function Ii(b,c,d){b._context.bezierCurveTo((2*b._x0+b._x1)/3,(2*b._y0+b._y1)/3,(b._x0+2*b._x1)/3,(b._y0+2*b._y1)/3,(b._x0+4*b._x1+c)/6,(b._y0+4*b._y1+d)/6)}function Ji(b){this._context=b}function Pm(b){this._context=b}function Qm(b){this._context=b}function Rm(b,c){this._basis=new Ji(b);this._beta=c}function Ki(b,c,d){b._context.bezierCurveTo(b._x1+b._k*(b._x2-b._x0),b._y1+b._k*(b._y2-b._y0),b._x2+b._k*(b._x1-c),b._y2+b._k*(b._y1-d),b._x2,b._y2)}function kk(b,c){this._context=b;this._k=(1-c)/6}
function lk(b,c){this._context=b;this._k=(1-c)/6}function mk(b,c){this._context=b;this._k=(1-c)/6}function nk(b,c,d){var a=b._x1,l=b._y1,q=b._x2,x=b._y2;if(b._l01_a>Hc)var t=2*b._l01_2a+3*b._l01_a*b._l12_a+b._l12_2a,A=3*b._l01_a*(b._l01_a+b._l12_a),a=(a*t-b._x0*b._l12_2a+b._x2*b._l01_2a)/A,l=(l*t-b._y0*b._l12_2a+b._y2*b._l01_2a)/A;b._l23_a>Hc&&(t=2*b._l23_2a+3*b._l23_a*b._l12_a+b._l12_2a,A=3*b._l23_a*(b._l23_a+b._l12_a),q=(q*t+b._x1*b._l23_2a-c*b._l12_2a)/A,x=(x*t+b._y1*b._l23_2a-d*b._l12_2a)/A);
b._context.bezierCurveTo(a,l,q,x,b._x2,b._y2)}function Sm(b,c){this._context=b;this._alpha=c}function Tm(b,c){this._context=b;this._alpha=c}function Um(b,c){this._context=b;this._alpha=c}function Vm(b){this._context=b}function Wm(b,c,d){var a=b._x1-b._x0;c-=b._x1;var l=(b._y1-b._y0)/(a||0>c&&-0);b=(d-b._y1)/(c||0>a&&-0);return((0>l?-1:1)+(0>b?-1:1))*Math.min(Math.abs(l),Math.abs(b),.5*Math.abs((l*c+b*a)/(a+c)))||0}function Xm(b,c){var d=b._x1-b._x0;return d?(3*(b._y1-b._y0)/d-c)/2:c}function ok(b,
c,d){var a=b._x0,l=b._x1,q=b._y1,x=(l-a)/3;b._context.bezierCurveTo(a+x,b._y0+x*c,l-x,q-x*d,l,q)}function Li(b){this._context=b}function Ym(b){this._context=new Zm(b)}function Zm(b){this._context=b}function $m(b){this._context=b}function an(b){var c,d,a=b.length-1,l=Array(a),q=Array(a),x=Array(a);l[0]=0;q[0]=2;x[0]=b[0]+2*b[1];for(c=1;c<a-1;++c)l[c]=1,q[c]=4,x[c]=4*b[c]+2*b[c+1];l[a-1]=2;q[a-1]=7;x[a-1]=8*b[a-1]+b[a];for(c=1;c<a;++c)d=l[c]/q[c-1],q[c]-=d,x[c]-=d*x[c-1];l[a-1]=x[a-1]/q[a-1];for(c=
a-2;0<=c;--c)l[c]=(x[c]-l[c+1])/q[c];q[a-1]=(b[a]+l[a-1])/2;for(c=0;c<a-1;++c)q[c]=2*b[c+1]-l[c+1];return[l,q]}function Mi(b,c){this._context=b;this._t=c}function Pq(b,c){return b[c]}function bn(b){for(var c,d=0,a=-1,l=b.length;++a<l;)(c=+b[a][1])&&(d+=c);return d}function Qq(b){return b[0]}function Rq(b){return b[1]}function Ni(){this._=null}function Oi(b){b.U=b.C=b.L=b.R=b.P=b.N=null}function Ch(b,c){var d=c.R,a=c.U;a?a.L===c?a.L=d:a.R=d:b._=d;d.U=a;c.U=d;c.R=d.L;c.R&&(c.R.U=c);d.L=c}function Dh(b,
c){var d=c.L,a=c.U;a?a.L===c?a.L=d:a.R=d:b._=d;d.U=a;c.U=d;c.L=d.R;c.L&&(c.L.U=c);d.R=c}function cn(b){for(;b.L;)b=b.L;return b}function Eh(b,c,d,a){var g=[null,null],q=Ic.push(g)-1;return g.left=b,g.right=c,d&&Pi(g,b,c,d),a&&Pi(g,c,b,a),Ud[b.index].halfedges.push(q),Ud[c.index].halfedges.push(q),g}function Fh(b,c,d){c=[c,d];return c.left=b,c}function Pi(b,c,d,a){b[0]||b[1]?b.left===d?b[1]=a:b[0]=a:(b[0]=a,b.left=c,b.right=d)}function Sq(b,c,d,a,l){var g,x=b[0],t=b[1],A=x[0],x=x[1],D=0,n=1,r=t[0]-
A,t=t[1]-x;if(g=c-A,r||!(0<g)){if(g/=r,0>r){if(g<D)return;g<n&&(n=g)}else if(0<r){if(g>n)return;g>D&&(D=g)}if(g=a-A,r||!(0>g)){if(g/=r,0>r){if(g>n)return;g>D&&(D=g)}else if(0<r){if(g<D)return;g<n&&(n=g)}if(g=d-x,t||!(0<g)){if(g/=t,0>t){if(g<D)return;g<n&&(n=g)}else if(0<t){if(g>n)return;g>D&&(D=g)}if(g=l-x,t||!(0>g)){if(g/=t,0>t){if(g>n)return;g>D&&(D=g)}else if(0<t){if(g<D)return;g<n&&(n=g)}return!(0<D||1>n)||(0<D&&(b[0]=[A+D*r,x+D*t]),1>n&&(b[1]=[A+n*r,x+n*t]),!0)}}}}}function Tq(b,c,d,a,l){var g=
b[1];if(g)return!0;var x,t,A=b[0],D=b.left,n=b.right,g=D[0],D=D[1],r=n[0],n=n[1];t=(g+r)/2;if(n===D){if(t<c||t>=a)return;if(g>r){if(A){if(A[1]>=l)return}else A=[t,d];g=[t,l]}else{if(A){if(A[1]<d)return}else A=[t,l];g=[t,d]}}else if(x=(g-r)/(n-D),t=(D+n)/2-x*t,-1>x||1<x)if(g>r){if(A){if(A[1]>=l)return}else A=[(d-t)/x,d];g=[(l-t)/x,l]}else{if(A){if(A[1]<d)return}else A=[(l-t)/x,l];g=[(d-t)/x,d]}else if(D<n){if(A){if(A[0]>=a)return}else A=[c,x*c+t];g=[a,x*a+t]}else{if(A){if(A[0]<c)return}else A=[a,x*
a+t];g=[c,x*c+t]}return b[0]=A,b[1]=g,!0}function Uq(b,c){var d=b.site,a=c.left,l=c.right;return d===l&&(l=a,a=d),l?Math.atan2(l[1]-a[1],l[0]-a[0]):(d===a?(a=c[1],l=c[0]):(a=c[0],l=c[1]),Math.atan2(a[0]-l[0],l[1]-a[1]))}function dn(b,c){return c[+(c.left!==b.site)]}function Vq(){for(var b,c,d,a,l=0,q=Ud.length;l<q;++l)if((b=Ud[l])&&(a=(c=b.halfedges).length)){var x=Array(a),t=Array(a);for(d=0;d<a;++d)x[d]=d,t[d]=Uq(b,Ic[c[d]]);x.sort(function(b,c){return t[c]-t[b]});for(d=0;d<a;++d)t[d]=c[x[d]];for(d=
0;d<a;++d)c[d]=t[d]}}function Wq(){Oi(this);this.x=this.y=this.arc=this.site=this.cy=null}function Og(b){var c=b.P,d=b.N;if(c&&d){var a=c.site,c=b.site,l=d.site;if(a!==l){var d=c[0],q=c[1],x=a[0]-d,t=a[1]-q,a=l[0]-d,A=l[1]-q,l=2*(x*A-t*a);if(!(l>=-Xq)){var D=x*x+t*t,n=a*a+A*A,t=(A*D-t*n)/l,a=(x*n-a*D)/l,x=en.pop()||new Wq;x.arc=b;x.site=c;x.x=t+d;x.y=(x.cy=a+q)+Math.sqrt(t*t+a*a);b.circle=x;b=null;for(c=Gh._;c;)if(x.y<c.y||x.y===c.y&&x.x<=c.x){if(!c.L){b=c.P;break}c=c.L}else{if(!c.R){b=c;break}c=
c.R}Gh.insert(b,x);b||(pk=x)}}}}function Pg(b){var c=b.circle;c&&(c.P||(pk=c.N),Gh.remove(c),en.push(c),Oi(c),b.circle=null)}function Yq(){Oi(this);this.edge=this.site=this.circle=null}function fn(b){var c=gn.pop()||new Yq;return c.site=b,c}function qk(b){Pg(b);Qg.remove(b);gn.push(b);Oi(b)}function hn(b,c){var d=b.site,a=d[0],l=d[1],q=l-c;if(!q)return a;var x=b.P;if(!x)return-(1/0);var d=x.site,x=d[0],d=d[1],t=d-c;if(!t)return x;var A=x-a,D=1/q-1/t,n=A/t;return D?(-n+Math.sqrt(n*n-2*D*(A*A/(-2*t)-
d+t/2+l-q/2)))/D+a:(a+x)/2}function Zq(b,c){return c[1]-b[1]||c[0]-b[0]}function rk(b,c){var d,a,l,q=b.sort(Zq).pop();Ic=[];Ud=Array(b.length);Qg=new Ni;for(Gh=new Ni;;)if(l=pk,q&&(!l||q[1]<l.y||q[1]===l.y&&q[0]<l.x)){if(q[0]!==d||q[1]!==a){var x=void 0,t=void 0;a=d=void 0;for(var A=q,D=A[0],n=A[1],r=Qg._;r;)if(t=hn(r,n)-D,t>Ua)r=r.L;else{var k;var v=r;k=n;var E=v.N;E?k=hn(E,k):(v=v.site,k=v[1]===k?v[0]:1/0);if(x=D-k,!(x>Ua)){t>-Ua?(a=r.P,d=r):x>-Ua?(a=r,d=r.N):a=d=r;break}if(!r.R){a=r;break}r=r.R}Ud[A.index]=
{site:A,halfedges:[]};x=fn(A);if(Qg.insert(a,x),a||d)if(a===d)Pg(a),d=fn(a.site),Qg.insert(x,d),x.edge=d.edge=Eh(a.site,x.site),Og(a),Og(d);else if(d){Pg(a);Pg(d);t=a.site;n=t[0];r=t[1];k=A[0]-n;var v=A[1]-r,D=d.site,E=D[0]-n,M=D[1]-r,ca=2*(k*M-v*E),f=k*k+v*v,L=E*E+M*M,n=[(M*f-v*L)/ca+n,(k*L-E*f)/ca+r];Pi(d.edge,t,D,n);x.edge=Eh(t,A,null,n);d.edge=Eh(A,D,null,n);Og(a);Og(d)}else x.edge=Eh(a.site,x.site);d=q[0];a=q[1]}q=b.pop()}else{if(!l)break;D=l.arc;A=D.circle;t=A.x;n=A.cy;A=[t,n];k=D.P;r=D.N;x=
[D];qk(D);for(D=k;D.circle&&Math.abs(t-D.circle.x)<Ua&&Math.abs(n-D.circle.cy)<Ua;)k=D.P,x.unshift(D),qk(D),D=k;x.unshift(D);Pg(D);for(k=r;k.circle&&Math.abs(t-k.circle.x)<Ua&&Math.abs(n-k.circle.cy)<Ua;)r=k.N,x.push(k),qk(k),k=r;x.push(k);Pg(k);n=x.length;for(t=1;t<n;++t)k=x[t],D=x[t-1],Pi(k.edge,D.site,k.site,A);D=x[0];k=x[n-1];k.edge=Eh(D.site,k.site,null,A);Og(D);Og(k)}if(Vq(),c){A=+c[0][0];l=+c[0][1];q=+c[1][0];d=+c[1][1];var e;for(a=Ic.length;a--;)Tq(e=Ic[a],A,l,q,d)&&Sq(e,A,l,q,d)&&(Math.abs(e[0][0]-
e[1][0])>Ua||Math.abs(e[0][1]-e[1][1])>Ua)||delete Ic[a];var h,w;e=Ud.length;a=!0;for(x=0;x<e;++x)if(h=Ud[x]){w=h.site;D=h.halfedges;for(t=D.length;t--;)Ic[D[t]]||D.splice(t,1);t=0;for(n=D.length;t<n;)r=Ic[D[t]],k=r[+(r.left===h.site)],v=k[0],E=k[1],M=dn(h,Ic[D[++t%n]]),r=M[0],M=M[1],(Math.abs(v-r)>Ua||Math.abs(E-M)>Ua)&&(D.splice(t,0,Ic.push(Fh(w,k,Math.abs(v-A)<Ua&&d-E>Ua?[A,Math.abs(r-A)<Ua?M:d]:Math.abs(E-d)<Ua&&q-v>Ua?[Math.abs(M-d)<Ua?r:q,d]:Math.abs(v-q)<Ua&&E-l>Ua?[q,Math.abs(r-q)<Ua?M:l]:
Math.abs(E-l)<Ua&&v-A>Ua?[Math.abs(M-l)<Ua?r:A,l]:null))-1),++n);n&&(a=!1)}if(a){var z,u,B,t=1/0,x=0;for(a=null;x<e;++x)(h=Ud[x])&&(w=h.site,z=w[0]-A,u=w[1]-l,B=z*z+u*u,B<t&&(t=B,a=h));a&&(z=[A,l],u=[A,d],B=[q,d],l=[q,l],a.halfedges.push(Ic.push(Fh(w=a.site,z,u))-1,Ic.push(Fh(w,u,B))-1,Ic.push(Fh(w,B,l))-1,Ic.push(Fh(w,l,z))-1))}for(x=0;x<e;++x)(h=Ud[x])&&(h.halfedges.length||delete Ud[x])}this.edges=Ic;this.cells=Ud;Qg=Gh=Ic=Ud=null}function $q(b,c,d){this.target=b;this.type=c;this.transform=d}function yf(b,
c,d){this.k=b;this.x=c;this.y=d}function jn(b){return b.__zoom||sk}function ar(){return!a.event.button}function br(){var b,c,d=this;return d instanceof SVGElement?(d=d.ownerSVGElement||d,b=d.width.baseVal.value,c=d.height.baseVal.value):(b=d.clientWidth,c=d.clientHeight),[[0,0],[b,c]]}function kn(){return this.__zoom||sk}var Wf=function(b,c){return b<c?-1:b>c?1:b>=c?0:NaN},hk=function(b){return 1===b.length&&(b=N(b)),{left:function(c,d,a,l){null==a&&(a=0);for(null==l&&(l=c.length);a<l;){var g=a+l>>>
1;0>b(c[g],d)?a=g+1:l=g}return a},right:function(c,d,a,l){null==a&&(a=0);for(null==l&&(l=c.length);a<l;){var g=a+l>>>1;0<b(c[g],d)?l=g:a=g+1}return a}}},ln=hk(Wf),qg=ln.right,cr=ln.left,Rf=function(b){return null===b?NaN:+b},mn=function(b,c){var d,a,l=b.length,q=0,x=0,t=-1,A=0;if(null==c)for(;++t<l;)isNaN(d=Rf(b[t]))||(a=d-q,q+=a/++A,x+=a*(d-q));else for(;++t<l;)isNaN(d=Rf(c(b[t],t,b)))||(a=d-q,q+=a/++A,x+=a*(d-q));if(1<A)return x/(A-1)},nn=function(b,c){var d=mn(b,c);return d?Math.sqrt(d):d},on=
function(b,c){var d,a,l,q=-1,x=b.length;if(null==c){for(;++q<x;)if(null!=(a=b[q])&&a>=a){d=l=a;break}for(;++q<x;)null!=(a=b[q])&&(d>a&&(d=a),l<a&&(l=a))}else{for(;++q<x;)if(null!=(a=c(b[q],q,b))&&a>=a){d=l=a;break}for(;++q<x;)null!=(a=c(b[q],q,b))&&(d>a&&(d=a),l<a&&(l=a))}return[d,l]},pn=Array.prototype,dr=pn.slice,er=pn.map,tk=function(b){return function(){return b}},fr=function(b){return b},He=function(b,c,d){b=+b;c=+c;d=2>(l=arguments.length)?(c=b,b=0,1):3>l?1:+d;for(var a=-1,l=0|Math.max(0,Math.ceil((c-
b)/d)),q=Array(l);++a<l;)q[a]=b+a*d;return q},Lo=Math.sqrt(50),Mo=Math.sqrt(10),No=Math.sqrt(2),Bi=function(b,c,d){d=f(b,c,d);return He(Math.ceil(b/d)*d,Math.floor(c/d)*d+d/2,d)},qn=function(b){return Math.ceil(Math.log(b.length)/Math.LN2)+1},sh=function(b,c,d){if(null==d&&(d=Rf),a=b.length){if(0>=(c=+c)||2>a)return+d(b[0],0,b);if(1<=c)return+d(b[a-1],a-1,b);var a;c*=a-1;a=Math.floor(c);var l=+d(b[a],a,b);b=+d(b[a+1],a+1,b);return l+(b-l)*(c-a)}},Aj=function(b){var c,d,a,l=b.length;c=-1;for(var q=
0;++c<l;)q+=b[c].length;for(d=Array(q);0<=--l;)for(a=b[l],c=a.length;0<=--c;)d[--q]=a[c];return d},rn=function(b,c){var d,a,l=-1,q=b.length;if(null==c){for(;++l<q;)if(null!=(a=b[l])&&a>=a){d=a;break}for(;++l<q;)null!=(a=b[l])&&d>a&&(d=a)}else{for(;++l<q;)if(null!=(a=c(b[l],l,b))&&a>=a){d=a;break}for(;++l<q;)null!=(a=c(b[l],l,b))&&d>a&&(d=a)}return d},sn=function(b){if(!(l=b.length))return[];for(var c=-1,d=rn(b,J),a=Array(d);++c<d;)for(var l,q=-1,x=a[c]=Array(l);++q<l;)x[q]=b[q][c];return a},ij=Array.prototype.slice,
cl=function(b){return b},Qh=1,Rh=2,hj=3,ah=4,dl=1E-6,Oo={value:function(){}};Q.prototype=m.prototype={constructor:Q,on:function(b,c){var d,a=this._,l=P(b+"",a),q=-1,x=l.length;if(!(2>arguments.length)){if(null!=c&&"function"!=typeof c)throw Error("invalid callback: "+c);for(;++q<x;)if(d=(b=l[q]).type)a[d]=S(a[d],b.name,c);else if(null==c)for(d in a)a[d]=S(a[d],b.name,null);return this}for(;++q<x;){var t;if(t=d=(b=l[q]).type){a:{t=a[d];for(var A=0,D=t.length;A<D;++A)if((d=t[A]).name===b.name){d=d.value;
break a}d=void 0}t=d}if(t)return d}},copy:function(){var b={},c=this._,d;for(d in c)b[d]=c[d].slice();return new Q(b)},call:function(b,c){if(0<(d=arguments.length-2))for(var d,a,l=Array(d),q=0;q<d;++q)l[q]=arguments[q+2];if(!this._.hasOwnProperty(b))throw Error("unknown type: "+b);a=this._[b];q=0;for(d=a.length;q<d;++q)a[q].value.apply(c,l)},apply:function(b,c,d){if(!this._.hasOwnProperty(b))throw Error("unknown type: "+b);b=this._[b];for(var a=0,l=b.length;a<l;++a)b[a].value.apply(c,d)}};var jj=
"http://www.w3.org/1999/xhtml",uk={svg:"http://www.w3.org/2000/svg",xhtml:jj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Hh=function(b){var c=b+="",d=c.indexOf(":");return 0<=d&&"xmlns"!==(c=b.slice(0,d))&&(b=b.slice(d+1)),uk.hasOwnProperty(c)?{space:uk[c],local:b}:b},vk=function(b){b=Hh(b);return(b.local?ma:R)(b)},Po=0;$a.prototype=ga.prototype={constructor:$a,get:function(b){for(var c=this._;!(c in b);)if(!(b=b.parentNode))return;
return b[c]},set:function(b,c){return b[this._]=c},remove:function(b){return this._ in b&&delete b[this._]},toString:function(){return this._}};var tn=function(b){return function(){return this.matches(b)}};if("undefined"!=typeof document){var Ih=document.documentElement;if(!Ih.matches)var gr=Ih.webkitMatchesSelector||Ih.msMatchesSelector||Ih.mozMatchesSelector||Ih.oMatchesSelector,tn=function(b){return function(){return gr.call(this,b)}}}var wk=tn,el={};if(a.event=null,"undefined"!=typeof document)"onmouseenter"in
document.documentElement||(el={mouseenter:"mouseover",mouseleave:"mouseout"});var xk=function(){for(var b,c=a.event;b=c.sourceEvent;)c=b;return c},yk=function(b,c){var d=b.ownerSVGElement||b;if(d.createSVGPoint)return d=d.createSVGPoint(),d.x=c.clientX,d.y=c.clientY,d=d.matrixTransform(b.getScreenCTM().inverse()),[d.x,d.y];d=b.getBoundingClientRect();return[c.clientX-d.left-b.clientLeft,c.clientY-d.top-b.clientTop]},Af=function(b){var c=xk();return c.changedTouches&&(c=c.changedTouches[0]),yk(b,c)},
Qi=function(b){return null==b?Pb:function(){return this.querySelector(b)}},zk=function(b){return null==b?wb:function(){return this.querySelectorAll(b)}},un=function(b){return Array(b.length)};Wa.prototype={constructor:Wa,appendChild:function(b){return this._parent.insertBefore(b,this._next)},insertBefore:function(b,c){return this._parent.insertBefore(b,c)},querySelector:function(b){return this._parent.querySelector(b)},querySelectorAll:function(b){return this._parent.querySelectorAll(b)}};var hr=
function(b){return function(){return b}},fl="$",yg=function(b){return b.ownerDocument&&b.ownerDocument.defaultView||b.document&&b||b.defaultView};Qb.prototype={add:function(b){0>this._names.indexOf(b)&&(this._names.push(b),this._node.setAttribute("class",this._names.join(" ")))},remove:function(b){b=this._names.indexOf(b);0<=b&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(b){return 0<=this._names.indexOf(b)}};var kj=[null];Oa.prototype=bb.prototype=
{constructor:Oa,select:function(b){"function"!=typeof b&&(b=Qi(b));for(var c=this._groups,d=c.length,a=Array(d),l=0;l<d;++l)for(var q,x,t=c[l],A=t.length,D=a[l]=Array(A),n=0;n<A;++n)(q=t[n])&&(x=b.call(q,q.__data__,n,t))&&("__data__"in q&&(x.__data__=q.__data__),D[n]=x);return new Oa(a,this._parents)},selectAll:function(b){"function"!=typeof b&&(b=zk(b));for(var c=this._groups,d=c.length,a=[],l=[],q=0;q<d;++q)for(var x,t=c[q],A=t.length,D=0;D<A;++D)(x=t[D])&&(a.push(b.call(x,x.__data__,D,t)),l.push(x));
return new Oa(a,l)},filter:function(b){"function"!=typeof b&&(b=wk(b));for(var c=this._groups,d=c.length,a=Array(d),l=0;l<d;++l)for(var q,x=c[l],t=x.length,A=a[l]=[],D=0;D<t;++D)(q=x[D])&&b.call(q,q.__data__,D,x)&&A.push(q);return new Oa(a,this._parents)},data:function(b,c){if(!b)return v=Array(this.size()),D=-1,this.each(function(b){v[++D]=b}),v;var d=c?wa:va,a=this._parents,l=this._groups;"function"!=typeof b&&(b=hr(b));for(var q=l.length,x=Array(q),t=Array(q),A=Array(q),D=0;D<q;++D){var n=a[D],
r=l[D],k=r.length,v=b.call(n,n&&n.__data__,D,a),E=v.length,M=t[D]=Array(E),ca=x[D]=Array(E),k=A[D]=Array(k);d(n,r,M,ca,k,v,c);for(var f=k=0;k<E;++k)if(n=M[k]){for(k>=f&&(f=k+1);!(r=ca[f])&&++f<E;);n._next=r||null}}return x=new Oa(x,a),x._enter=t,x._exit=A,x},enter:function(){return new Oa(this._enter||this._groups.map(un),this._parents)},exit:function(){return new Oa(this._exit||this._groups.map(un),this._parents)},merge:function(b){var c=this._groups;b=b._groups;for(var d=c.length,a=Math.min(d,b.length),
l=Array(d),q=0;q<a;++q)for(var x,t=c[q],A=b[q],D=t.length,n=l[q]=Array(D),r=0;r<D;++r)(x=t[r]||A[r])&&(n[r]=x);for(;q<d;++q)l[q]=c[q];return new Oa(l,this._parents)},order:function(){for(var b=this._groups,c=-1,d=b.length;++c<d;)for(var a,l=b[c],q=l.length-1,x=l[q];0<=--q;)(a=l[q])&&(x&&x!==a.nextSibling&&x.parentNode.insertBefore(a,x),x=a);return this},sort:function(b){function c(c,d){return c&&d?b(c.__data__,d.__data__):!c-!d}b||(b=ja);for(var d=this._groups,a=d.length,l=Array(a),q=0;q<a;++q){for(var x,
t=d[q],A=t.length,D=l[q]=Array(A),n=0;n<A;++n)(x=t[n])&&(D[n]=x);D.sort(c)}return(new Oa(l,this._parents)).order()},call:function(){var b=arguments[0];return arguments[0]=this,b.apply(null,arguments),this},nodes:function(){var b=Array(this.size()),c=-1;return this.each(function(){b[++c]=this}),b},node:function(){for(var b=this._groups,c=0,d=b.length;c<d;++c)for(var a=b[c],l=0,q=a.length;l<q;++l){var x=a[l];if(x)return x}return null},size:function(){var b=0;return this.each(function(){++b}),b},empty:function(){return!this.node()},
each:function(b){for(var c=this._groups,d=0,a=c.length;d<a;++d)for(var l,q=c[d],x=0,t=q.length;x<t;++x)(l=q[x])&&b.call(l,l.__data__,x,q);return this},attr:function(b,c){var d=Hh(b);if(2>arguments.length){var a=this.node();return d.local?a.getAttributeNS(d.space,d.local):a.getAttribute(d)}return this.each((null==c?d.local?Z:Y:"function"==typeof c?d.local?Vd:kc:d.local?qe:qb)(d,c))},style:function(b,c,d){var a;return 1<arguments.length?this.each((null==c?re:"function"==typeof c?Wd:db)(b,c,null==d?
"":d)):yg(a=this.node()).getComputedStyle(a,null).getPropertyValue(b)},property:function(b,c){return 1<arguments.length?this.each((null==c?Eb:"function"==typeof c?Mc:Xd)(b,c)):this.node()[b]},classed:function(b,c){var d=(b+"").trim().split(/^|\s+/);if(2>arguments.length){for(var a=Ra(this.node()),l=-1,q=d.length;++l<q;)if(!a.contains(d[l]))return!1;return!0}return this.each(("function"==typeof c?xb:c?sd:ha)(d,c))},text:function(b){return arguments.length?this.each(null==b?aa:("function"==typeof b?
sb:Xa)(b)):this.node().textContent},html:function(b){return arguments.length?this.each(null==b?K:("function"==typeof b?Le:Na)(b)):this.node().innerHTML},raise:function(){return this.each(Sb)},lower:function(){return this.each(se)},append:function(b){var c="function"==typeof b?b:vk(b);return this.select(function(){return this.appendChild(c.apply(this,arguments))})},insert:function(b,c){var d="function"==typeof b?b:vk(b),a=null==c?Tb:"function"==typeof c?c:Qi(c);return this.select(function(){return this.insertBefore(d.apply(this,
arguments),a.apply(this,arguments)||null)})},remove:function(){return this.each(Ub)},datum:function(b){return arguments.length?this.property("__data__",b):this.node().__data__},on:function(b,c,d){var a,l,q=Lc(b+""),x=q.length;if(!(2>arguments.length)){t=c?pb:ab;null==d&&(d=!1);for(a=0;a<x;++a)this.each(t(q[a],c,d));return this}var t=this.node().__on;if(t)for(var A,D=0,n=t.length;D<n;++D)for(a=0,A=t[D];a<x;++a)if((l=q[a]).type===A.type&&l.name===A.name)return A.value},dispatch:function(b,c){return this.each(("function"==
typeof c?Bd:Vb)(b,c))}};var Cd=function(b){return"string"==typeof b?new Oa([[document.querySelector(b)]],[document.documentElement]):new Oa([[b]],kj)},Ri=function(b,c,d){3>arguments.length&&(d=c,c=xk().changedTouches);for(var a,l=0,q=c?c.length:0;l<q;++l)if((a=c[l]).identifier===d)return yk(b,a);return null},zg=function(){a.event.preventDefault();a.event.stopImmediatePropagation()},bi=function(b){var c=b.document.documentElement;b=Cd(b).on("dragstart.drag",zg,!0);"onselectstart"in c?b.on("selectstart.drag",
zg,!0):(c.__noselect=c.style.MozUserSelect,c.style.MozUserSelect="none")},Ak=function(b){return function(){return b}};Ob.prototype.on=function(){var b=this._.on.apply(this._,arguments);return b===this._?this:b};var Rg=function(b,c,d){b.prototype=c.prototype=d;d.constructor=b},Sg=1/.7,Qo=/^#([0-9a-f]{3})$/,Ro=/^#([0-9a-f]{6})$/,So=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,To=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
Uo=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Vo=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Wo=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,Xo=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,
gl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rg(tb,ib,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}});Rg(pa,vd,ud(tb,{brighter:function(b){return b=null==b?Sg:Math.pow(Sg,b),new pa(this.r*b,this.g*b,this.b*b,this.opacity)},darker:function(b){return b=null==b?.7:Math.pow(.7,b),new pa(this.r*b,this.g*b,this.b*b,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=
this.r&&255>=this.r&&0<=this.g&&255>=this.g&&0<=this.b&&255>=this.b&&0<=this.opacity&&1>=this.opacity},toString:function(){var b=this.opacity;return b=isNaN(b)?1:Math.max(0,Math.min(1,b)),(1===b?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===b?")":", "+b+")")}}));Rg(eb,Fb,ud(tb,{brighter:function(b){return b=null==b?Sg:Math.pow(Sg,b),new eb(this.h,this.s,this.l*b,this.opacity)},
darker:function(b){return b=null==b?.7:Math.pow(.7,b),new eb(this.h,this.s,this.l*b,this.opacity)},rgb:function(){var b=this.h%360+360*(0>this.h),c=isNaN(b)||isNaN(this.s)?0:this.s,d=this.l,c=d+(.5>d?d:1-d)*c,d=2*d-c;return new pa(te(240<=b?b-240:b+120,d,c),te(b,d,c),te(120>b?b+240:b-120,d,c),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity}}));var hl=Math.PI/180,nl=180/Math.PI,il=.95047,jl=1,kl=1.08883,ml=4/
29,Ag=6/29,ll=3*Ag*Ag,Yo=Ag*Ag*Ag;Rg(fb,Dd,ud(tb,{brighter:function(b){return new fb(this.l+18*(null==b?1:b),this.a,this.b,this.opacity)},darker:function(b){return new fb(this.l-18*(null==b?1:b),this.a,this.b,this.opacity)},rgb:function(){var b=(this.l+16)/116,c=isNaN(this.a)?b:b+this.a/500,d=isNaN(this.b)?b:b-this.b/200;return b=jl*Zd(b),c=il*Zd(c),d=kl*Zd(d),new pa(Zb(3.2404542*c-1.5371385*b-.4985314*d),Zb(-.969266*c+1.8760108*b+.041556*d),Zb(.0556434*c-.2040259*b+1.0572252*d),this.opacity)}}));
Rg(jb,Gb,ud(tb,{brighter:function(b){return new jb(this.h,this.c,this.l+18*(null==b?1:b),this.opacity)},darker:function(b){return new jb(this.h,this.c,this.l-18*(null==b?1:b),this.opacity)},rgb:function(){return Xb(this).rgb()}}));var lj=-.29227,Sh=-.90649,bh=1.97294,pl=bh*Sh,ql=1.78277*bh,ol=1.78277*lj- -.14861*Sh;Rg(nb,ub,ud(tb,{brighter:function(b){return b=null==b?Sg:Math.pow(Sg,b),new nb(this.h,this.s,this.l*b,this.opacity)},darker:function(b){return b=null==b?.7:Math.pow(.7,b),new nb(this.h,
this.s,this.l*b,this.opacity)},rgb:function(){var b=isNaN(this.h)?0:(this.h+120)*hl,c=+this.l,d=isNaN(this.s)?0:this.s*c*(1-c),a=Math.cos(b),b=Math.sin(b);return new pa(255*(c+d*(-.14861*a+1.78277*b)),255*(c+d*(lj*a+Sh*b)),255*(c+d*bh*a),this.opacity)}}));var Jh,Bk,vn,Si,Uh,dh,wn=function(b){var c=b.length-1;return function(d){var a=0>=d?d=0:1<=d?(d=1,c-1):Math.floor(d*c),l=b[a],q=b[a+1];return ue((d-a/c)*c,0<a?b[a-1]:2*l-q,l,q,a<c-1?b[a+2]:2*q-l)}},xn=function(b){var c=b.length;return function(d){var a=
Math.floor((0>(d%=1)?++d:d)*c);return ue((d-a/c)*c,b[(a+c-1)%c],b[a%c],b[(a+1)%c],b[(a+2)%c])}},Th=function(b){return function(){return b}},Kh=function c(d){function a(c,d){var a=l((c=vd(c)).r,(d=vd(d)).r),g=l(c.g,d.g),q=l(c.b,d.b),n=Sa(c.opacity,d.opacity);return function(d){return c.r=a(d),c.g=g(d),c.b=q(d),c.opacity=n(d),c+""}}var l=O(d);return a.gamma=c,a}(1),ir=sa(wn),jr=sa(xn),yn=function(c,d){var a,l=d?d.length:0,q=c?Math.min(l,c.length):0,x=Array(l),t=Array(l);for(a=0;a<q;++a)x[a]=gh(c[a],
d[a]);for(;a<l;++a)t[a]=d[a];return function(c){for(a=0;a<q;++a)t[a]=x[a](c);return t}},zn=function(c,d){var a=new Date;return c=+c,d-=c,function(g){return a.setTime(c+d*g),a}},Ed=function(c,d){return c=+c,d-=c,function(a){return c+d*a}},An=function(c,d){var a,l={},q={};null!==c&&"object"==typeof c||(c={});null!==d&&"object"==typeof d||(d={});for(a in d)a in c?l[a]=gh(c[a],d[a]):q[a]=d[a];return function(c){for(a in l)q[a]=l[a](c);return q}},Ck=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dk=new RegExp(Ck.source,
"g"),Ek=function(c,d){var a,l,q,x=Ck.lastIndex=Dk.lastIndex=0,t=-1,A=[],D=[];c+="";for(d+="";(a=Ck.exec(c))&&(l=Dk.exec(d));)(q=l.index)>x&&(q=d.slice(x,q),A[t]?A[t]+=q:A[++t]=q),(a=a[0])===(l=l[0])?A[t]?A[t]+=l:A[++t]=l:(A[++t]=null,D.push({i:t,x:Ed(a,l)})),x=Dk.lastIndex;return x<d.length&&(q=d.slice(x),A[t]?A[t]+=q:A[++t]=q),2>A.length?D[0]?ve(D[0].x):da(d):(d=D.length,function(c){for(var a,k=0;k<d;++k)A[(a=D[k]).i]=a.x(c);return A.join("")})},gh=function(c,d){var a,l=typeof d;return null==d||
"boolean"===l?Th(d):("number"===l?Ed:"string"===l?(a=ib(d))?(d=a,Kh):Ek:d instanceof ib?Kh:d instanceof Date?zn:Array.isArray(d)?yn:isNaN(d)?An:Ed)(c,d)},lm=function(c,d){return c=+c,d-=c,function(a){return Math.round(c+d*a)}},Bn=180/Math.PI,Fk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Cn=function(c,d,a,l,q,x){var g,A,D;return(g=Math.sqrt(c*c+d*d))&&(c/=g,d/=g),(D=c*a+d*l)&&(a-=c*D,l-=d*D),(A=Math.sqrt(a*a+l*l))&&(a/=A,l/=A,D/=A),c*l<d*a&&(c=-c,d=-d,D=-D,g=-g),{translateX:q,translateY:x,
rotate:Math.atan2(d,c)*Bn,skewX:Math.atan(D)*Bn,scaleX:g,scaleY:A}},Dn=mc(function(c){return"none"===c?Fk:(Jh||(Jh=document.createElement("DIV"),Bk=document.documentElement,vn=document.defaultView),Jh.style.transform=c,c=vn.getComputedStyle(Bk.appendChild(Jh),null).getPropertyValue("transform"),Bk.removeChild(Jh),c=c.slice(7,-1).split(","),Cn(+c[0],+c[1],+c[2],+c[3],+c[4],+c[5]))},"px, ","px)","deg)"),En=mc(function(c){return null==c?Fk:(Si||(Si=document.createElementNS("http://www.w3.org/2000/svg",
"g")),Si.setAttribute("transform",c),(c=Si.transform.baseVal.consolidate())?(c=c.matrix,Cn(c.a,c.b,c.c,c.d,c.e,c.f)):Fk)},", ",")",")"),Lh=Math.SQRT2,Fn=function(c,d){var a,l,q=c[0],x=c[1],t=c[2],A=d[2],D=d[0]-q,n=d[1]-x,r=D*D+n*n;if(1E-12>r)l=Math.log(A/t)/Lh,a=function(c){return[q+c*D,x+c*n,t*Math.exp(Lh*c*l)]};else{var k=Math.sqrt(r);a=(A*A-t*t+4*r)/(4*t*k);var A=(A*A-t*t-4*r)/(4*A*k),v=Math.log(Math.sqrt(a*a+1)-a);l=(Math.log(Math.sqrt(A*A+1)-A)-v)/Lh;a=function(c){c*=l;var d=we(v),a=t/(2*k),
g,r=Lh*c+v;g=((r=Math.exp(2*r))-1)/(r+1);var e=v,r=((e=Math.exp(e))-1/e)/2,a=a*(d*g-r);return[q+a*D,x+a*n,t*d/we(Lh*c+v)]}}return a.duration=1E3*l,a},kr=nc(Aa),lr=nc(Sa),mr=oc(Aa),nr=oc(Sa),or=xe(Aa),Ti=xe(Sa),Bg=0,ch=0,eh=0,sl=1E3,Vh=0,zf=0,nj=0,mj="object"==typeof performance&&performance.now?performance:Date,rl="function"==typeof requestAnimationFrame?requestAnimationFrame:function(c){setTimeout(c,17)};yb.prototype=Hb.prototype={constructor:yb,restart:function(c,d,a){if("function"!=typeof c)throw new TypeError("callback is not a function");
a=(null==a?vb():+a)+(null==d?0:+d);this._next||dh===this||(dh?dh._next=this:Uh=this,dh=this);this._call=c;this._time=a;$b()},stop:function(){this._call&&(this._call=null,this._time=1/0,$b())}};var qj=function(c,d,a){var g=new yb;return d=null==d?0:+d,g.restart(function(a){g.stop();c(a+d)},d,a),g},pr=m("start","end","interrupt"),qr=[],tl=0,oj=1,Wh=2,pj=3,ul=4,rj=5,Xh=6,Ui=function(c,d,a,l,q,x){var g=c.__transition;if(g){if(a in g)return}else c.__transition={};Oe(c,a,{name:d,index:l,group:q,on:pr,tween:qr,
time:x.time,delay:x.delay,duration:x.duration,ease:x.ease,timer:null,state:tl})},Xf=function(c,d){var a,l,q,x=c.__transition,t=!0;if(x){d=null==d?null:d+"";for(q in x)(a=x[q]).name===d?(l=a.state>Wh&&a.state<rj,a.state=Xh,a.timer.stop(),l&&a.on.call("interrupt",c,c.__data__,a.index,a.group),delete x[q]):t=!1;t&&delete c.__transition}},Gn=function(c,d){var a;return("number"==typeof d?Ed:d instanceof ib?Kh:(a=ib(d))?(d=a,Kh):Ek)(c,d)},rr=bb.prototype.constructor,Hn=0,Tg=bb.prototype;W.prototype=ae.prototype=
{constructor:W,select:function(c){var d=this._name,a=this._id;"function"!=typeof c&&(c=Qi(c));for(var l=this._groups,q=l.length,x=Array(q),t=0;t<q;++t)for(var A,D,n=l[t],r=n.length,k=x[t]=Array(r),v=0;v<r;++v)(A=n[v])&&(D=c.call(A,A.__data__,v,n))&&("__data__"in A&&(D.__data__=A.__data__),k[v]=D,Ui(k[v],d,a,v,k,gb(A,a)));return new W(x,this._parents,d,a)},selectAll:function(c){var d=this._name,a=this._id;"function"!=typeof c&&(c=zk(c));for(var l=this._groups,q=l.length,x=[],t=[],A=0;A<q;++A)for(var D,
n=l[A],r=n.length,k=0;k<r;++k)if(D=n[k]){for(var v,E=c.call(D,D.__data__,k,n),M=gb(D,a),ca=0,f=E.length;ca<f;++ca)(v=E[ca])&&Ui(v,d,a,ca,E,M);x.push(E);t.push(D)}return new W(x,t,d,a)},filter:function(c){"function"!=typeof c&&(c=wk(c));for(var d=this._groups,a=d.length,l=Array(a),q=0;q<a;++q)for(var x,t=d[q],A=t.length,D=l[q]=[],n=0;n<A;++n)(x=t[n])&&c.call(x,x.__data__,n,t)&&D.push(x);return new W(l,this._parents,this._name,this._id)},merge:function(c){if(c._id!==this._id)throw Error();var d=this._groups;
c=c._groups;for(var a=d.length,l=Math.min(a,c.length),q=Array(a),x=0;x<l;++x)for(var t,A=d[x],D=c[x],n=A.length,r=q[x]=Array(n),k=0;k<n;++k)(t=A[k]||D[k])&&(r[k]=t);for(;x<a;++x)q[x]=d[x];return new W(q,this._parents,this._name,this._id)},selection:function(){return new rr(this._groups,this._parents)},transition:function(){for(var c=this._name,d=this._id,a=++Hn,l=this._groups,q=l.length,x=0;x<q;++x)for(var t,A=l[x],D=A.length,n=0;n<D;++n)if(t=A[n]){var r=gb(t,d);Ui(t,c,a,n,A,{time:r.time+r.delay+
r.duration,delay:0,duration:r.duration,ease:r.ease})}return new W(l,this._parents,c,a)},call:Tg.call,nodes:Tg.nodes,node:Tg.node,size:Tg.size,empty:Tg.empty,each:Tg.each,on:function(c,d){var a=this._id;return 2>arguments.length?gb(this.node(),a).on.on(c):this.each(Te(a,c,d))},attr:function(c,d){var a=Hh(c),l="transform"===a?En:Gn;return this.attrTween(c,"function"==typeof d?(a.local?rc:ia)(a,l,$d(this,"attr."+c,d)):null==d?(a.local?Pe:Qc)(a):(a.local?Ea:Rc)(a,l,d))},attrTween:function(c,d){var a=
"attr."+c;if(2>arguments.length)return(a=this.tween(a))&&a._value;if(null==d)return this.tween(a,null);if("function"!=typeof d)throw Error();var l=Hh(c);return this.tween(a,(l.local?Sc:Tc)(l,d))},style:function(c,d,a){var g="transform"==(c+="")?Dn:Gn;return null==d?this.styleTween(c,Yc(c,g)).on("end.style."+c,Zc(c)):this.styleTween(c,"function"==typeof d?Ve(c,g,$d(this,"style."+c,d)):Ue(c,g,d),a)},styleTween:function(c,d,a){var g="style."+(c+="");if(2>arguments.length)return(g=this.tween(g))&&g._value;
if(null==d)return this.tween(g,null);if("function"!=typeof d)throw Error();return this.tween(g,$c(c,d,null==a?"":a))},text:function(c){return this.tween("text","function"==typeof c?Fa($d(this,"text",c)):ad(null==c?"":c+""))},remove:function(){return this.on("end.remove",Xc(this._id))},tween:function(c,d){var a=this._id;if(c+="",2>arguments.length){for(var l=gb(this.node(),a).tween,q=0,x=l.length;q<x;++q)if((a=l[q]).name===c)return a.value;return null}return this.each((null==d?Oc:Pc)(a,c,d))},delay:function(c){var d=
this._id;return arguments.length?this.each(("function"==typeof c?Qe:Re)(d,c)):gb(this.node(),d).delay},duration:function(c){var d=this._id;return arguments.length?this.each(("function"==typeof c?Uc:Vc)(d,c)):gb(this.node(),d).duration},ease:function(c){var d=this._id;return arguments.length?this.each(Wc(d,c)):gb(this.node(),d).ease}};var sr=function d(a){function g(d){return Math.pow(d,a)}return a=+a,g.exponent=d,g}(3),tr=function g(a){function l(g){return 1-Math.pow(1-g,a)}return a=+a,l.exponent=
g,l}(3),In=function l(a){function q(l){return(1>=(l*=2)?Math.pow(l,a):2-Math.pow(2-l,a))/2}return a=+a,q.exponent=l,q}(3),vl=Math.PI,Jn=vl/2,sj=4/11,$o=6/11,Zo=8/11,ap=.75,cp=9/11,bp=10/11,dp=.9375,ep=21/22,fp=.984375,Yh=1/sj/sj,ur=function q(a){function t(q){return q*q*((a+1)*q-a)}return a=+a,t.overshoot=q,t}(1.70158),vr=function x(a){function t(t){return--t*t*((a+1)*t+a)+1}return a=+a,t.overshoot=x,t}(1.70158),Kn=function t(a){function A(n){return(1>(n*=2)?n*n*((a+1)*n-a):(n-=2)*n*((a+1)*n+a)+2)/
2}return a=+a,A.overshoot=t,A}(1.70158),Ug=2*Math.PI,wr=function A(a,n){function r(r){return a*Math.pow(2,10*--r)*Math.sin((k-r)/n)}var k=Math.asin(1/(a=Math.max(1,a)))*(n/=Ug);return r.amplitude=function(a){return A(a,n*Ug)},r.period=function(k){return A(a,k)},r}(1,.3),Ln=function D(a,r){function k(k){return 1-a*Math.pow(2,-10*(k=+k))*Math.sin((k+n)/r)}var n=Math.asin(1/(a=Math.max(1,a)))*(r/=Ug);return k.amplitude=function(a){return D(a,r*Ug)},k.period=function(k){return D(a,k)},k}(1,.3),xr=function n(a,
k){function r(n){return(0>(n=2*n-1)?a*Math.pow(2,10*n)*Math.sin((E-n)/k):2-a*Math.pow(2,-10*n)*Math.sin((E+n)/k))/2}var E=Math.asin(1/(a=Math.max(1,a)))*(k/=Ug);return r.amplitude=function(a){return n(a,k*Ug)},r.period=function(k){return n(a,k)},r}(1,.3),Gk={time:null,delay:0,duration:250,ease:ba};bb.prototype.interrupt=function(a){return this.each(function(){Xf(this,a)})};bb.prototype.transition=function(a){var n,k;a instanceof W?(n=a._id,a=a._name):(n=++Hn,(k=Gk).time=vb(),a=null==a?null:a+"");
for(var v=this._groups,E=v.length,M=0;M<E;++M)for(var ca,f=v[M],L=f.length,e=0;e<L;++e)if(ca=f[e]){var h=ca,w=a,z=n,u=e,B=f,F;if(!(F=k))a:{F=void 0;for(var I=n;!(F=ca.__transition)||!(F=F[I]);)if(!(ca=ca.parentNode)){F=(Gk.time=vb(),Gk);break a}}Ui(h,w,z,u,B,F)}return new W(v,this._parents,a,n)};var yr=[null],zl=function(a){return function(){return a}},jp=function(a,r,k){this.target=a;this.type=r;this.selection=k},Zh=function(){a.event.preventDefault();a.event.stopImmediatePropagation()},wl={name:"drag"},
tj={name:"space"},Cg={name:"handle"},Dg={name:"center"},ai={name:"x",handles:["e","w"].map(Ab),input:function(a,r){return a&&[[a[0],r[0][1]],[a[1],r[1][1]]]},output:function(a){return a&&[a[0][0],a[1][0]]}},$h={name:"y",handles:["n","s"].map(Ab),input:function(a,r){return a&&[[r[0][0],a[0]],[r[1][0],a[1]]]},output:function(a){return a&&[a[0][1],a[1][1]]}},zr={name:"xy",handles:"n e s w nw ne se sw".split(" ").map(Ab),input:function(a){return a},output:function(a){return a}},pf={overlay:"crosshair",
selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},xl={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},yl={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},hp={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},ip={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Mn=Math.cos,Nn=Math.sin,On=Math.PI,Vi=On/2,Pn=2*On,Qn=Math.max,Ar=Array.prototype.slice,Hk=function(a){return function(){return a}},
Ik=Math.PI,Jk=2*Ik,Br=Jk-1E-6;dc.prototype=tc.prototype={constructor:dc,moveTo:function(a,r){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+r)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(a,r){this._+="L"+(this._x1=+a)+","+(this._y1=+r)},quadraticCurveTo:function(a,r,k,v){this._+="Q"+ +a+","+ +r+","+(this._x1=+k)+","+(this._y1=+v)},bezierCurveTo:function(a,r,k,v,E,M){this._+="C"+ +a+","+ +r+","+ +k+","+ +v+","+(this._x1=+E)+
","+(this._y1=+M)},arcTo:function(a,r,k,v,E){a=+a;r=+r;k=+k;v=+v;E=+E;var n=this._x1,ca=this._y1,f=k-a,L=v-r,e=n-a,h=ca-r,w=e*e+h*h;if(0>E)throw Error("negative radius: "+E);if(null===this._x1)this._+="M"+(this._x1=a)+","+(this._y1=r);else if(1E-6<w)if(1E-6<Math.abs(h*f-L*e)&&E){k-=n;v-=ca;var z=f*f+L*L,ca=Math.sqrt(z),n=Math.sqrt(w),w=E*Math.tan((Ik-Math.acos((z+w-(k*k+v*v))/(2*ca*n)))/2),n=w/n,w=w/ca;1E-6<Math.abs(n-1)&&(this._+="L"+(a+n*e)+","+(r+n*h));this._+="A"+E+","+E+",0,0,"+ +(h*k>e*v)+","+
(this._x1=a+w*f)+","+(this._y1=r+w*L)}else this._+="L"+(this._x1=a)+","+(this._y1=r)},arc:function(a,r,k,v,E,M){a=+a;r=+r;k=+k;var n=k*Math.cos(v),f=k*Math.sin(v),L=a+n,e=r+f,h=1^M;v=M?v-E:E-v;if(0>k)throw Error("negative radius: "+k);null===this._x1?this._+="M"+L+","+e:(1E-6<Math.abs(this._x1-L)||1E-6<Math.abs(this._y1-e))&&(this._+="L"+L+","+e);k&&(v>Br?this._+="A"+k+","+k+",0,1,"+h+","+(a-n)+","+(r-f)+"A"+k+","+k+",0,1,"+h+","+(this._x1=L)+","+(this._y1=e):(0>v&&(v=v%Jk+Jk),this._+="A"+k+","+k+
",0,"+ +(v>=Ik)+","+h+","+(this._x1=a+k*Math.cos(E))+","+(this._y1=r+k*Math.sin(E))))},rect:function(a,r,k,v){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+r)+"h"+ +k+"v"+ +v+"h"+-k+"Z"},toString:function(){return this._}};Ib.prototype=cb.prototype={constructor:Ib,has:function(a){return"$"+a in this},get:function(a){return this["$"+a]},set:function(a,r){return this["$"+a]=r,this},remove:function(a){a="$"+a;return a in this&&delete this[a]},clear:function(){for(var a in this)"$"===a[0]&&
delete this[a]},keys:function(){var a=[],r;for(r in this)"$"===r[0]&&a.push(r.slice(1));return a},values:function(){var a=[],r;for(r in this)"$"===r[0]&&a.push(this[r]);return a},entries:function(){var a=[],r;for(r in this)"$"===r[0]&&a.push({key:r.slice(1),value:this[r]});return a},size:function(){var a=0,r;for(r in this)"$"===r[0]&&++a;return a},empty:function(){for(var a in this)if("$"===a[0])return!1;return!0},each:function(a){for(var n in this)"$"===n[0]&&a(this[n],n.slice(1),this)}};var vg=
cb.prototype;za.prototype=fa.prototype={constructor:za,has:vg.has,add:function(a){return a+="",this["$"+a]=a,this},remove:vg.remove,clear:vg.clear,values:vg.keys,size:vg.size,empty:vg.empty,each:vg.each};var Kk=function(a){function n(a,k){function n(){if(F>=v)return z;if(h)return h=!1,w;var e,k=F;if(34===a.charCodeAt(k)){for(var n=k;n++<v;)if(34===a.charCodeAt(n)){if(34!==a.charCodeAt(n+1))break;++n}return F=n+2,e=a.charCodeAt(n+1),13===e?(h=!0,10===a.charCodeAt(n+2)&&++F):10===e&&(h=!0),a.slice(k+
1,n).replace(/""/g,'"')}for(;F<v;){n=1;if(e=a.charCodeAt(F++),10===e)h=!0;else if(13===e)h=!0,10===a.charCodeAt(F)&&(++F,++n);else if(e!==M)continue;return a.slice(k,F-n)}return a.slice(k)}for(var e,h,w={},z={},r=[],v=a.length,F=0,I=0;(e=n())!==z;){for(var E=[];e!==w&&e!==z;)E.push(e),e=n();k&&null==(E=k(E,I++))||r.push(E)}return r}function k(k){return k.map(v).join(a)}function v(a){return null==a?"":E.test(a+="")?'"'+a.replace(/\"/g,'""')+'"':a}var E=new RegExp('["'+a+"\n]"),M=a.charCodeAt(0);return{parse:function(a,
k){var r,e,h=n(a,function(a,n){return r?r(a,n-1):(e=a,void(r=k?gd(a,k):ec(a)))});return h.columns=e,h},parseRows:n,format:function(k,n){return null==n&&(n=hd(k)),[n.map(v).join(a)].concat(k.map(function(k){return n.map(function(a){return v(k[a])}).join(a)})).join("\n")},formatRows:function(a){return a.map(k).join("\n")}}},Wi=Kk(","),Rn=Wi.parse,Cr=Wi.parseRows,Dr=Wi.format,Er=Wi.formatRows,Xi=Kk("\t"),Sn=Xi.parse,Fr=Xi.parseRows,Gr=Xi.format,Hr=Xi.formatRows,pd=function(a){return function(){return a}},
Sf=function(){return 1E-6*(Math.random()-.5)},qd=function(a,r,k,v,E){this.node=a;this.x0=r;this.y0=k;this.x1=v;this.y1=E},rd=Jb.prototype=fc.prototype;rd.copy=function(){var a,r,k=new fc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),v=this._root;if(!v)return k;if(!v.length)return k._root=Ce(v),k;for(a=[{source:v,target:k._root=Array(4)}];v=a.pop();)for(var E=0;4>E;++E)(r=v.source[E])&&(r.length?a.push({source:r,target:v.target[E]=Array(4)}):v.target[E]=Ce(r));return k};rd.add=function(a){var n=
+this._x.call(null,a),k=+this._y.call(null,a);return Be(this.cover(n,k),n,k,a)};rd.addAll=function(a){var n,k,v,E,M=a.length,f=Array(M),m=Array(M),L=1/0,e=1/0,h=-(1/0),w=-(1/0);for(k=0;k<M;++k)isNaN(v=+this._x.call(null,n=a[k]))||isNaN(E=+this._y.call(null,n))||(f[k]=v,m[k]=E,v<L&&(L=v),v>h&&(h=v),E<e&&(e=E),E>w&&(w=E));h<L&&(L=this._x0,h=this._x1);w<e&&(e=this._y0,w=this._y1);this.cover(L,e).cover(h,w);for(k=0;k<M;++k)Be(this,f[k],m[k],a[k]);return this};rd.cover=function(a,r){if(isNaN(a=+a)||isNaN(r=
+r))return this;var k=this._x0,n=this._y0,E=this._x1,M=this._y1;if(isNaN(k))E=(k=Math.floor(a))+1,M=(n=Math.floor(r))+1;else{if(!(k>a||a>E||n>r||r>M))return this;var f,m,L=E-k,e=this._root;switch(m=(r<(n+M)/2)<<1|a<(k+E)/2){case 0:do f=Array(4),f[m]=e,e=f;while(L*=2,E=k+L,M=n+L,a>E||r>M);break;case 1:do f=Array(4),f[m]=e,e=f;while(L*=2,k=E-L,M=n+L,k>a||r>M);break;case 2:do f=Array(4),f[m]=e,e=f;while(L*=2,E=k+L,n=M-L,a>E||n>r);break;case 3:do f=Array(4),f[m]=e,e=f;while(L*=2,k=E-L,n=M-L,k>a||n>r)}this._root&&
this._root.length&&(this._root=e)}return this._x0=k,this._y0=n,this._x1=E,this._y1=M,this};rd.data=function(){var a=[];return this.visit(function(n){if(!n.length){do a.push(n.data);while(n=n.next)}}),a};rd.extent=function(a){return arguments.length?this.cover(+a[0][0],+a[0][1]).cover(+a[1][0],+a[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};rd.find=function(a,r,k){var n,E,M,f,m,L,e,h=this._x0,w=this._y0,z=this._x1,u=this._y1,B=[],F=this._root;F&&B.push(new qd(F,h,w,z,u));
for(null==k?k=1/0:(h=a-k,w=r-k,z=a+k,u=r+k,k*=k);L=B.pop();)if(!(!(F=L.node)||(E=L.x0)>z||(M=L.y0)>u||(f=L.x1)<h||(m=L.y1)<w))if(F.length){var I=(E+f)/2,Ta=(M+m)/2;B.push(new qd(F[3],I,Ta,f,m),new qd(F[2],E,Ta,I,m),new qd(F[1],I,M,f,Ta),new qd(F[0],E,M,I,Ta));(e=(r>=Ta)<<1|a>=I)&&(L=B[B.length-1],B[B.length-1]=B[B.length-1-e],B[B.length-1-e]=L)}else L=a-+this._x.call(null,F.data),I=r-+this._y.call(null,F.data),L=L*L+I*I,L<k&&(n=Math.sqrt(k=L),h=a-n,w=r-n,z=a+n,u=r+n,n=F.data);return n};rd.remove=
function(a){if(isNaN(M=+this._x.call(null,a))||isNaN(f=+this._y.call(null,a)))return this;var n,k,v,E,M,f,m,L,e,h,w,z,u=this._root,B=this._x0,F=this._y0,I=this._x1,Ta=this._y1;if(!u)return this;if(u.length)for(;;){if((e=M>=(m=(B+I)/2))?B=m:I=m,(h=f>=(L=(F+Ta)/2))?F=L:Ta=L,n=u,!(u=u[w=h<<1|e]))return this;if(!u.length)break;(n[w+1&3]||n[w+2&3]||n[w+3&3])&&(k=n,z=w)}for(;u.data!==a;)if(v=u,!(u=u.next))return this;return(E=u.next)&&delete u.next,v?(E?v.next=E:delete v.next,this):n?(E?n[w]=E:delete n[w],
(u=n[0]||n[1]||n[2]||n[3])&&u===(n[3]||n[2]||n[1]||n[0])&&!u.length&&(k?k[z]=u:this._root=u),this):(this._root=E,this)};rd.removeAll=function(a){for(var n=0,k=a.length;n<k;++n)this.remove(a[n]);return this};rd.root=function(){return this._root};rd.size=function(){var a=0;return this.visit(function(n){if(!n.length){do++a;while(n=n.next)}}),a};rd.visit=function(a){var n,k,v,E,M,f=[],m=this._root;for(m&&f.push(new qd(m,this._x0,this._y0,this._x1,this._y1));n=f.pop();)if(!a(m=n.node,v=n.x0,E=n.y0,M=n.x1,
n=n.y1)&&m.length){var L=(v+M)/2,e=(E+n)/2;(k=m[3])&&f.push(new qd(k,L,e,M,n));(k=m[2])&&f.push(new qd(k,v,e,L,n));(k=m[1])&&f.push(new qd(k,L,E,M,e));(k=m[0])&&f.push(new qd(k,v,E,L,e))}return this};rd.visitAfter=function(a){var n,k=[],v=[];for(this._root&&k.push(new qd(this._root,this._x0,this._y0,this._x1,this._y1));n=k.pop();){var E=n.node;if(E.length){var M,f=n.x0,m=n.y0,L=n.x1,e=n.y1,h=(f+L)/2,w=(m+e)/2;(M=E[0])&&k.push(new qd(M,f,m,h,w));(M=E[1])&&k.push(new qd(M,h,m,L,w));(M=E[2])&&k.push(new qd(M,
f,w,h,e));(M=E[3])&&k.push(new qd(M,h,w,L,e))}v.push(n)}for(;n=v.pop();)a(n.node,n.x0,n.y0,n.x1,n.y1);return this};rd.x=function(a){return arguments.length?(this._x=a,this):this._x};rd.y=function(a){return arguments.length?(this._y=a,this):this._y};var Tn,Ir=Math.PI*(3-Math.sqrt(5)),Yi=function(a,r){if(0>(k=(a=r?a.toExponential(r-1):a.toExponential()).indexOf("e")))return null;var k,n=a.slice(0,k);return[1<n.length?n[0]+n.slice(2):n,+a.slice(k+1)]},Vg=function(a){return a=Yi(Math.abs(a)),a?a[1]:NaN},
Jr=function(a,r){return function(k,n){for(var v=k.length,M=[],f=0,m=a[0],L=0;0<v&&0<m&&(L+m+1>n&&(m=Math.max(1,n-L)),M.push(k.substring(v-=m,v+m)),!((L+=m+1)>n));)m=a[f=(f+1)%a.length];return M.reverse().join(r)}},Un=function(a,r){var k=Yi(a,r);if(!k)return a+"";var n=k[0],k=k[1];return 0>k?"0."+Array(-k).join("0")+n:n.length>k+1?n.slice(0,k+1)+"."+n.slice(k+1):n+Array(k-n.length+2).join("0")},Al={"":function(a,r){a=a.toPrecision(r);var k,n=a.length,E=1,M=-1;a:for(;E<n;++E)switch(a[E]){case ".":M=
k=E;break;case "0":0===M&&(M=E);k=E;break;case "e":break a;default:0<M&&(M=0)}return 0<M?a.slice(0,M)+a.slice(k+1):a},"%":function(a,r){return(100*a).toFixed(r)},b:function(a){return Math.round(a).toString(2)},c:function(a){return a+""},d:function(a){return Math.round(a).toString(10)},e:function(a,r){return a.toExponential(r)},f:function(a,r){return a.toFixed(r)},g:function(a,r){return a.toPrecision(r)},o:function(a){return Math.round(a).toString(8)},p:function(a,r){return Un(100*a,r)},r:Un,s:function(a,
r){var k=Yi(a,r);if(!k)return a+"";var n=k[0],k=k[1],k=k-(Tn=3*Math.max(-8,Math.min(8,Math.floor(k/3))))+1,E=n.length;return k===E?n:k>E?n+Array(k-E+1).join("0"):0<k?n.slice(0,k)+"."+n.slice(k):"0."+Array(1-k).join("0")+Yi(a,Math.max(0,r+k-1))[0]},X:function(a){return Math.round(a).toString(16).toUpperCase()},x:function(a){return Math.round(a).toString(16)}},kp=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i,Ci=function(a){return new wc(a)};wc.prototype.toString=function(){return this.fill+
this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var ci,Vn="y z a f p n \u00b5 m  k M G T P E Z Y".split(" "),Bl=function(a){function n(a){function n(a){var n,h,v,Ha=I,L=Ta;if("c"===F)L=f(a)+L,a="";else{a=+a;var U=(0>a||0>1/a)&&(a*=-1,!0);if(a=f(a,B),U)for(n=-1,h=a.length,U=!1;++n<h;)if(v=a.charCodeAt(n),48<v&&58>v||"x"===F&&96<v&&103>v||"X"===F&&64<v&&71>v){U=
!0;break}if(Ha=(U?"("===e?e:"-":"-"===e||"("===e?"":e)+Ha,L=L+("s"===F?Vn[8+Tn/3]:"")+(U&&"("===e?")":""),m)for(n=-1,h=a.length;++n<h;)if(v=a.charCodeAt(n),48>v||57<v){L=(46===v?E+a.slice(n+1):a.slice(n))+L;a=a.slice(0,n);break}}u&&!w&&(a=k(a,1/0));n=Ha.length+a.length+L.length;h=n<z?Array(z-n+1).join(r):"";switch(u&&w&&(a=k(h+a,h.length?z-L.length:1/0),h=""),M){case "<":return Ha+a+L+h;case "=":return Ha+h+a+L;case "^":return h.slice(0,n=h.length>>1)+Ha+a+L+h.slice(n)}return h+Ha+a+L}a=Ci(a);var r=
a.fill,M=a.align,e=a.sign,h=a.symbol,w=a.zero,z=a.width,u=a.comma,B=a.precision,F=a.type,I="$"===h?v[0]:"#"===h&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",Ta="$"===h?v[1]:/[%p]/.test(F)?"%":"",f=Al[F],m=!F||/[defgprs%]/.test(F);return B=null==B?F?6:12:/[gprs]/.test(F)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B)),n.toString=function(){return a+""},n}var k=a.grouping&&a.thousands?Jr(a.grouping,a.thousands):ld,v=a.currency,E=a.decimal;return{format:n,formatPrefix:function(a,k){var v=n((a=Ci(a),
a.type="f",a)),r=3*Math.max(-8,Math.min(8,Math.floor(Vg(k)/3))),e=Math.pow(10,-r),h=Vn[8+r/3];return function(a){return v(e*a)+h}}}};Ca({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var om=function(a){return Math.max(0,-Vg(Math.abs(a)))},mm=function(a,r){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Vg(r)/3)))-Vg(Math.abs(a)))},nm=function(a,r){return a=Math.abs(a),r=Math.abs(r)-a,Math.max(0,Vg(r)-Vg(a))+1};T.prototype={constructor:T,reset:function(){this.s=this.t=0},add:function(a){ee(Zi,
a,this.t);ee(this,Zi.s,this.s);this.s?this.t+=Zi.t:this.s=Zi.t},valueOf:function(){return this.s}};var Dl,El,uj,vj,wj,kb,Hd,ob,ge,Yf,Fl,Gl,Eg,Bf,qf,ih,ii,fi,gi,hi,ji,ki,li,xj,yj,zj,Hl,Il,Dc,Ec,Fc,Zi=new T,qa=1E-6,Ma=Math.PI,hb=Ma/2,di=Ma/4,yd=2*Ma,Za=180/Ma,ra=Ma/180,Pa=Math.abs,Ig=Math.atan,zc=Math.atan2,na=Math.cos,pi=Math.ceil,Wn=Math.exp,ti=Math.log,Lj=Math.pow,ea=Math.sin,ph=Math.sign||function(a){return 0<a?1:0>a?-1:0},Bb=Math.sqrt,Hg=Math.tan,Xn={Feature:function(a,r){Fd(a.geometry,r)},FeatureCollection:function(a,
r){for(var k=a.features,n=-1,E=k.length;++n<E;)Fd(k[n].geometry,r)}},Cl={Sphere:function(a,r){r.sphere()},Point:function(a,r){a=a.coordinates;r.point(a[0],a[1],a[2])},MultiPoint:function(a,r){for(var k=a.coordinates,n=-1,E=k.length;++n<E;)a=k[n],r.point(a[0],a[1],a[2])},LineString:function(a,r){gc(a.coordinates,r,0)},MultiLineString:function(a,r){for(var k=a.coordinates,n=-1,E=k.length;++n<E;)gc(k[n],r,0)},Polygon:function(a,r){xc(a.coordinates,r)},MultiPolygon:function(a,r){for(var k=a.coordinates,
n=-1,E=k.length;++n<E;)xc(k[n],r)},GeometryCollection:function(a,r){for(var k=a.geometries,n=-1,E=k.length;++n<E;)Fd(k[n],r)}},Ie=function(a,r){a&&Xn.hasOwnProperty(a.type)?Xn[a.type](a,r):Fd(a,r)},ei=new T,$i=new T,ff={point:Ia,lineStart:Ia,lineEnd:Ia,polygonStart:function(){ei.reset();ff.lineStart=ef;ff.lineEnd=md},polygonEnd:function(){var a=+ei;$i.add(0>a?yd+a:a);this.lineStart=this.lineEnd=this.point=Ia},sphere:function(){$i.add(yd)}},hh=new T,rf={point:ic,lineStart:Bc,lineEnd:Cc,polygonStart:function(){rf.point=
Ee;rf.lineStart=od;rf.lineEnd=hf;hh.reset();ff.polygonStart()},polygonEnd:function(){ff.polygonEnd();rf.point=ic;rf.lineStart=Bc;rf.lineEnd=Cc;0>ei?(kb=-(ob=180),Hd=-(ge=90)):hh>qa?ge=90:hh<-qa&&(Hd=-90);qf[0]=kb;qf[1]=ob}},Ge={sphere:Ia,point:wd,lineStart:Id,lineEnd:Jd,polygonStart:function(){Ge.lineStart=bg;Ge.lineEnd=he},polygonEnd:function(){Ge.lineStart=Id;Ge.lineEnd=Jd}},Wg=function(a){return function(){return a}},Jl=function(a,r){function k(k,n){return k=a(k,n),r(k[0],k[1])}return a.invert&&
r.invert&&(k.invert=function(k,n){return k=r.invert(k,n),k&&a.invert(k[0],k[1])}),k};xd.invert=xd;var Bj,ni,oi,Ml,Nl,Dj,Ej,Ol,Pl,kf,lf,Kl=function(){var a,r=[];return{point:function(k,n){a.push([k,n])},lineStart:function(){r.push(a=[])},lineEnd:Ia,rejoin:function(){1<r.length&&r.push(r.pop().concat(r.shift()))},result:function(){var k=r;return r=[],a=null,k}}},lp=function(a,r,k,v,E,f){var n,M=a[0],m=a[1],e=0,h=1,w=r[0]-M,z=r[1]-m;if(n=k-M,w||!(0<n)){if(n/=w,0>w){if(n<e)return;n<h&&(h=n)}else if(0<
w){if(n>h)return;n>e&&(e=n)}if(n=E-M,w||!(0>n)){if(n/=w,0>w){if(n>h)return;n>e&&(e=n)}else if(0<w){if(n<e)return;n<h&&(h=n)}if(n=v-m,z||!(0<n)){if(n/=z,0>z){if(n<e)return;n<h&&(h=n)}else if(0<z){if(n>h)return;n>e&&(e=n)}if(n=f-m,z||!(0>n)){if(n/=z,0>z){if(n>h)return;n>e&&(e=n)}else if(0<z){if(n<e)return;n<h&&(h=n)}return 0<e&&(a[0]=M+e*w,a[1]=m+e*z),1>h&&(r[0]=M+h*w,r[1]=m+h*z),!0}}}}},aj=function(a,r){return Pa(a[0]-r[0])<qa&&Pa(a[1]-r[1])<qa},Ll=function(a,r,k,v,E){var n,f=[],m=[];if(a.forEach(function(a){if(!(0>=
(e=a.length-1))){var e,k=a[0],h=a[e];if(aj(k,h)){E.lineStart();for(n=0;n<e;++n)E.point((k=a[n])[0],k[1]);return void E.lineEnd()}f.push(e=new Ga(k,a,null,!0));m.push(e.o=new Ga(k,null,e,!1));f.push(e=new Ga(h,a,null,!1));m.push(e.o=new Ga(h,null,e,!0))}}),f.length){m.sort(r);la(f);la(m);n=0;for(a=m.length;n<a;++n)m[n].e=k=!k;var L;for(r=f[0];;){for(var e=r,h=!0;e.v;)if((e=e.n)===r)return;k=e.z;E.lineStart();do{if(e.v=e.o.v=!0,e.e){if(h)for(n=0,a=k.length;n<a;++n)E.point((L=k[n])[0],L[1]);else v(e.x,
e.n.x,1,E);e=e.n}else{if(h)for(k=e.p.z,n=k.length-1;0<=n;--n)E.point((L=k[n])[0],L[1]);else v(e.x,e.p.x,-1,E);e=e.p}e=e.o;k=e.z;h=!h}while(!e.v);E.lineEnd()}}},jh=1E9,mi=-jh,Cj=new T,Fg={sphere:Ia,point:Ia,lineStart:function(){Fg.point=oa;Fg.lineEnd=Ba},lineEnd:Ia,polygonStart:Ia,polygonEnd:Ia},Yn=function(a){return Cj.reset(),Ie(a,Fg),+Cj},Lk=[null,null],Kr={type:"LineString",coordinates:Lk},lg=function(a){return a},Mk=new T,Fj=new T,tf={point:Ia,lineStart:Ia,lineEnd:Ia,polygonStart:function(){tf.lineStart=
dg;tf.lineEnd=fg},polygonEnd:function(){tf.lineStart=tf.lineEnd=tf.point=Ia;Mk.add(Pa(Fj));Fj.reset()},result:function(){var a=Mk/2;return Mk.reset(),a}},Xg=1/0,bj=Xg,Mh=-Xg,cj=Mh,si={point:function(a,r){a<Xg&&(Xg=a);a>Mh&&(Mh=a);r<bj&&(bj=r);r>cj&&(cj=r)},lineStart:Ia,lineEnd:Ia,polygonStart:Ia,polygonEnd:Ia,result:function(){var a=[[Xg,bj],[Mh,cj]];return Mh=cj=-(bj=Xg=1/0),a}},Gj=0,Hj=0,kh=0,qi=0,ri=0,Gg=0,Ij=0,Jj=0,lh=0,ie={point:Nb,lineStart:Jf,lineEnd:Kf,polygonStart:function(){ie.lineStart=
ke;ie.lineEnd=ig},polygonEnd:function(){ie.point=Nb;ie.lineStart=Jf;ie.lineEnd=Kf},result:function(){var a=lh?[Ij/lh,Jj/lh]:Gg?[qi/Gg,ri/Gg]:kh?[Gj/kh,Hj/kh]:[NaN,NaN];return Gj=Hj=kh=qi=ri=Gg=Ij=Jj=lh=0,a}};Lf.prototype={_radius:4.5,pointRadius:function(a){return this._radius=a,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(a,r){switch(this._point){case 0:this._context.moveTo(a,
r);this._point=1;break;case 1:this._context.lineTo(a,r);break;default:this._context.moveTo(a+this._radius,r),this._context.arc(a,r,this._radius,0,yd)}},result:Ia};var Nk,Ql,Rl,nh,oh,Kj=new T,mh={point:Ia,lineStart:function(){mh.point=le},lineEnd:function(){Nk&&Mf(Ql,Rl);mh.point=Ia},polygonStart:function(){Nk=!0},polygonEnd:function(){Nk=null},result:function(){var a=+Kj;return Kj.reset(),a}};Nf.prototype={_circle:Qd(4.5),pointRadius:function(a){return this._circle=Qd(a),this},polygonStart:function(){this._line=
0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(a,r){switch(this._point){case 0:this._string.push("M",a,",",r);this._point=1;break;case 1:this._string.push("L",a,",",r);break;default:this._string.push("M",a,",",r,this._circle)}},result:function(){if(this._string.length){var a=this._string.join("");return this._string=[],a}}};var Ok=new T,Zn=function(a,r,k,v){return function(n,f){function E(e,
k){var h=n(e,k);a(e=h[0],k=h[1])&&f.point(e,k)}function M(a,e){var k=n(a,e);I.point(k[0],k[1])}function m(){X.point=M;I.lineStart()}function e(){X.point=E;I.lineEnd()}function h(a,e){F.push([a,e]);var k=n(a,e);p.point(k[0],k[1])}function w(){p.lineStart();F=[]}function z(){h(F[0][0],F[0][1]);p.lineEnd();var a,e,k,n;a=p.clean();e=Ha.result();var w=e.length;if(F.pop(),u.push(F),F=null,w)if(1&a){if(k=e[0],0<(e=k.length-1)){U||(f.polygonStart(),U=!0);f.lineStart();for(a=0;a<e;++a)f.point((n=k[a])[0],
n[1]);f.lineEnd()}}else 1<w&&2&a&&e.push(e.pop().concat(e.shift())),B.push(e.filter(jg))}var u,B,F,I=r(f),Ta=n.invert(v[0],v[1]),Ha=Kl(),p=r(Ha),U=!1,X={point:E,lineStart:m,lineEnd:e,polygonStart:function(){X.point=h;X.lineStart=w;X.lineEnd=z;B=[];u=[]},polygonEnd:function(){X.point=E;X.lineStart=m;X.lineEnd=e;B=Aj(B);var a;a=u;var h=Ta[0],n=Ta[1],w=[ea(h),-na(h),0],z=0,r=0;Ok.reset();for(var v=0,F=a.length;v<F;++v)if(M=(I=a[v]).length)for(var I,M,Ha=I[M-1],L=Ha[0],p=Ha[1]/2+di,y=ea(p),de=na(p),p=
0;p<M;++p,L=K,y=H,de=C,Ha=ca){var ca=I[p],K=ca[0],C=ca[1]/2+di,H=ea(C),C=na(C),G=K-L,J=0<=G?1:-1,N=J*G,Z=N>Ma,y=y*H;if(Ok.add(zc(y*J*ea(N),de*C+y*na(N))),z+=Z?G+J*yd:G,Z^L>=h^K>=h)Ha=nd(Ac(Ha),Ac(ca)),Gd(Ha),L=nd(w,Ha),Gd(L),L=(Z^0<=G?-1:1)*V(L[2]),(n>L||n===L&&(Ha[0]||Ha[1]))&&(r+=Z^0<=G?1:-1)}a=(z<-qa||z<qa&&Ok<-qa)^1&r;B.length?(U||(f.polygonStart(),U=!0),Ll(B,me,a,k,f)):a&&(U||(f.polygonStart(),U=!0),f.lineStart(),k(null,null,1,f),f.lineEnd());U&&(f.polygonEnd(),U=!1);B=u=null},sphere:function(){f.polygonStart();
f.lineStart();k(null,null,1,f);f.lineEnd();f.polygonEnd()}};return X}},Tl=Zn(function(){return!0},function(a){var n,k=NaN,v=NaN,E=NaN;return{lineStart:function(){a.lineStart();n=1},point:function(r,f){var M=0<r?Ma:-Ma,m=Pa(r-k);if(Pa(m-Ma)<qa)a.point(k,v=0<(v+f)/2?hb:-hb),a.point(E,v),a.lineEnd(),a.lineStart(),a.point(M,v),a.point(r,v),n=0;else if(E!==M&&m>=Ma){Pa(k-E)<qa&&(k-=E*qa);Pa(r-M)<qa&&(r-=M*qa);var m=k,e=v,h=r,w,z,u=ea(m-h);v=Pa(u)>qa?Ig((ea(e)*(z=na(f))*ea(h)-ea(f)*(w=na(e))*ea(m))/(w*
z*u)):(e+f)/2;a.point(E,v);a.lineEnd();a.lineStart();a.point(M,v);n=0}a.point(k=r,v=f);E=M},lineEnd:function(){a.lineEnd();k=v=NaN},clean:function(){return 2-n}}},function(a,r,k,v){null==a?(k*=hb,v.point(-Ma,k),v.point(0,k),v.point(Ma,k),v.point(Ma,0),v.point(Ma,-k),v.point(0,-k),v.point(-Ma,-k),v.point(-Ma,0),v.point(-Ma,k)):Pa(a[0]-r[0])>qa?(a=a[0]<r[0]?Ma:-Ma,k=k*a/2,v.point(-a,k),v.point(0,k),v.point(a,k)):v.point(r[0],r[1])},[-Ma,-hb]),op=function(a,r){function k(a,e){return na(a)*na(e)>f}function n(a,
e,k){var h=Ac(a),n=Ac(e),u=[1,0,0],n=nd(h,n),r=Lb(n,n),h=n[0],v=r-h*h;if(!v)return!k&&a;r=f*r/v;v=-f*h/v;h=nd(u,n);u=Mb(u,r);n=Mb(n,v);hc(u,n);n=Lb(u,h);r=Lb(h,h);v=n*n-r*(Lb(u,u)-1);if(!(0>v)){var I=Bb(v),v=Mb(h,(-n-I)/r);if(hc(v,u),v=Kb(v),!k)return v;var E;k=a[0];var m=e[0];a=a[1];e=e[1];m<k&&(E=k,k=m,m=E);var M=m-k,U=Pa(M-Ma)<qa,X=U||M<qa;if(!U&&e<a&&(E=a,a=e,e=E),X?U?0<a+e^v[1]<(Pa(v[0]-k)<qa?a:e):a<=v[1]&&v[1]<=e:M>Ma^(k<=v[0]&&v[0]<=m))return E=Mb(h,(-n+I)/r),hc(E,u),[v,Kb(E)]}}function E(k,
e){var h=m?a:Ma-a,n=0;return k<-h?n|=1:k>h&&(n|=2),e<-h?n|=4:e>h&&(n|=8),n}var f=na(a),m=0<f,p=Pa(f)>qa;return Zn(k,function(a){var e,h,w,z,u;return{lineStart:function(){z=w=!1;u=1},point:function(r,v){var B,F=[r,v],f=k(r,v),M=m?f?0:E(r,v):f?E(r+(0>r?Ma:-Ma),v):0;if(!e&&(z=w=f)&&a.lineStart(),f!==w&&(B=n(e,F),(aj(e,B)||aj(F,B))&&(F[0]+=qa,F[1]+=qa,f=k(F[0],F[1]))),f!==w)u=0,f?(a.lineStart(),B=n(F,e),a.point(B[0],B[1])):(B=n(e,F),a.point(B[0],B[1]),a.lineEnd()),e=B;else if(p&&e&&m^f){var U;M&h||!(U=
n(F,e,!0))||(u=0,m?(a.lineStart(),a.point(U[0][0],U[0][1]),a.point(U[1][0],U[1][1]),a.lineEnd()):(a.point(U[1][0],U[1][1]),a.lineEnd(),a.lineStart(),a.point(U[0][0],U[0][1])))}!f||e&&aj(e,F)||a.point(F[0],F[1]);e=F;w=f;h=M},lineEnd:function(){w&&a.lineEnd();e=null},clean:function(){return u|(z&&w)<<1}}},function(k,e,h,n){Ld(n,a,r,h,k,e)},m?[0,-a]:[-Ma,a-Ma])};uf.prototype={constructor:uf,point:function(a,r){this.stream.point(a,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},
lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Sl=16,mp=na(30*ra),Ul=function(a,r){return+r?ne(a,r):kg(a)},np=mf({point:function(a,r){this.stream.point(a*ra,r*ra)}}),dj=function(){return Ad(Rd).scale(155.424).center([0,33.6442])},$n=function(){return dj().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},Qk=Of(function(a){return Bb(2/(1+a))});Qk.invert=Gc(function(a){return 2*
V(a/2)});var Rk=Of(function(a){return(a=ua(a))&&a/ea(a)});Rk.invert=Gc(function(a){return a});nf.invert=function(a,r){return[a,2*Ig(Wn(r))-hb]};Je.invert=Je;wf.invert=Gc(Ig);Jg.invert=Gc(V);Kg.invert=Gc(function(a){return 2*Ig(a)});Mj.invert=function(a,r){return[-r,2*Ig(Wn(a))-hb]};Lg.prototype=Nj.prototype={constructor:Lg,count:function(){return this.eachAfter(up)},each:function(a){var n,k,v,E,f=[this];do for(n=f.reverse(),f=[];k=n.pop();)if(a(k),k=k.children)for(v=0,E=k.length;v<E;++v)f.push(k[v]);
while(f.length);return this},eachAfter:function(a){for(var n,k,v,E=[this],f=[];n=E.pop();)if(f.push(n),n=n.children)for(k=0,v=n.length;k<v;++k)E.push(n[k]);for(;n=f.pop();)a(n);return this},eachBefore:function(a){for(var n,k,v=[this];n=v.pop();)if(a(n),n=n.children)for(k=n.length-1;0<=k;--k)v.push(n[k]);return this},sum:function(a){return this.eachAfter(function(n){for(var k=+a(n.data)||0,v=n.children,r=v&&v.length;0<=--r;)k+=v[r].value;n.value=k})},sort:function(a){return this.eachBefore(function(n){n.children&&
n.children.sort(a)})},path:function(a){var n=this,k;k=n;var v=a;if(k!==v){var f=k.ancestors(),m=v.ancestors(),p=null;k=f.pop();for(v=m.pop();k===v;)p=k,k=f.pop(),v=m.pop();k=p}for(v=[n];n!==k;)n=n.parent,v.push(n);for(n=v.length;a!==k;)v.splice(n,0,a),a=a.parent;return v},ancestors:function(){for(var a=this,r=[a];a=a.parent;)r.push(a);return r},descendants:function(){var a=[];return this.each(function(n){a.push(n)}),a},leaves:function(){var a=[];return this.eachBefore(function(n){n.children||a.push(n)}),
a},links:function(){var a=this,r=[];return a.each(function(k){k!==a&&r.push({source:k.parent,target:k})}),r},copy:function(){return Nj(this).eachBefore(wp)}};var bm=function(a){for(var n=(a=a.slice()).length,k=null,v=k;n;){var f=new xp(a[n-1]),v=v?v.next=f:k=f;a[void 0]=a[--n]}return Wl({head:k,tail:v},[])},Yg=function(a){return function(){return a}},ao=function(a){a.x0=Math.round(a.x0);a.y0=Math.round(a.y0);a.x1=Math.round(a.x1);a.y1=Math.round(a.y1)},qh=function(a,r,k,v,f){var n=a.children,E=-1,
m=n.length;for(v=a.value&&(v-r)/a.value;++E<m;)a=n[E],a.y0=k,a.y1=f,a.x0=r,a.x1=r+=a.value*v},Lr={depth:-1},bo={};wi.prototype=Object.create(Lg.prototype);var xi=function(a,r,k,v,f){var n=a.children,E=-1,m=n.length;for(f=a.value&&(f-k)/a.value;++E<m;)a=n[E],a.x0=r,a.x1=v,a.y0=k,a.y1=k+=a.value*f},co=(1+Math.sqrt(5))/2,eo=function r(a){function k(k,v,r,f,m){em(a,k,v,r,f,m)}return k.ratio=function(a){return r(1<(a=+a)?a:1)},k}(co),Mr=function k(a){function v(k,v,f,E,e){if((h=k._squarify)&&h.ratio===
a)for(var h,w,z,u,B=-1,F=h.length,I=k.value;++B<F;){k=h[B];w=k.children;z=k.value=0;for(u=w.length;z<u;++z)k.value+=w[z].value;k.dice?qh(k,v,f,E,f+=(e-f)*k.value/I):xi(k,v,f,v+=(E-v)*k.value/I,e);I-=k.value}else k._squarify=h=em(a,k,v,f,E,e),h.ratio=a}return v.ratio=function(a){return k(1<(a=+a)?a:1)},v}(co),Ep=function(a,v,f){return(v[0]-a[0])*(f[1]-a[1])-(v[1]-a[1])*(f[0]-a[0])},Nr=[].slice,Gp={};Rj.prototype=hm.prototype={constructor:Rj,defer:function(a){if("function"!=typeof a||this._call)throw Error();
if(null!=this._error)return this;var k=Nr.call(arguments,1);return k.push(a),++this._waiting,this._tasks.push(k),gm(this),this},abort:function(){return null==this._error&&Sj(this,Error("abort")),this},await:function(a){if("function"!=typeof a||this._call)throw Error();return this._call=function(k,f){a.apply(null,[k].concat(f))},yi(this),this},awaitAll:function(a){if("function"!=typeof a||this._call)throw Error();return this._call=a,yi(this),this}};var fo=function(a,v){var k,f;return a=null==a?0:+a,
v=null==v?1:+v,function(){var E;if(null!=k)E=k,k=null;else{do k=2*Math.random()-1,E=2*Math.random()-1,f=k*k+E*E;while(!f||1<f)}return a+v*E*Math.sqrt(-2*Math.log(f)/f)}},go=function(a){return function(){for(var k=0,f=0;f<a;++f)k+=Math.random();return k}},Sk=function(a,v){function k(a){var k,h=w.status,z;if(z=!h)z=(z=w.responseType)&&"text"!==z?w.response:w.responseText;if(z||200<=h&&300>h||304===h){if(y)try{k=y.call(f,w)}catch(de){return void e.call("error",f,de)}else k=w;e.call("load",f,k)}else e.call("error",
f,a)}var f,p,y,L,e=m("beforesend","progress","load","error"),h=cb(),w=new XMLHttpRequest,z=null,u=null,B=0;if("undefined"==typeof XDomainRequest||"withCredentials"in w||!/^(http(s)?:)?\/\//.test(a)||(w=new XDomainRequest),"onload"in w?w.onload=w.onerror=w.ontimeout=k:w.onreadystatechange=function(a){3<w.readyState&&k(a)},w.onprogress=function(a){e.call("progress",f,a)},f={header:function(a,e){return a=(a+"").toLowerCase(),2>arguments.length?h.get(a):(null==e?h.remove(a):h.set(a,e+""),f)},mimeType:function(a){return arguments.length?
(p=null==a?null:a+"",f):p},responseType:function(a){return arguments.length?(L=a,f):L},timeout:function(a){return arguments.length?(B=+a,f):B},user:function(a){return 1>arguments.length?z:(z=null==a?null:a+"",f)},password:function(a){return 1>arguments.length?u:(u=null==a?null:a+"",f)},response:function(a){return y=a,f},get:function(a,e){return f.send("GET",a,e)},post:function(a,e){return f.send("POST",a,e)},send:function(k,v,E){return w.open(k,a,!0,z,u),null==p||h.has("accept")||h.set("accept",p+
",*/*"),w.setRequestHeader&&h.each(function(a,e){w.setRequestHeader(e,a)}),null!=p&&w.overrideMimeType&&w.overrideMimeType(p),null!=L&&(w.responseType=L),0<B&&(w.timeout=B),null==E&&"function"==typeof v&&(E=v,v=null),null!=E&&1===E.length&&(E=Hp(E)),null!=E&&f.on("error",E).on("load",function(a){E(null,a)}),e.call("beforesend",f,w),w.send(null==v?null:v),f},abort:function(){return w.abort(),f},on:function(){var a=e.on.apply(e,arguments);return a===e?f:a}},null!=v){if("function"!=typeof v)throw Error("invalid callback: "+
v);return f.get(v)}return f},ej=function(a,v){return function(k,f){var E=Sk(k).mimeType(a).response(v);if(null!=f){if("function"!=typeof f)throw Error("invalid callback: "+f);return E.get(f)}return E}},Or=ej("text/html",function(a){return document.createRange().createContextualFragment(a.responseText)}),Pr=ej("application/json",function(a){return JSON.parse(a.responseText)}),Qr=ej("text/plain",function(a){return a.responseText}),Rr=ej("application/xml",function(a){a=a.responseXML;if(!a)throw Error("parse error");
return a}),ho=function(a,v){return function(k,f,m){3>arguments.length&&(m=f,f=null);var E=Sk(k).mimeType(a);return E.row=function(a){return arguments.length?E.response(Ip(v,f=a)):f},E.row(f),m?E.get(m):E}},Sr=ho("text/csv",Rn),Tr=ho("text/tab-separated-values",Sn),io=Array.prototype,Yj=io.map,Qf=io.slice,Uj={name:"implicit"},Xj=function(a){return function(){return a}},km=function(a){return+a},jm=[0,1],vm=function(a,v){a=a.slice();var k,f=0,m=a.length-1,p=a[f],L=a[m];return L<p&&(k=f,f=m,m=k,k=p,p=
L,L=k),a[f]=v.floor(p),a[m]=v.ceil(L),a},ak=new Date,bk=new Date,wg=Cb(function(){},function(a,v){a.setTime(+a+v)},function(a,v){return v-a});wg.every=function(a){return a=Math.floor(a),isFinite(a)&&0<a?1<a?Cb(function(k){k.setTime(Math.floor(k/a)*a)},function(k,f){k.setTime(+k+f*a)},function(k,f){return(f-k)/a}):wg:null};var jo=wg.range,xf=6E4,zm=6048E5,Oh=Cb(function(a){a.setTime(1E3*Math.floor(a/1E3))},function(a,v){a.setTime(+a+1E3*v)},function(a,v){return(v-a)/1E3},function(a){return a.getUTCSeconds()}),
ko=Oh.range,Tk=Cb(function(a){a.setTime(Math.floor(a/xf)*xf)},function(a,v){a.setTime(+a+v*xf)},function(a,v){return(v-a)/xf},function(a){return a.getMinutes()}),Ur=Tk.range,Uk=Cb(function(a){var k=a.getTimezoneOffset()*xf%36E5;0>k&&(k+=36E5);a.setTime(36E5*Math.floor((+a-k)/36E5)+k)},function(a,v){a.setTime(+a+36E5*v)},function(a,v){return(v-a)/36E5},function(a){return a.getHours()}),Vr=Uk.range,Di=Cb(function(a){a.setHours(0,0,0,0)},function(a,v){a.setDate(a.getDate()+v)},function(a,v){return(v-
a-(v.getTimezoneOffset()-a.getTimezoneOffset())*xf)/864E5},function(a){return a.getDate()-1}),Wr=Di.range,vh=rg(0),ek=rg(1),lo=rg(2),mo=rg(3),no=rg(4),oo=rg(5),po=rg(6),qo=vh.range,Xr=ek.range,Yr=lo.range,Zr=mo.range,$r=no.range,as=oo.range,bs=po.range,Vk=Cb(function(a){a.setDate(1);a.setHours(0,0,0,0)},function(a,v){a.setMonth(a.getMonth()+v)},function(a,v){return v.getMonth()-a.getMonth()+12*(v.getFullYear()-a.getFullYear())},function(a){return a.getMonth()}),cs=Vk.range,tg=Cb(function(a){a.setMonth(0,
1);a.setHours(0,0,0,0)},function(a,v){a.setFullYear(a.getFullYear()+v)},function(a,v){return v.getFullYear()-a.getFullYear()},function(a){return a.getFullYear()});tg.every=function(a){return isFinite(a=Math.floor(a))&&0<a?Cb(function(k){k.setFullYear(Math.floor(k.getFullYear()/a)*a);k.setMonth(0,1);k.setHours(0,0,0,0)},function(k,f){k.setFullYear(k.getFullYear()+f*a)}):null};var ds=tg.range,Wk=Cb(function(a){a.setUTCSeconds(0,0)},function(a,v){a.setTime(+a+v*xf)},function(a,v){return(v-a)/xf},function(a){return a.getUTCMinutes()}),
es=Wk.range,Xk=Cb(function(a){a.setUTCMinutes(0,0,0)},function(a,v){a.setTime(+a+36E5*v)},function(a,v){return(v-a)/36E5},function(a){return a.getUTCHours()}),fs=Xk.range,Ei=Cb(function(a){a.setUTCHours(0,0,0,0)},function(a,v){a.setUTCDate(a.getUTCDate()+v)},function(a,v){return(v-a)/864E5},function(a){return a.getUTCDate()-1}),gs=Ei.range,wh=sg(0),fk=sg(1),ro=sg(2),so=sg(3),to=sg(4),uo=sg(5),vo=sg(6),wo=wh.range,hs=fk.range,is=ro.range,js=so.range,ks=to.range,ls=uo.range,ms=vo.range,Yk=Cb(function(a){a.setUTCDate(1);
a.setUTCHours(0,0,0,0)},function(a,v){a.setUTCMonth(a.getUTCMonth()+v)},function(a,v){return v.getUTCMonth()-a.getUTCMonth()+12*(v.getUTCFullYear()-a.getUTCFullYear())},function(a){return a.getUTCMonth()}),ns=Yk.range,ug=Cb(function(a){a.setUTCMonth(0,1);a.setUTCHours(0,0,0,0)},function(a,v){a.setUTCFullYear(a.getUTCFullYear()+v)},function(a,v){return v.getUTCFullYear()-a.getUTCFullYear()},function(a){return a.getUTCFullYear()});ug.every=function(a){return isFinite(a=Math.floor(a))&&0<a?Cb(function(k){k.setUTCFullYear(Math.floor(k.getUTCFullYear()/
a)*a);k.setUTCMonth(0,1);k.setUTCHours(0,0,0,0)},function(k,f){k.setUTCFullYear(k.getUTCFullYear()+f*a)}):null};var Ng,os=ug.range,Bm={"-":"",_:" ",0:"0"},oe=/^\s*\d+/,Eq=/^%/,Dq=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Hm({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var ps=Date.prototype.toISOString?Fq:a.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),qs=+new Date("2000-01-01T00:00:00.000Z")?Gq:a.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),xh=1E3,yh=60*xh,zh=60*yh,Ah=24*zh,Jq=7*Ah,Im=30*Ah,ik=365*Ah,Tf=function(a){return a.match(/.{6}/g).map(function(a){return"#"+a})},rs=Tf("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ss=Tf("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),
ts=Tf("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),us=Tf("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),vs=Ti(ub(300,.5,0),ub(-240,.5,1)),ws=Ti(ub(-100,.75,.35),ub(80,1.5,.8)),xs=Ti(ub(260,.75,.35),ub(80,1.5,.8)),fj=ub(),ys=Fi(Tf("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),
zs=Fi(Tf("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),
As=Fi(Tf("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),
Bs=Fi(Tf("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),
Ja=function(a){return function(){return a}},Hc=1E-12,xg=Math.PI,Gi=xg/2,Uf=2*xg;Lm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,v){switch(a=+a,v=+v,this._point){case 0:this._point=1;this._line?this._context.lineTo(a,v):this._context.moveTo(a,v);break;case 1:this._point=2;default:this._context.lineTo(a,
v)}}};var gj=function(a){return new Lm(a)},Zk=function(){function a(a){var e,k,z,u=a.length,B=!1;null==p&&(L=y(z=tc()));for(e=0;e<=u;++e)!(e<u&&m(k=a[e],e,a))===B&&((B=!B)?L.lineStart():L.lineEnd()),B&&L.point(+v(k,e,a),+f(k,e,a));if(z)return L=null,z+""||null}var v=Mm,f=Nm,m=Ja(!0),p=null,y=gj,L=null;return a.x=function(e){return arguments.length?(v="function"==typeof e?e:Ja(+e),a):v},a.y=function(e){return arguments.length?(f="function"==typeof e?e:Ja(+e),a):f},a.defined=function(e){return arguments.length?
(m="function"==typeof e?e:Ja(!!e),a):m},a.curve=function(e){return arguments.length?(y=e,null!=p&&(L=y(p)),a):y},a.context=function(e){return arguments.length?(null==e?p=L=null:L=y(p=e),a):p},a},xo=function(){function a(a){var k,z,f,v,Ta,Ha=a.length,M=!1,U=Array(Ha),X=Array(Ha);null==e&&(w=h(Ta=tc()));for(k=0;k<=Ha;++k){if(!(k<Ha&&L(v=a[k],k,a))===M)if(M=!M)z=k,w.areaStart(),w.lineStart();else{w.lineEnd();w.lineStart();for(f=k-1;f>=z;--f)w.point(U[f],X[f]);w.lineEnd();w.areaEnd()}M&&(U[k]=+E(v,k,
a),X[k]=+p(v,k,a),w.point(m?+m(v,k,a):U[k],y?+y(v,k,a):X[k]))}if(Ta)return w=null,Ta+""||null}function f(){return Zk().defined(L).curve(h).context(e)}var E=Mm,m=null,p=Ja(0),y=Nm,L=Ja(!0),e=null,h=gj,w=null;return a.x=function(e){return arguments.length?(E="function"==typeof e?e:Ja(+e),m=null,a):E},a.x0=function(e){return arguments.length?(E="function"==typeof e?e:Ja(+e),a):E},a.x1=function(e){return arguments.length?(m=null==e?null:"function"==typeof e?e:Ja(+e),a):m},a.y=function(e){return arguments.length?
(p="function"==typeof e?e:Ja(+e),y=null,a):p},a.y0=function(e){return arguments.length?(p="function"==typeof e?e:Ja(+e),a):p},a.y1=function(e){return arguments.length?(y=null==e?null:"function"==typeof e?e:Ja(+e),a):y},a.lineX0=a.lineY0=function(){return f().x(E).y(p)},a.lineY1=function(){return f().x(E).y(y)},a.lineX1=function(){return f().x(m).y(p)},a.defined=function(e){return arguments.length?(L="function"==typeof e?e:Ja(!!e),a):L},a.curve=function(k){return arguments.length?(h=k,null!=e&&(w=
h(e)),a):h},a.context=function(k){return arguments.length?(null==k?e=w=null:w=h(e=k),a):e},a},Cs=function(a,f){return f<a?-1:f>a?1:f>=a?0:NaN},Ds=function(a){return a},yo=jk(gj);Om.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,f){this._curve.point(f*Math.sin(a),f*-Math.cos(a))}};var $k={draw:function(a,f){var k=Math.sqrt(f/xg);a.moveTo(k,0);
a.arc(0,0,k,0,Uf)}},zo={draw:function(a,f){var k=Math.sqrt(f/5)/2;a.moveTo(-3*k,-k);a.lineTo(-k,-k);a.lineTo(-k,-3*k);a.lineTo(k,-3*k);a.lineTo(k,-k);a.lineTo(3*k,-k);a.lineTo(3*k,k);a.lineTo(k,k);a.lineTo(k,3*k);a.lineTo(-k,3*k);a.lineTo(-k,k);a.lineTo(-3*k,k);a.closePath()}},Ao=Math.sqrt(1/3),Es=2*Ao,Bo={draw:function(a,f){var k=Math.sqrt(f/Es),v=k*Ao;a.moveTo(0,-k);a.lineTo(v,0);a.lineTo(0,k);a.lineTo(-v,0);a.closePath()}},Co=Math.sin(xg/10)/Math.sin(7*xg/10),Fs=Math.sin(Uf/10)*Co,Gs=-Math.cos(Uf/
10)*Co,Do={draw:function(a,f){var k=Math.sqrt(.8908130915292852*f),v=Fs*k,m=Gs*k;a.moveTo(0,-k);a.lineTo(v,m);for(var p=1;5>p;++p){var L=Uf*p/5,e=Math.cos(L),L=Math.sin(L);a.lineTo(L*k,-e*k);a.lineTo(e*v-L*m,L*v+e*m)}a.closePath()}},Eo={draw:function(a,f){var k=Math.sqrt(f),v=-k/2;a.rect(v,v,k,k)}},al=Math.sqrt(3),Fo={draw:function(a,f){var k=-Math.sqrt(f/(3*al));a.moveTo(0,2*k);a.lineTo(-al*k,-k);a.lineTo(al*k,-k);a.closePath()}},pe=Math.sqrt(3)/2,bl=1/Math.sqrt(12),Hs=3*(bl/2+1),Go={draw:function(a,
f){var k=Math.sqrt(f/Hs),v=k/2,m=k*bl,k=k*bl+k,p=-v;a.moveTo(v,m);a.lineTo(v,k);a.lineTo(p,k);a.lineTo(-.5*v-pe*m,pe*v+-.5*m);a.lineTo(-.5*v-pe*k,pe*v+-.5*k);a.lineTo(-.5*p-pe*k,pe*p+-.5*k);a.lineTo(-.5*v+pe*m,-.5*m-pe*v);a.lineTo(-.5*v+pe*k,-.5*k-pe*v);a.lineTo(-.5*p+pe*k,-.5*k-pe*p);a.closePath()}},Is=[$k,zo,Bo,Eo,Do,Fo,Go],Vf=function(){};Ji.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=
0},lineEnd:function(){switch(this._point){case 3:Ii(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,f){switch(a=+a,f=+f,this._point){case 0:this._point=1;this._line?this._context.lineTo(a,f):this._context.moveTo(a,f);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ii(this,a,f)}this._x0=
this._x1;this._x1=a;this._y0=this._y1;this._y1=f}};Pm.prototype={areaStart:Vf,areaEnd:Vf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();
break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(a,f){switch(a=+a,f=+f,this._point){case 0:this._point=1;this._x2=a;this._y2=f;break;case 1:this._point=2;this._x3=a;this._y3=f;break;case 2:this._point=3;this._x4=a;this._y4=f;this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+f)/6);break;default:Ii(this,a,f)}this._x0=this._x1;this._x1=a;this._y0=this._y1;this._y1=f}};Qm.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,f){switch(a=+a,f=+f,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var k=(this._x0+4*this._x1+a)/6,v=(this._y0+4*this._y1+f)/6;this._line?this._context.lineTo(k,v):this._context.moveTo(k,v);break;case 3:this._point=
4;default:Ii(this,a,f)}this._x0=this._x1;this._x1=a;this._y0=this._y1;this._y1=f}};Rm.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var a=this._x,f=this._y,m=a.length-1;if(0<m)for(var p,y=a[0],K=f[0],L=a[m]-y,e=f[m]-K,h=-1;++h<=m;)p=h/m,this._basis.point(this._beta*a[h]+(1-this._beta)*(y+p*L),this._beta*f[h]+(1-this._beta)*(K+p*e));this._x=this._y=null;this._basis.lineEnd()},point:function(a,f){this._x.push(+a);this._y.push(+f)}};var Js=function v(a){function f(f){return 1===
a?new Ji(f):new Rm(f,a)}return f.beta=function(a){return v(+a)},f}(.85);kk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ki(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,f){switch(a=
+a,f=+f,this._point){case 0:this._point=1;this._line?this._context.lineTo(a,f):this._context.moveTo(a,f);break;case 1:this._point=2;this._x1=a;this._y1=f;break;case 2:this._point=3;default:Ki(this,a,f)}this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=f}};var Ks=function E(a){function f(f){return new kk(f,a)}return f.tension=function(a){return E(+a)},f}(0);lk.prototype={areaStart:Vf,areaEnd:Vf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=
this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,f){switch(a=+a,f=+f,this._point){case 0:this._point=1;this._x3=a;this._y3=f;break;case 1:this._point=2;this._context.moveTo(this._x4=
a,this._y4=f);break;case 2:this._point=3;this._x5=a;this._y5=f;break;default:Ki(this,a,f)}this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=f}};var Ls=function M(a){function f(f){return new lk(f,a)}return f.tension=function(a){return M(+a)},f}(0);mk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==
this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,f){switch(a=+a,f=+f,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ki(this,a,f)}this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=f}};var Ms=function ca(a){function f(e){return new mk(e,a)}return f.tension=
function(a){return ca(+a)},f}(0);Sm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-
this._line},point:function(a,f){if(a=+a,f=+f,this._point){var m=this._x2-a,e=this._y2-f;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(m*m+e*e,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,f):this._context.moveTo(a,f);break;case 1:this._point=2;break;case 2:this._point=3;default:nk(this,a,f)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=
this._y2;this._y2=f}};var Ns=function of(a){function e(e){return a?new Sm(e,a):new kk(e,0)}return e.alpha=function(a){return of(+a)},e}(.5);Tm.prototype={areaStart:Vf,areaEnd:Vf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();
break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,f){if(a=+a,f=+f,this._point){var e=this._x2-a,h=this._y2-f;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+h*h,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=a;this._y3=f;break;case 1:this._point=2;this._context.moveTo(this._x4=a,this._y4=f);break;case 2:this._point=3;this._x5=a;this._y5=
f;break;default:nk(this,a,f)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=f}};var Os=function L(a){function e(e){return a?new Tm(e,a):new lk(e,0)}return e.alpha=function(a){return L(+a)},e}(.5);Um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;
this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,e){if(a=+a,e=+e,this._point){var h=this._x2-a,f=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(h*h+f*f,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,
this._y2);break;case 3:this._point=4;default:nk(this,a,e)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=e}};var Ps=function e(a){function h(e){return a?new Um(e,a):new mk(e,0)}return h.alpha=function(a){return e(+a)},h}(.5);Vm.prototype={areaStart:Vf,areaEnd:Vf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},
point:function(a,h){a=+a;h=+h;this._point?this._context.lineTo(a,h):(this._point=1,this._context.moveTo(a,h))}};Li.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ok(this,this._t0,Xm(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-
this._line},point:function(a,h){var e=NaN;if(a=+a,h=+h,a!==this._x1||h!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,h):this._context.moveTo(a,h);break;case 1:this._point=2;break;case 2:this._point=3;ok(this,Xm(this,e=Wm(this,a,h)),e);break;default:ok(this,this._t0,e=Wm(this,a,h))}this._x0=this._x1;this._x1=a;this._y0=this._y1;this._y1=h;this._t0=e}}};(Ym.prototype=Object.create(Li.prototype)).point=function(a,h){Li.prototype.point.call(this,h,a)};Zm.prototype=
{moveTo:function(a,h){this._context.moveTo(h,a)},closePath:function(){this._context.closePath()},lineTo:function(a,h){this._context.lineTo(h,a)},bezierCurveTo:function(a,h,f,z,u,B){this._context.bezierCurveTo(h,a,z,f,B,u)}};$m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var a=this._x,h=this._y,f=a.length;if(f)if(this._line?this._context.lineTo(a[0],h[0]):this._context.moveTo(a[0],h[0]),2===f)this._context.lineTo(a[1],
h[1]);else for(var z=an(a),u=an(h),B=0,F=1;F<f;++B,++F)this._context.bezierCurveTo(z[0][B],u[0][B],z[1][B],u[1][B],a[F],h[F]);(this._line||0!==this._line&&1===f)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(a,h){this._x.push(+a);this._y.push(+h)}};Mi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,
this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(a,h){switch(a=+a,h=+h,this._point){case 0:this._point=1;this._line?this._context.lineTo(a,h):this._context.moveTo(a,h);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,h),this._context.lineTo(a,h);else{var e=this._x*(1-this._t)+a*this._t;this._context.lineTo(e,this._y);this._context.lineTo(e,h)}}this._x=a;this._y=
h}};var Ho=Array.prototype.slice,Zg=function(a,h){if(1<(f=a.length))for(var e,f,u=1,B=a[h[0]],F=B.length;u<f;++u){e=B;for(var B=a[h[u]],I=0;I<F;++I)B[I][1]+=B[I][0]=isNaN(e[I][1])?e[I][0]:e[I][1]}},$g=function(a){a=a.length;for(var e=Array(a);0<=--a;)e[a]=a;return e},Io=function(a){var e=a.map(bn);return $g(a).sort(function(a,h){return e[a]-e[h]})},Jo=function(a){return function(){return a}};Ni.prototype={constructor:Ni,insert:function(a,h){var e,f,u;if(a){if(h.P=a,h.N=a.N,a.N&&(a.N.P=h),a.N=h,a.R){for(a=
a.R;a.L;)a=a.L;a.L=h}else a.R=h;e=a}else this._?(a=cn(this._),h.P=null,h.N=a,a.P=a.L=h,e=a):(h.P=h.N=null,this._=h,e=null);h.L=h.R=null;h.U=e;h.C=!0;for(a=h;e&&e.C;)f=e.U,e===f.L?(u=f.R,u&&u.C?(e.C=u.C=!1,f.C=!0,a=f):(a===e.R&&(Ch(this,e),a=e,e=a.U),e.C=!1,f.C=!0,Dh(this,f))):(u=f.L,u&&u.C?(e.C=u.C=!1,f.C=!0,a=f):(a===e.L&&(Dh(this,e),a=e,e=a.U),e.C=!1,f.C=!0,Ch(this,f))),e=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var e,f,z,u=a.U,B=a.L,F=a.R;if(f=B?F?cn(F):
B:F,u?u.L===a?u.L=f:u.R=f:this._=f,B&&F?(z=f.C,f.C=a.C,f.L=B,B.U=f,f!==F?(u=f.U,f.U=a.U,a=f.R,u.L=a,f.R=F,F.U=f):(f.U=u,u=f,a=f.R)):(z=a.C,a=f),a&&(a.U=u),!z){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===u.L){if(e=u.R,e.C&&(e.C=!1,u.C=!0,Ch(this,u),e=u.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Dh(this,e),e=u.R);e.C=u.C;u.C=e.R.C=!1;Ch(this,u);a=this._;break}}else if(e=u.L,e.C&&(e.C=!1,u.C=!0,Dh(this,u),e=u.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ch(this,
e),e=u.L);e.C=u.C;u.C=e.L.C=!1;Dh(this,u);a=this._;break}e.C=!0;a=u;u=u.U}while(!a.C);a&&(a.C=!1)}}};var pk,Qg,Ud,Gh,Ic,en=[],gn=[],Ua=1E-6,Xq=1E-12;rk.prototype={constructor:rk,polygons:function(){var a=this.edges;return this.cells.map(function(e){var f=e.halfedges.map(function(f){return dn(e,a[f])});return f.data=e.site.data,f})},triangles:function(){var a=[],f=this.edges;return this.cells.forEach(function(e,h){if(w=(u=e.halfedges).length)for(var u,w,z,I=e.site,m=-1,p=f[u[w-1]],p=p.left===I?p.right:
p.left;++m<w;)z=p,p=f[u[m]],p=p.left===I?p.right:p.left,z&&p&&h<z.index&&h<p.index&&0>(I[0]-p[0])*(z[1]-I[1])-(I[0]-z[0])*(p[1]-I[1])&&a.push([I.data,z.data,p.data])}),a},links:function(){return this.edges.filter(function(a){return a.right}).map(function(a){return{source:a.left.data,target:a.right.data}})},find:function(a,f,w){var e,h,B=this,F=B._found||0;for(e=B.cells.length;!(h=B.cells[F]);)if(++F>=e)return null;e=a-h.site[0];var I=f-h.site[1],m=e*e+I*I;do h=B.cells[e=F],F=null,h.halfedges.forEach(function(e){var w=
B.edges[e];e=w.left;if(e!==h.site&&e||(e=w.right)){var w=a-e[0],u=f-e[1],w=w*w+u*u;w<m&&(m=w,F=e.index)}});while(null!==F);return B._found=e,null==w||m<=w*w?h.site:null}};var Ko=function(a){return function(){return a}};yf.prototype={constructor:yf,scale:function(a){return 1===a?this:new yf(this.k*a,this.x,this.y)},translate:function(a,f){return 0===a&0===f?this:new yf(this.k,this.x+this.k*a,this.y+this.k*f)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*
this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var sk=new yf(1,
0,0);jn.prototype=yf.prototype;var Ph=function(){a.event.preventDefault();a.event.stopImmediatePropagation()};a.version="4.6.0";a.bisect=qg;a.bisectRight=qg;a.bisectLeft=cr;a.ascending=Wf;a.bisector=hk;a.descending=function(a,f){return f<a?-1:f>a?1:f>=a?0:NaN};a.deviation=nn;a.extent=on;a.histogram=function(){function a(a){var e,h,u=a.length,m=Array(u);for(e=0;e<u;++e)m[e]=f(a[e],e,a);e=w(m);var p=e[0],y=e[1],U=z(m,p,y);Array.isArray(U)||(U=Bi(p,y,U));for(var X=U.length;U[0]<=p;)U.shift(),--X;for(;U[X-
1]>=y;)U.pop(),--X;var K=Array(X+1);for(e=0;e<=X;++e)h=K[e]=[],h.x0=0<e?U[e-1]:p,h.x1=e<X?U[e]:y;for(e=0;e<u;++e)h=m[e],p<=h&&h<=y&&K[qg(U,h,0,X)].push(a[e]);return K}var f=fr,w=on,z=qn;return a.value=function(e){return arguments.length?(f="function"==typeof e?e:tk(e),a):f},a.domain=function(e){return arguments.length?(w="function"==typeof e?e:tk([e[0],e[1]]),a):w},a.thresholds=function(e){return arguments.length?(z="function"==typeof e?e:tk(Array.isArray(e)?dr.call(e):e),a):z},a};a.thresholdFreedmanDiaconis=
function(a,f,w){return a=er.call(a,Rf).sort(Wf),Math.ceil((w-f)/(2*(sh(a,.75)-sh(a,.25))*Math.pow(a.length,-1/3)))};a.thresholdScott=function(a,f,w){return Math.ceil((w-f)/(3.5*nn(a)*Math.pow(a.length,-1/3)))};a.thresholdSturges=qn;a.max=function(a,f){var e,h,u=-1,B=a.length;if(null==f){for(;++u<B;)if(null!=(h=a[u])&&h>=h){e=h;break}for(;++u<B;)null!=(h=a[u])&&h>e&&(e=h)}else{for(;++u<B;)if(null!=(h=f(a[u],u,a))&&h>=h){e=h;break}for(;++u<B;)null!=(h=f(a[u],u,a))&&h>e&&(e=h)}return e};a.mean=function(a,
f){var e,h=0,u=a.length,B=-1,F=u;if(null==f)for(;++B<u;)isNaN(e=Rf(a[B]))?--F:h+=e;else for(;++B<u;)isNaN(e=Rf(f(a[B],B,a)))?--F:h+=e;if(F)return h/F};a.median=function(a,f){var e,h=[],u=a.length,B=-1;if(null==f)for(;++B<u;)isNaN(e=Rf(a[B]))||h.push(e);else for(;++B<u;)isNaN(e=Rf(f(a[B],B,a)))||h.push(e);return sh(h.sort(Wf),.5)};a.merge=Aj;a.min=rn;a.pairs=function(a){for(var e=0,f=a.length-1,z=a[0],u=Array(0>f?0:f);e<f;)u[e]=[z,z=a[++e]];return u};a.permute=function(a,f){for(var e=f.length,h=Array(e);e--;)h[e]=
a[f[e]];return h};a.quantile=sh;a.range=He;a.scan=function(a,f){if(e=a.length){var e,h,u=0,B=0,F=a[B];for(f||(f=Wf);++u<e;)(0>f(h=a[u],F)||0!==f(F,F))&&(F=h,B=u);return 0===f(F,F)?B:void 0}};a.shuffle=function(a,f,w){for(var e,h=(null==w?a.length:w)-(f=null==f?0:+f);h;)e=Math.random()*h--|0,w=a[h+f],a[h+f]=a[e+f],a[e+f]=w;return a};a.sum=function(a,f){var e,h=0,u=a.length,B=-1;if(null==f)for(;++B<u;)(e=+a[B])&&(h+=e);else for(;++B<u;)(e=+f(a[B],B,a))&&(h+=e);return h};a.ticks=Bi;a.tickStep=f;a.transpose=
sn;a.variance=mn;a.zip=function(){return sn(arguments)};a.axisTop=function(a){return H(Qh,a)};a.axisRight=function(a){return H(Rh,a)};a.axisBottom=function(a){return H(hj,a)};a.axisLeft=function(a){return H(ah,a)};a.brush=function(){return cc(zr)};a.brushX=function(){return cc(ai)};a.brushY=function(){return cc($h)};a.brushSelection=function(a){return(a=a.__brush)?a.dim.output(a.selection):null};a.chord=function(){function a(a){var e,h,B,m,p,U,X=a.length,y=[],Ka=He(X),La=[],K=[],C=K.groups=Array(X),
H=Array(X*X);e=0;for(p=-1;++p<X;){h=0;for(U=-1;++U<X;)h+=a[p][U];y.push(h);La.push(He(X));e+=h}w&&Ka.sort(function(a,e){return w(y[a],y[e])});z&&La.forEach(function(e,f){e.sort(function(e,h){return z(a[f][e],a[f][h])})});m=(e=Qn(0,Pn-f*X)/e)?f:Pn/X;h=0;for(p=-1;++p<X;){B=h;for(U=-1;++U<X;){var G=Ka[p],J=La[G][U],N=a[G][J],Z=h,P=h+=N*e;H[J*X+G]={index:G,subindex:J,startAngle:Z,endAngle:P,value:N}}C[G]={index:G,startAngle:B,endAngle:h,value:y[G]};h+=m}for(p=-1;++p<X;)for(U=p-1;++U<X;)e=H[U*X+p],h=H[p*
X+U],(e.value||h.value)&&K.push(e.value<h.value?{source:h,target:e}:{source:e,target:h});return u?K.sort(u):K}var f=0,w=null,z=null,u=null;return a.padAngle=function(e){return arguments.length?(f=Qn(0,e),a):f},a.sortGroups=function(e){return arguments.length?(w=e,a):w},a.sortSubgroups=function(e){return arguments.length?(z=e,a):z},a.sortChords=function(e){return arguments.length?(null==e?u=null:(u=Xe(e))._=e,a):u&&u._},a};a.ribbon=function(){function a(){var a,e=Ar.call(arguments),h=f.apply(this,
e),m=w.apply(this,e),h=+z.apply(this,(e[0]=h,e)),p=u.apply(this,e)-Vi,X=B.apply(this,e)-Vi,y=h*Mn(p),Ka=h*Nn(p),m=+z.apply(this,(e[0]=m,e)),La=u.apply(this,e)-Vi,e=B.apply(this,e)-Vi;if(F||(F=a=tc()),F.moveTo(y,Ka),F.arc(0,0,h,p,X),p===La&&X===e||(F.quadraticCurveTo(0,0,m*Mn(La),m*Nn(La)),F.arc(0,0,m,La,e)),F.quadraticCurveTo(0,0,y,Ka),F.closePath(),a)return F=null,a+""||null}var f=cd,w=dd,z=Ye,u=ed,B=Ze,F=null;return a.radius=function(e){return arguments.length?(z="function"==typeof e?e:Hk(+e),a):
z},a.startAngle=function(e){return arguments.length?(u="function"==typeof e?e:Hk(+e),a):u},a.endAngle=function(e){return arguments.length?(B="function"==typeof e?e:Hk(+e),a):B},a.source=function(e){return arguments.length?(f=e,a):f},a.target=function(e){return arguments.length?(w=e,a):w},a.context=function(e){return arguments.length?(F=null==e?null:e,a):F},a};a.nest=function(){function a(e,f,h,u){if(f>=B.length)return null!=z?z(e):null!=w?e.sort(w):e;for(var m,F,I,p=-1,Ta=e.length,y=B[f++],Ha=cb(),
K=h();++p<Ta;)(I=Ha.get(m=y(F=e[p])+""))?I.push(F):Ha.set(m,[F]);return Ha.each(function(e,w){u(K,w,a(e,f,h,u))}),K}function f(a,e){if(++e>B.length)return a;var h,w=m[e-1];return null!=z&&e>=B.length?h=a.entries():(h=[],a.each(function(a,w){h.push({key:w,values:f(a,e)})})),null!=w?h.sort(function(a,e){return w(a.key,e.key)}):h}var w,z,u,B=[],m=[];return u={object:function(e){return a(e,0,$e,fd)},map:function(e){return a(e,0,Ae,uc)},entries:function(e){return f(a(e,0,Ae,uc),0)},key:function(a){return B.push(a),
u},sortKeys:function(a){return m[B.length-1]=a,u},sortValues:function(a){return w=a,u},rollup:function(a){return z=a,u}}};a.set=fa;a.map=cb;a.keys=function(a){var e=[],f;for(f in a)e.push(f);return e};a.values=function(a){var e=[],f;for(f in a)e.push(a[f]);return e};a.entries=function(a){var e=[],f;for(f in a)e.push({key:f,value:a[f]});return e};a.color=ib;a.rgb=vd;a.hsl=Fb;a.lab=Dd;a.hcl=Gb;a.cubehelix=ub;a.dispatch=m;a.drag=function(){function e(a){a.on("mousedown.drag",f).on("touchstart.drag",
u).on("touchmove.drag",B).on("touchend.drag touchcancel.drag",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){if(!y&&K.apply(this,arguments)){var e=I("mouse",U.apply(this,arguments),Af,this,arguments);e&&(Cd(a.event.view).on("mousemove.drag",w,!0).on("mouseup.drag",z,!0),bi(a.event.view),a.event.stopImmediatePropagation(),p=!1,e("start"))}}function w(){zg();p=!0;C.mouse("drag")}function z(){Cd(a.event.view).on("mousemove.drag mouseup.drag",null);Nc(a.event.view,p);zg();C.mouse("end")}
function u(){if(K.apply(this,arguments)){var e,f,h=a.event.changedTouches,u=U.apply(this,arguments),w=h.length;for(e=0;e<w;++e)if(f=I(h[e].identifier,u,Ri,this,arguments))a.event.stopImmediatePropagation(),f("start")}}function B(){var e,f,h=a.event.changedTouches,u=h.length;for(e=0;e<u;++e)(f=C[h[e].identifier])&&(zg(),f("drag"))}function F(){var e,f,h=a.event.changedTouches,u=h.length;y&&clearTimeout(y);y=setTimeout(function(){y=null},500);for(e=0;e<u;++e)if(f=C[h[e].identifier])a.event.stopImmediatePropagation(),
f("end")}function I(f,h,u,w,z){var B,m,F,I=u(h,f),p=Ka.copy();if(Qa(new Ob(e,"beforestart",B,f,La,I[0],I[1],0,0,p),function(){return null!=(a.event.subject=B=X.apply(w,z))&&(m=B.x-I[0]||0,F=B.y-I[1]||0,!0)}))return function gp(a){var X,Ka=I;switch(a){case "start":C[f]=gp;X=La++;break;case "end":delete C[f],--La;case "drag":I=u(h,f),X=La}Qa(new Ob(e,a,B,f,X,I[0]+m,I[1]+F,I[0]-Ka[0],I[1]-Ka[1],p),p.apply,p,[a,w,z])}}var p,y,K=Ke,U=Jc,X=Kc,C={},Ka=m("start","drag","end"),La=0;return e.filter=function(a){return arguments.length?
(K="function"==typeof a?a:Ak(!!a),e):K},e.container=function(a){return arguments.length?(U="function"==typeof a?a:Ak(a),e):U},e.subject=function(a){return arguments.length?(X="function"==typeof a?a:Ak(a),e):X},e.on=function(){var a=Ka.on.apply(Ka,arguments);return a===Ka?e:a},e};a.dragDisable=bi;a.dragEnable=Nc;a.dsvFormat=Kk;a.csvParse=Rn;a.csvParseRows=Cr;a.csvFormat=Dr;a.csvFormatRows=Er;a.tsvParse=Sn;a.tsvParseRows=Fr;a.tsvFormat=Gr;a.tsvFormatRows=Hr;a.easeLinear=function(a){return+a};a.easeQuad=
ta;a.easeQuadIn=function(a){return a*a};a.easeQuadOut=function(a){return a*(2-a)};a.easeQuadInOut=ta;a.easeCubic=ba;a.easeCubicIn=function(a){return a*a*a};a.easeCubicOut=function(a){return--a*a*a+1};a.easeCubicInOut=ba;a.easePoly=In;a.easePolyIn=sr;a.easePolyOut=tr;a.easePolyInOut=In;a.easeSin=be;a.easeSinIn=function(a){return 1-Math.cos(a*Jn)};a.easeSinOut=function(a){return Math.sin(a*Jn)};a.easeSinInOut=be;a.easeExp=sc;a.easeExpIn=function(a){return Math.pow(2,10*a-10)};a.easeExpOut=function(a){return 1-
Math.pow(2,-10*a)};a.easeExpInOut=sc;a.easeCircle=ze;a.easeCircleIn=function(a){return 1-Math.sqrt(1-a*a)};a.easeCircleOut=function(a){return Math.sqrt(1- --a*a)};a.easeCircleInOut=ze;a.easeBounce=zb;a.easeBounceIn=function(a){return 1-zb(1-a)};a.easeBounceOut=zb;a.easeBounceInOut=function(a){return(1>=(a*=2)?1-zb(1-a):zb(a-1)+1)/2};a.easeBack=Kn;a.easeBackIn=ur;a.easeBackOut=vr;a.easeBackInOut=Kn;a.easeElastic=Ln;a.easeElasticIn=wr;a.easeElasticOut=Ln;a.easeElasticInOut=xr;a.forceCenter=function(a,
f){function e(){var e,w,z=h.length,m=0,p=0;for(e=0;e<z;++e)w=h[e],m+=w.x,p+=w.y;m=m/z-a;p=p/z-f;for(e=0;e<z;++e)w=h[e],w.x-=m,w.y-=p}var h;return null==a&&(a=0),null==f&&(f=0),e.initialize=function(a){h=a},e.x=function(f){return arguments.length?(a=+f,e):a},e.y=function(a){return arguments.length?(f=+a,e):f},e};a.forceCollide=function(a){function e(){function a(a,e,f,h,u){var B=a.data;a=a.r;var I=p+a;if(!B)return e>z+I||h<z-I||f>F+I||u<F-I;B.index>w.index&&(e=z-B.x-B.vx,f=F-B.y-B.vy,h=e*e+f*f,h<I*
I&&(0===e&&(e=Sf(),h+=e*e),0===f&&(f=Sf(),h+=f*f),h=(I-(h=Math.sqrt(h)))/h*m,w.vx+=(e*=h)*(I=(a*=a)/(y+a)),w.vy+=(f*=h)*I,B.vx-=e*(I=1-I),B.vy-=f*I))}for(var e,h,w,z,F,p,y,K=u.length,C=0;C<I;++C)for(h=Jb(u,bf,jd).visitAfter(f),e=0;e<K;++e)w=u[e],p=B[w.index],y=p*p,z=w.x+w.vx,F=w.y+w.vy,h.visit(a)}function f(a){if(a.data)return a.r=B[a.data.index];for(var e=a.r=0;4>e;++e)a[e]&&a[e].r>a.r&&(a.r=a[e].r)}function z(){if(u){var e,f,h=u.length;B=Array(h);for(e=0;e<h;++e)f=u[e],B[f.index]=+a(f,e,u)}}var u,
B,m=1,I=1;return"function"!=typeof a&&(a=pd(null==a?1:+a)),e.initialize=function(a){u=a;z()},e.iterations=function(a){return arguments.length?(I=+a,e):I},e.strength=function(a){return arguments.length?(m=+a,e):m},e.radius=function(f){return arguments.length?(a="function"==typeof f?f:pd(+f),z(),e):a},e};a.forceLink=function(a){function e(e){for(var f=0,h=a.length;f<C;++f)for(var w,u,z,F,I,p=0;p<h;++p)w=a[p],u=w.source,w=w.target,z=w.x+w.vx-u.x-u.vx||Sf(),F=w.y+w.vy-u.y-u.vy||Sf(),I=Math.sqrt(z*z+F*
F),I=(I-m[p])/I*e*B[p],z*=I,F*=I,w.vx-=z*(I=y[p]),w.vy-=F*I,u.vx+=z*(I=1-I),u.vy+=F*I}function f(){if(I){var e,f;f=I.length;var h=a.length,w=cb(I,K);e=0;for(p=Array(f);e<h;++e)f=a[e],f.index=e,"object"!=typeof f.source&&(f.source=vc(w,f.source)),"object"!=typeof f.target&&(f.target=vc(w,f.target)),p[f.source.index]=(p[f.source.index]||0)+1,p[f.target.index]=(p[f.target.index]||0)+1;e=0;for(y=Array(h);e<h;++e)f=a[e],y[e]=p[f.source.index]/(p[f.source.index]+p[f.target.index]);B=Array(h);z();m=Array(h);
u()}}function z(){if(I)for(var e=0,f=a.length;e<f;++e)B[e]=+U(a[e],e,a)}function u(){if(I)for(var e=0,f=a.length;e<f;++e)m[e]=+X(a[e],e,a)}var B,m,I,p,y,K=kd,U=function(a){return 1/Math.min(p[a.source.index],p[a.target.index])},X=pd(30),C=1;return null==a&&(a=[]),e.initialize=function(a){I=a;f()},e.links=function(h){return arguments.length?(a=h,f(),e):a},e.id=function(a){return arguments.length?(K=a,e):K},e.iterations=function(a){return arguments.length?(C=+a,e):C},e.strength=function(a){return arguments.length?
(U="function"==typeof a?a:pd(+a),z(),e):U},e.distance=function(a){return arguments.length?(X="function"==typeof a?a:pd(+a),u(),e):X},e};a.forceManyBody=function(){function a(a){var e=u.length,f=Jb(u,cf,df).visitAfter(w);m=a;for(a=0;a<e;++a)B=u[a],f.visit(z)}function f(){if(u){var a,e,f=u.length;I=Array(f);for(a=0;a<f;++a)e=u[a],I[e.index]=+p(e,a,u)}}function w(a){var e,f,h,w,u,z=0;if(a.length){for(h=w=u=0;4>u;++u)(e=a[u])&&(f=e.value)&&(z+=f,h+=f*e.x,w+=f*e.y);a.x=h/z;a.y=w/z}else{e=a;e.x=e.data.x;
e.y=e.data.y;do z+=I[e.data.index];while(e=e.next)}a.value=z}function z(a,e,f,h){if(!a.value)return!0;f=a.x-B.x;var w=a.y-B.y;e=h-e;h=f*f+w*w;if(e*e/U<h)return h<K&&(0===f&&(f=Sf(),h+=f*f),0===w&&(w=Sf(),h+=w*w),h<y&&(h=Math.sqrt(y*h)),B.vx+=f*a.value*m/h,B.vy+=w*a.value*m/h),!0;if(!(a.length||h>=K)){(a.data!==B||a.next)&&(0===f&&(f=Sf(),h+=f*f),0===w&&(w=Sf(),h+=w*w),h<y&&(h=Math.sqrt(y*h)));do a.data!==B&&(e=I[a.data.index]*m/h,B.vx+=f*e,B.vy+=w*e);while(a=a.next)}}var u,B,m,I,p=pd(-30),y=1,K=1/
0,U=.81;return a.initialize=function(a){u=a;f()},a.strength=function(e){return arguments.length?(p="function"==typeof e?e:pd(+e),f(),a):p},a.distanceMin=function(e){return arguments.length?(y=e*e,a):Math.sqrt(y)},a.distanceMax=function(e){return arguments.length?(K=e*e,a):Math.sqrt(K)},a.theta=function(e){return arguments.length?(U=e*e,a):Math.sqrt(U)},a};a.forceSimulation=function(a){function e(){f();C.call("tick",B);F<I&&(X.stop(),C.call("end",B))}function f(){var e,f,h=a.length;F+=(y-F)*p;U.each(function(a){a(F)});
for(e=0;e<h;++e)f=a[e],null==f.fx?f.x+=f.vx*=K:(f.x=f.fx,f.vx=0),null==f.fy?f.y+=f.vy*=K:(f.y=f.fy,f.vy=0)}function z(){for(var e,f=0,h=a.length;f<h;++f){if(e=a[f],e.index=f,isNaN(e.x)||isNaN(e.y)){var w=10*Math.sqrt(f),u=f*Ir;e.x=w*Math.cos(u);e.y=w*Math.sin(u)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function u(e){return e.initialize&&e.initialize(a),e}var B,F=1,I=.001,p=1-Math.pow(I,1/300),y=0,K=.6,U=cb(),X=Hb(e),C=m("tick","end");return null==a&&(a=[]),z(),B={tick:f,restart:function(){return X.restart(e),
B},stop:function(){return X.stop(),B},nodes:function(e){return arguments.length?(a=e,z(),U.each(u),B):a},alpha:function(a){return arguments.length?(F=+a,B):F},alphaMin:function(a){return arguments.length?(I=+a,B):I},alphaDecay:function(a){return arguments.length?(p=+a,B):+p},alphaTarget:function(a){return arguments.length?(y=+a,B):y},velocityDecay:function(a){return arguments.length?(K=1-a,B):1-K},force:function(a,e){return 1<arguments.length?(null==e?U.remove(a):U.set(a,u(e)),B):U.get(a)},find:function(e,
f,h){var w,u,z,B,m,F=a.length;null==h?h=1/0:h*=h;for(m=0;m<F;++m)z=a[m],w=e-z.x,u=f-z.y,w=w*w+u*u,w<h&&(B=z,h=w);return B},on:function(a,e){return 1<arguments.length?(C.on(a,e),B):C.on(a)}}};a.forceX=function(a){function e(a){for(var e,f=0,h=z.length;f<h;++f)e=z[f],e.vx+=(B[f]-e.x)*u[f]*a}function f(){if(z){var e,f=z.length;u=Array(f);B=Array(f);for(e=0;e<f;++e)u[e]=isNaN(B[e]=+a(z[e],e,z))?0:+m(z[e],e,z)}}var z,u,B,m=pd(.1);return"function"!=typeof a&&(a=pd(null==a?0:+a)),e.initialize=function(a){z=
a;f()},e.strength=function(a){return arguments.length?(m="function"==typeof a?a:pd(+a),f(),e):m},e.x=function(h){return arguments.length?(a="function"==typeof h?h:pd(+h),f(),e):a},e};a.forceY=function(a){function e(a){for(var e,f=0,h=z.length;f<h;++f)e=z[f],e.vy+=(B[f]-e.y)*u[f]*a}function f(){if(z){var e,f=z.length;u=Array(f);B=Array(f);for(e=0;e<f;++e)u[e]=isNaN(B[e]=+a(z[e],e,z))?0:+m(z[e],e,z)}}var z,u,B,m=pd(.1);return"function"!=typeof a&&(a=pd(null==a?0:+a)),e.initialize=function(a){z=a;f()},
e.strength=function(a){return arguments.length?(m="function"==typeof a?a:pd(+a),f(),e):m},e.y=function(h){return arguments.length?(a="function"==typeof h?h:pd(+h),f(),e):a},e};a.formatDefaultLocale=Ca;a.formatLocale=Bl;a.formatSpecifier=Ci;a.precisionFixed=om;a.precisionPrefix=mm;a.precisionRound=nm;a.geoArea=function(a){return $i.reset(),Ie(a,ff),2*$i};a.geoBounds=function(a){var e,f,z,u,B,m;if(ge=ob=-(kb=Hd=1/0),Bf=[],Ie(a,rf),e=Bf.length){Bf.sort(Zf);a=1;f=Bf[0];for(u=[f];a<e;++a)z=Bf[a],Cf(f,
z[0])||Cf(f,z[1])?(Va(f[0],z[1])>Va(f[0],f[1])&&(f[1]=z[1]),Va(z[0],f[1])>Va(f[0],f[1])&&(f[0]=z[0])):u.push(f=z);B=-(1/0);e=u.length-1;a=0;for(f=u[e];a<=e;f=z,++a)z=u[a],(m=Va(f[1],z[0]))>B&&(B=m,kb=z[0],ob=f[1])}return Bf=qf=null,kb===1/0||Hd===1/0?[[NaN,NaN],[NaN,NaN]]:[[kb,Hd],[ob,ge]]};a.geoCentroid=function(a){ih=ii=fi=gi=hi=ji=ki=li=xj=yj=zj=0;Ie(a,Ge);a=xj;var e=yj,f=zj,z=a*a+e*e+f*f;return 1E-12>z&&(a=ji,e=ki,f=li,ii<qa&&(a=fi,e=gi,f=hi),z=a*a+e*e+f*f,1E-12>z)?[NaN,NaN]:[zc(e,a)*Za,V(f/Bb(z))*
Za]};a.geoCircle=function(){function a(){var a=z.apply(this,arguments),e=u.apply(this,arguments)*ra,h=B.apply(this,arguments)*ra;return f=[],w=sf(-a[0]*ra,-a[1]*ra,0).invert,Ld(m,e,h,1),a={type:"Polygon",coordinates:[f]},f=w=null,a}var f,w,z=Wg([0,0]),u=Wg(90),B=Wg(6),m={point:function(a,e){f.push(a=w(a,e));a[0]*=Za;a[1]*=Za}};return a.center=function(e){return arguments.length?(z="function"==typeof e?e:Wg([+e[0],+e[1]]),a):z},a.radius=function(e){return arguments.length?(u="function"==typeof e?e:
Wg(+e),a):u},a.precision=function(e){return arguments.length?(B="function"==typeof e?e:Wg(+e),a):B},a};a.geoClipExtent=function(){var a,f,w,z=0,u=0,B=960,m=500;return w={stream:function(e){return a&&f===e?a:a=jf(z,u,B,m)(f=e)},extent:function(e){return arguments.length?(z=+e[0][0],u=+e[0][1],B=+e[1][0],m=+e[1][1],a=f=null,w):[[z,u],[B,m]]}}};a.geoDistance=function(a,f){return Lk[0]=a,Lk[1]=f,Yn(Kr)};a.geoGraticule=Nd;a.geoGraticule10=function(){return Nd()()};a.geoInterpolate=function(a,f){var e=
a[0]*ra,h=a[1]*ra,u=f[0]*ra,B=f[1]*ra,m=na(h),p=ea(h),y=na(B),K=ea(B),C=m*na(e),U=m*ea(e),X=y*na(u),G=y*ea(u),H=2*V(Bb(fe(B-h)+m*y*fe(u-e))),J=ea(H),u=H?function(a){var e=ea(a*=H)/J,f=ea(H-a)/J;a=f*C+e*X;var h=f*U+e*G,e=f*p+e*K;return[zc(h,a)*Za,zc(e,Bb(a*a+h*h))*Za]}:function(){return[e*Za,h*Za]};return u.distance=H,u};a.geoLength=Yn;a.geoPath=function(a,f){function e(a){return a&&("function"==typeof B&&u.pointRadius(+B.apply(this,arguments)),Ie(a,h(u))),u.result()}var h,u,B=4.5;return e.area=function(a){return Ie(a,
h(tf)),tf.result()},e.measure=function(a){return Ie(a,h(mh)),mh.result()},e.bounds=function(a){return Ie(a,h(si)),si.result()},e.centroid=function(a){return Ie(a,h(ie)),ie.result()},e.projection=function(f){return arguments.length?(h=null==f?(a=null,lg):(a=f).stream,e):a},e.context=function(a){return arguments.length?(u=null==a?(f=null,new Nf):new Lf(f=a),"function"!=typeof B&&u.pointRadius(B),e):f},e.pointRadius=function(a){return arguments.length?(B="function"==typeof a?a:(u.pointRadius(+a),+a),
e):B},e.projection(a).context(f)};a.geoAlbers=$n;a.geoAlbersUsa=function(){function a(a){var e=a[0];a=a[1];return m=null,z.point(e,a),m||(u.point(e,a),m)||(B.point(e,a),m)}var f,w,z,u,B,m,p=$n(),y=dj().rotate([154,0]).center([-2,58.5]).parallels([55,65]),K=dj().rotate([157,0]).center([-3,19.9]).parallels([8,18]),C={point:function(a,e){m=[a,e]}};return a.invert=function(a){var e=p.scale(),f=p.translate(),h=(a[0]-f[0])/e,e=(a[1]-f[1])/e;return(.12<=e&&.234>e&&-.425<=h&&-.214>h?y:.166<=e&&.234>e&&-.214<=
h&&-.115>h?K:p).invert(a)},a.stream=function(a){return f&&w===a?f:f=ng([p.stream(w=a),y.stream(a),K.stream(a)])},a.precision=function(e){return arguments.length?(p.precision(e),y.precision(e),K.precision(e),f=w=null,a):p.precision()},a.scale=function(e){return arguments.length?(p.scale(e),y.scale(.35*e),K.scale(e),a.translate(p.translate())):p.scale()},a.translate=function(e){if(!arguments.length)return p.translate();var h=p.scale(),m=+e[0],F=+e[1];return z=p.translate(e).clipExtent([[m-.455*h,F-
.238*h],[m+.455*h,F+.238*h]]).stream(C),u=y.translate([m-.307*h,F+.201*h]).clipExtent([[m-.425*h+qa,F+.12*h+qa],[m-.214*h-qa,F+.234*h-qa]]).stream(C),B=K.translate([m-.205*h,F+.212*h]).clipExtent([[m-.214*h+qa,F+.166*h+qa],[m-.115*h-qa,F+.234*h-qa]]).stream(C),f=w=null,a},a.fitExtent=function(e,f){return jc(a,e,f)},a.fitSize=function(e,f){return jc(a,[[0,0],e],f)},a.scale(1070)};a.geoAzimuthalEqualArea=function(){return zd(Qk).scale(124.75).clipAngle(179.999)};a.geoAzimuthalEqualAreaRaw=Qk;a.geoAzimuthalEquidistant=
function(){return zd(Rk).scale(79.4188).clipAngle(179.999)};a.geoAzimuthalEquidistantRaw=Rk;a.geoConicConformal=function(){return Ad(Pf).scale(109.5).parallels([30,30])};a.geoConicConformalRaw=Pf;a.geoConicEqualArea=dj;a.geoConicEqualAreaRaw=Rd;a.geoConicEquidistant=function(){return Ad(Td).scale(131.154).center([0,13.9389])};a.geoConicEquidistantRaw=Td;a.geoEquirectangular=function(){return zd(Je).scale(152.63)};a.geoEquirectangularRaw=Je;a.geoGnomonic=function(){return zd(wf).scale(144.049).clipAngle(60)};
a.geoGnomonicRaw=wf;a.geoIdentity=function(){var a,f,w,z,u,m,p=1,I=0,y=0,K=1,C=1,U=lg,X=null,H=lg;return m={stream:function(a){return z&&u===a?z:z=U(H(u=a))},clipExtent:function(e){return arguments.length?(H=null==e?(X=a=f=w=null,lg):jf(X=+e[0][0],a=+e[0][1],f=+e[1][0],w=+e[1][1]),z=u=null,m):null==X?null:[[X,a],[f,w]]},scale:function(a){return arguments.length?(U=og((p=+a)*K,p*C,I,y),z=u=null,m):p},translate:function(a){return arguments.length?(U=og(p*K,p*C,I=+a[0],y=+a[1]),z=u=null,m):[I,y]},reflectX:function(a){return arguments.length?
(U=og(p*(K=a?-1:1),p*C,I,y),z=u=null,m):0>K},reflectY:function(a){return arguments.length?(U=og(p*K,p*(C=a?-1:1),I,y),z=u=null,m):0>C},fitExtent:function(a,e){return jc(m,a,e)},fitSize:function(a,e){return jc(m,[[0,0],a],e)}}};a.geoProjection=zd;a.geoProjectionMutator=vf;a.geoMercator=function(){return Sd(nf).scale(961/yd)};a.geoMercatorRaw=nf;a.geoOrthographic=function(){return zd(Jg).scale(249.5).clipAngle(90+qa)};a.geoOrthographicRaw=Jg;a.geoStereographic=function(){return zd(Kg).scale(250).clipAngle(142)};
a.geoStereographicRaw=Kg;a.geoTransverseMercator=function(){var a=Sd(Mj),f=a.center,w=a.rotate;return a.center=function(a){return arguments.length?f([-a[1],a[0]]):(a=f(),[a[1],-a[0]])},a.rotate=function(a){return arguments.length?w([a[0],a[1],2<a.length?a[2]+90:90]):(a=w(),[a[0],a[1],a[2]-90])},w([0,0,90]).scale(159.155)};a.geoTransverseMercatorRaw=Mj;a.geoRotation=function(a){function e(e){return e=a(e[0]*ra,e[1]*ra),e[0]*=Za,e[1]*=Za,e}return a=sf(a[0]*ra,a[1]*ra,2<a.length?a[2]*ra:0),e.invert=
function(e){return e=a.invert(e[0]*ra,e[1]*ra),e[0]*=Za,e[1]*=Za,e},e};a.geoStream=Ie;a.geoTransform=function(a){return{stream:mf(a)}};a.cluster=function(){function a(a){var e,h=0;a.eachAfter(function(a){var u=a.children;if(u){var m;m=u.reduce(qp,0)/u.length;a.x=m;a.y=1+u.reduce(rp,0)}else a.x=e?h+=f(a,e):0,a.y=0,e=a});var z=sp(a),B=tp(a),p=z.x-f(z,B)/2,y=B.x+f(B,z)/2;return a.eachAfter(u?function(e){e.x=(e.x-a.x)*w;e.y=(a.y-e.y)*m}:function(e){e.x=(e.x-p)/(y-p)*w;e.y=(1-(a.y?e.y/a.y:1))*m})}var f=
pp,w=1,m=1,u=!1;return a.separation=function(e){return arguments.length?(f=e,a):f},a.size=function(e){return arguments.length?(u=!1,w=+e[0],m=+e[1],a):u?null:[w,m]},a.nodeSize=function(e){return arguments.length?(u=!0,w=+e[0],m=+e[1],a):u?[w,m]:null},a};a.hierarchy=Nj;a.pack=function(){function a(a){return a.x=m/2,a.y=z/2,f?a.eachBefore(cm(f)).eachAfter(Oj(u,.5)).eachBefore(dm(1)):a.eachBefore(cm(yp)).eachAfter(Oj(pg,1)).eachAfter(Oj(u,a.r/Math.min(m,z))).eachBefore(dm(Math.min(m,z)/(2*a.r))),a}var f=
null,m=1,z=1,u=pg;return a.radius=function(e){return arguments.length?(f=null==e?null:vi(e),a):f},a.size=function(e){return arguments.length?(m=+e[0],z=+e[1],a):[m,z]},a.padding=function(e){return arguments.length?(u="function"==typeof e?e:Yg(+e),a):u},a};a.packSiblings=function(a){return am(a),a};a.packEnclose=bm;a.partition=function(){function a(a){var e=a.height+1;return a.x0=a.y0=u,a.x1=m,a.y1=z/e,a.eachBefore(f(z,e)),B&&a.eachBefore(ao),a}function f(a,e){return function(f){f.children&&qh(f,f.x0,
a*(f.depth+1)/e,f.x1,a*(f.depth+2)/e);var h=f.x0,m=f.y0,w=f.x1-u,z=f.y1-u;w<h&&(h=w=(h+w)/2);z<m&&(m=z=(m+z)/2);f.x0=h;f.y0=m;f.x1=w;f.y1=z}}var m=1,z=1,u=0,B=!1;return a.round=function(e){return arguments.length?(B=!!e,a):B},a.size=function(e){return arguments.length?(m=+e[0],z=+e[1],a):[m,z]},a.padding=function(e){return arguments.length?(u=+e,a):u},a};a.stratify=function(){function a(a){var e,h,w,z,p,y,K,C=a.length,X=Array(C),H={};for(h=0;h<C;++h)e=a[h],p=X[h]=new Lg(e),null!=(y=f(e,h,a))&&(y+=
"")&&(K="$"+(p.id=y),H[K]=K in H?bo:p);for(h=0;h<C;++h)if(p=X[h],y=m(a[h],h,a),null!=y&&(y+="")){if(z=H["$"+y],!z)throw Error("missing: "+y);if(z===bo)throw Error("ambiguous: "+y);z.children?z.children.push(p):z.children=[p];p.parent=z}else{if(w)throw Error("multiple roots");w=p}if(!w)throw Error("no root");if(w.parent=Lr,w.eachBefore(function(a){a.depth=a.parent.depth+1;--C}).eachBefore(Vl),w.parent=null,0<C)throw Error("cycle");return w}var f=zp,m=Ap;return a.id=function(e){return arguments.length?
(f=vi(e),a):f},a.parentId=function(e){return arguments.length?(m=vi(e),a):m},a};a.tree=function(){function a(a){var e=Cp(a);if(e.eachAfter(f),e.parent.m=-e.z,e.eachBefore(m),y)a.eachBefore(z);else{var h=a,w=a,B=a;a.eachBefore(function(a){a.x<h.x&&(h=a);a.x>w.x&&(w=a);a.depth>B.depth&&(B=a)});var e=h===w?1:u(h,w)/2,I=e-h.x,K=p/(w.x+e+I),C=F/(B.depth||1);a.eachBefore(function(a){a.x=(a.x+I)*K;a.y=a.depth*C})}return a}function f(a){var e=a.children,f=a.parent.children,h=a.i?f[a.i-1]:null;if(e){for(var m,
w=0,z=0,p=a.children,B=p.length;0<=--B;)m=p[B],m.z+=w,m.m+=w,w+=m.s+(z+=m.c);e=(e[0].z+e[e.length-1].z)/2;h?(a.z=h.z+u(a._,h._),a.m=a.z-e):a.z=e}else h&&(a.z=h.z+u(a._,h._));e=a.parent;f=a.parent.A||f[0];if(h){for(var w=m=a,z=h,p=m.parent.children[0],B=m.m,F=w.m,y=z.m,I=p.m;z=Qj(z),m=Pj(m),z&&m;){p=Pj(p);w=Qj(w);w.a=a;h=z.z+y-m.z-B+u(z._,m._);if(0<h){var K=z.a.parent===a.parent?z.a:f,C=a,H=h,G=H/(C.i-K.i);C.c-=G;C.s+=H;K.c+=G;C.z+=H;C.m+=H;B+=h;F+=h}y+=z.m;B+=m.m;I+=p.m;F+=w.m}z&&!Qj(w)&&(w.t=z,w.m+=
y-F);m&&!Pj(p)&&(p.t=m,p.m+=B-I,f=a)}e.A=f}function m(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function z(a){a.x*=p;a.y=a.depth*F}var u=Bp,p=1,F=1,y=null;return a.separation=function(e){return arguments.length?(u=e,a):u},a.size=function(e){return arguments.length?(y=!1,p=+e[0],F=+e[1],a):y?null:[p,F]},a.nodeSize=function(e){return arguments.length?(y=!0,p=+e[0],F=+e[1],a):y?[p,F]:null},a};a.treemap=function(){function a(a){return a.x0=a.y0=0,a.x1=u,a.y1=p,a.eachBefore(f),F=[0],z&&a.eachBefore(ao),
a}function f(a){var e=F[a.depth],f=a.x0+e,h=a.y0+e,u=a.x1-e,w=a.y1-e;u<f&&(f=u=(f+u)/2);w<h&&(h=w=(h+w)/2);a.x0=f;a.y0=h;a.x1=u;a.y1=w;a.children&&(e=F[a.depth+1]=y(a)/2,f+=G(a)-e,h+=K(a)-e,u-=C(a)-e,w-=H(a)-e,u<f&&(f=u=(f+u)/2),w<h&&(h=w=(h+w)/2),m(a,f,h,u,w))}var m=eo,z=!1,u=1,p=1,F=[0],y=pg,K=pg,C=pg,H=pg,G=pg;return a.round=function(e){return arguments.length?(z=!!e,a):z},a.size=function(e){return arguments.length?(u=+e[0],p=+e[1],a):[u,p]},a.tile=function(e){return arguments.length?(m=vi(e),
a):m},a.padding=function(e){return arguments.length?a.paddingInner(e).paddingOuter(e):a.paddingInner()},a.paddingInner=function(e){return arguments.length?(y="function"==typeof e?e:Yg(+e),a):y},a.paddingOuter=function(e){return arguments.length?a.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):a.paddingTop()},a.paddingTop=function(e){return arguments.length?(K="function"==typeof e?e:Yg(+e),a):K},a.paddingRight=function(e){return arguments.length?(C="function"==typeof e?e:Yg(+e),a):C},
a.paddingBottom=function(e){return arguments.length?(H="function"==typeof e?e:Yg(+e),a):H},a.paddingLeft=function(e){return arguments.length?(G="function"==typeof e?e:Yg(+e),a):G},a};a.treemapBinary=function(a,f,m,z,u){function e(a,f,h,m,u,w,z){if(a>=f-1)return a=p[a],a.x0=m,a.y0=u,a.x1=w,a.y1=z,void 0;for(var B=K[a],y=h/2+B,F=a+1,I=f-1;F<I;){var C=F+I>>>1;K[C]<y?F=C+1:I=C}B=K[F]-B;y=h-B;z-u>w-m?(h=(u*y+z*B)/h,e(a,F,B,m,u,w,h),e(F,f,y,m,h,w,z)):(h=(m*y+w*B)/h,e(a,F,B,m,u,h,z),e(F,f,y,h,u,w,z))}var h,
w,p=a.children,y=p.length,K=Array(y+1);for(K[0]=w=h=0;h<y;++h)K[h+1]=w+=p[h].value;e(0,y,a.value,f,m,z,u)};a.treemapDice=qh;a.treemapSlice=xi;a.treemapSliceDice=function(a,f,m,z,u){(1&a.depth?xi:qh)(a,f,m,z,u)};a.treemapSquarify=eo;a.treemapResquarify=Mr;a.interpolate=gh;a.interpolateArray=yn;a.interpolateBasis=wn;a.interpolateBasisClosed=xn;a.interpolateDate=zn;a.interpolateNumber=Ed;a.interpolateObject=An;a.interpolateRound=lm;a.interpolateString=Ek;a.interpolateTransformCss=Dn;a.interpolateTransformSvg=
En;a.interpolateZoom=Fn;a.interpolateRgb=Kh;a.interpolateRgbBasis=ir;a.interpolateRgbBasisClosed=jr;a.interpolateHsl=kr;a.interpolateHslLong=lr;a.interpolateLab=function(a,f){var e=Sa((a=Dd(a)).l,(f=Dd(f)).l),h=Sa(a.a,f.a),m=Sa(a.b,f.b),p=Sa(a.opacity,f.opacity);return function(f){return a.l=e(f),a.a=h(f),a.b=m(f),a.opacity=p(f),a+""}};a.interpolateHcl=mr;a.interpolateHclLong=nr;a.interpolateCubehelix=or;a.interpolateCubehelixLong=Ti;a.quantize=function(a,f){for(var e=Array(f),h=0;h<f;++h)e[h]=a(h/
(f-1));return e};a.path=tc;a.polygonArea=function(a){for(var e,f=-1,m=a.length,u=a[m-1],p=0;++f<m;)e=u,u=a[f],p+=e[1]*u[0]-e[0]*u[1];return p/2};a.polygonCentroid=function(a){for(var e,f,m=-1,u=a.length,p=0,y=0,I=a[u-1],K=0;++m<u;)e=I,I=a[m],K+=f=e[0]*I[1]-I[0]*e[1],p+=(e[0]+I[0])*f,y+=(e[1]+I[1])*f;return K*=3,[p/K,y/K]};a.polygonHull=function(a){if(3>(f=a.length))return null;var e,f,m=Array(f),u=Array(f);for(e=0;e<f;++e)m[e]=[+a[e][0],+a[e][1],e];m.sort(Dp);for(e=0;e<f;++e)u[e]=[m[e][0],-m[e][1]];
f=fm(m);var u=fm(u),p=u[0]===f[0],y=u[u.length-1]===f[f.length-1],I=[];for(e=f.length-1;0<=e;--e)I.push(a[m[f[e]][2]]);for(e=+p;e<u.length-y;++e)I.push(a[m[u[e]][2]]);return I};a.polygonContains=function(a,f){var e,h,m=a.length;h=a[m-1];for(var p=f[0],y=f[1],I=h[0],K=h[1],C=!1,H=0;H<m;++H)h=a[H],e=h[0],h=h[1],h>y!=K>y&&p<(I-e)*(y-h)/(K-h)+e&&(C=!C),I=e,K=h;return C};a.polygonLength=function(a){for(var e,f,m=-1,u=a.length,p=a[u-1],y=p[0],p=p[1],K=0;++m<u;)e=y,f=p,p=a[m],y=p[0],p=p[1],e-=y,f-=p,K+=
Math.sqrt(e*e+f*f);return K};a.quadtree=Jb;a.queue=hm;a.randomUniform=function(a,f){return a=null==a?0:+a,f=null==f?1:+f,1===arguments.length?(f=a,a=0):f-=a,function(){return Math.random()*f+a}};a.randomNormal=fo;a.randomLogNormal=function(){var a=fo.apply(this,arguments);return function(){return Math.exp(a())}};a.randomBates=function(a){var e=go(a);return function(){return e()/a}};a.randomIrwinHall=go;a.randomExponential=function(a){return function(){return-Math.log(1-Math.random())/a}};a.request=
Sk;a.html=Or;a.json=Pr;a.text=Qr;a.xml=Rr;a.csv=Sr;a.tsv=Tr;a.scaleBand=Vj;a.scalePoint=function(){return im(Vj().paddingInner(1))};a.scaleIdentity=qm;a.scaleLinear=pm;a.scaleLog=um;a.scaleOrdinal=Tj;a.scaleImplicit=Uj;a.scalePow=Zj;a.scaleSqrt=function(){return Zj().exponent(.5)};a.scaleQuantile=wm;a.scaleQuantize=xm;a.scaleThreshold=ym;a.scaleTime=function(){return gk(tg,Vk,vh,Di,Uk,Tk,Oh,wg,a.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)])};a.scaleUtc=function(){return gk(ug,Yk,wh,Ei,
Xk,Wk,Oh,wg,a.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)])};a.schemeCategory10=rs;a.schemeCategory20b=ss;a.schemeCategory20c=ts;a.schemeCategory20=us;a.interpolateCubehelixDefault=vs;a.interpolateRainbow=function(a){(0>a||1<a)&&(a-=Math.floor(a));var e=Math.abs(a-.5);return fj.h=360*a-100,fj.s=1.5-1.5*e,fj.l=.8-.9*e,fj+""};a.interpolateWarm=ws;a.interpolateCool=xs;a.interpolateViridis=ys;a.interpolateMagma=zs;a.interpolateInferno=As;a.interpolatePlasma=Bs;a.scaleSequential=Jm;a.creator=
vk;a.local=ga;a.matcher=wk;a.mouse=Af;a.namespace=Hh;a.namespaces=uk;a.select=Cd;a.selectAll=function(a){return"string"==typeof a?new Oa([document.querySelectorAll(a)],[document.documentElement]):new Oa([null==a?[]:a],kj)};a.selection=bb;a.selector=Qi;a.selectorAll=zk;a.touch=Ri;a.touches=function(a,f){null==f&&(f=xk().touches);for(var e=0,h=f?f.length:0,m=Array(h);e<h;++e)m[e]=yk(a,f[e]);return m};a.window=yg;a.customEvent=Qa;a.arc=function(){function a(){var a,e,h=+f.apply(this,arguments),w=+m.apply(this,
arguments),z=B.apply(this,arguments)-Gi,F=y.apply(this,arguments)-Gi,I=Math.abs(F-z),H=F>z;if(C||(C=a=tc()),w<h&&(e=w,w=h,h=e),w>Hc)if(I>Uf-Hc)C.moveTo(w*Math.cos(z),w*Math.sin(z)),C.arc(0,0,w,z,F,!H),h>Hc&&(C.moveTo(h*Math.cos(F),h*Math.sin(F)),C.arc(0,0,h,F,z,H));else{var G,J;e=z;var N=F,Z=z,P=F,R=I,Q=I,O=K.apply(this,arguments)/2,Na=O>Hc&&(u?+u.apply(this,arguments):Math.sqrt(h*h+w*w)),V=Math.min(Math.abs(w-h)/2,+p.apply(this,arguments)),S=V,T=V;if(Na>Hc){var W=Km(Na/h*Math.sin(O)),O=Km(Na/w*Math.sin(O));
(R-=2*W)>Hc?(W*=H?1:-1,Z+=W,P-=W):(R=0,Z=P=(z+F)/2);(Q-=2*O)>Hc?(O*=H?1:-1,e+=O,N-=O):(Q=0,e=N=(z+F)/2)}z=w*Math.cos(e);F=w*Math.sin(e);W=h*Math.cos(P);O=h*Math.sin(P);if(V>Hc){var fh=w*Math.cos(N),Nh=w*Math.sin(N),Pk=h*Math.cos(Z),Y=h*Math.sin(Z);if(I<xg){R>Hc?(S=Pk-z,I=Y-F,T=W-fh,Na=O-Nh,T=(T*(F-Nh)-Na*(z-fh))/(Na*S-T*I),S=[z+T*S,F+T*I]):S=[W,O];var I=z-S[0],T=F-S[1],Na=fh-S[0],aa=Nh-S[1],I=1/Math.sin(Math.acos((I*Na+T*aa)/(Math.sqrt(I*I+T*T)*Math.sqrt(Na*Na+aa*aa)))/2),T=Math.sqrt(S[0]*S[0]+S[1]*
S[1]),S=Math.min(V,(h-T)/(I-1)),T=Math.min(V,(w-T)/(I+1))}}Q>Hc?T>Hc?(G=Hi(Pk,Y,z,F,w,T,H),J=Hi(fh,Nh,W,O,w,T,H),C.moveTo(G.cx+G.x01,G.cy+G.y01),T<V?C.arc(G.cx,G.cy,T,Math.atan2(G.y01,G.x01),Math.atan2(J.y01,J.x01),!H):(C.arc(G.cx,G.cy,T,Math.atan2(G.y01,G.x01),Math.atan2(G.y11,G.x11),!H),C.arc(0,0,w,Math.atan2(G.cy+G.y11,G.cx+G.x11),Math.atan2(J.cy+J.y11,J.cx+J.x11),!H),C.arc(J.cx,J.cy,T,Math.atan2(J.y11,J.x11),Math.atan2(J.y01,J.x01),!H))):(C.moveTo(z,F),C.arc(0,0,w,e,N,!H)):C.moveTo(z,F);h>Hc&&
R>Hc?S>Hc?(G=Hi(W,O,fh,Nh,h,-S,H),J=Hi(z,F,Pk,Y,h,-S,H),C.lineTo(G.cx+G.x01,G.cy+G.y01),S<V?C.arc(G.cx,G.cy,S,Math.atan2(G.y01,G.x01),Math.atan2(J.y01,J.x01),!H):(C.arc(G.cx,G.cy,S,Math.atan2(G.y01,G.x01),Math.atan2(G.y11,G.x11),!H),C.arc(0,0,h,Math.atan2(G.cy+G.y11,G.cx+G.x11),Math.atan2(J.cy+J.y11,J.cx+J.x11),H),C.arc(J.cx,J.cy,S,Math.atan2(J.y11,J.x11),Math.atan2(J.y01,J.x01),!H))):C.arc(0,0,h,P,Z,H):C.lineTo(W,O)}else C.moveTo(0,0);if(C.closePath(),a)return C=null,a+""||null}var f=Kq,m=Lq,p=Ja(0),
u=null,B=Mq,y=Nq,K=Oq,C=null;return a.centroid=function(){var a=(+f.apply(this,arguments)+ +m.apply(this,arguments))/2,e=(+B.apply(this,arguments)+ +y.apply(this,arguments))/2-xg/2;return[Math.cos(e)*a,Math.sin(e)*a]},a.innerRadius=function(e){return arguments.length?(f="function"==typeof e?e:Ja(+e),a):f},a.outerRadius=function(e){return arguments.length?(m="function"==typeof e?e:Ja(+e),a):m},a.cornerRadius=function(e){return arguments.length?(p="function"==typeof e?e:Ja(+e),a):p},a.padRadius=function(e){return arguments.length?
(u=null==e?null:"function"==typeof e?e:Ja(+e),a):u},a.startAngle=function(e){return arguments.length?(B="function"==typeof e?e:Ja(+e),a):B},a.endAngle=function(e){return arguments.length?(y="function"==typeof e?e:Ja(+e),a):y},a.padAngle=function(e){return arguments.length?(K="function"==typeof e?e:Ja(+e),a):K},a.context=function(e){return arguments.length?(C=null==e?null:e,a):C},a};a.area=xo;a.line=Zk;a.pie=function(){function a(a){var e,h,w,z,F,C=a.length;h=0;var K=Array(C),I=Array(C),G=+u.apply(this,
arguments);w=Math.min(Uf,Math.max(-Uf,B.apply(this,arguments)-G));var H=Math.min(Math.abs(w)/C,y.apply(this,arguments)),J=H*(0>w?-1:1);for(e=0;e<C;++e)0<(F=I[K[e]=e]=+f(a[e],e,a))&&(h+=F);null!=m?K.sort(function(a,e){return m(I[a],I[e])}):null!=p&&K.sort(function(e,f){return p(a[e],a[f])});e=0;for(w=h?(w-C*J)/h:0;e<C;++e,G=z)h=K[e],F=I[h],z=G+(0<F?F*w:0)+J,I[h]={data:a[h],index:e,value:F,startAngle:G,endAngle:z,padAngle:H};return I}var f=Ds,m=Cs,p=null,u=Ja(0),B=Ja(Uf),y=Ja(0);return a.value=function(e){return arguments.length?
(f="function"==typeof e?e:Ja(+e),a):f},a.sortValues=function(e){return arguments.length?(m=e,p=null,a):m},a.sort=function(e){return arguments.length?(p=e,m=null,a):p},a.startAngle=function(e){return arguments.length?(u="function"==typeof e?e:Ja(+e),a):u},a.endAngle=function(e){return arguments.length?(B="function"==typeof e?e:Ja(+e),a):B},a.padAngle=function(e){return arguments.length?(y="function"==typeof e?e:Ja(+e),a):y},a};a.radialArea=function(){var a=xo().curve(yo),f=a.curve,m=a.lineX0,p=a.lineX1,
u=a.lineY0,B=a.lineY1;return a.angle=a.x,delete a.x,a.startAngle=a.x0,delete a.x0,a.endAngle=a.x1,delete a.x1,a.radius=a.y,delete a.y,a.innerRadius=a.y0,delete a.y0,a.outerRadius=a.y1,delete a.y1,a.lineStartAngle=function(){return Bh(m())},delete a.lineX0,a.lineEndAngle=function(){return Bh(p())},delete a.lineX1,a.lineInnerRadius=function(){return Bh(u())},delete a.lineY0,a.lineOuterRadius=function(){return Bh(B())},delete a.lineY1,a.curve=function(a){return arguments.length?f(jk(a)):f()._curve},
a};a.radialLine=function(){return Bh(Zk().curve(yo))};a.symbol=function(){function a(){var a;if(p||(p=a=tc()),f.apply(this,arguments).draw(p,+m.apply(this,arguments)),a)return p=null,a+""||null}var f=Ja($k),m=Ja(64),p=null;return a.type=function(e){return arguments.length?(f="function"==typeof e?e:Ja(e),a):f},a.size=function(e){return arguments.length?(m="function"==typeof e?e:Ja(+e),a):m},a.context=function(e){return arguments.length?(p=null==e?null:e,a):p},a};a.symbols=Is;a.symbolCircle=$k;a.symbolCross=
zo;a.symbolDiamond=Bo;a.symbolSquare=Eo;a.symbolStar=Do;a.symbolTriangle=Fo;a.symbolWye=Go;a.curveBasisClosed=function(a){return new Pm(a)};a.curveBasisOpen=function(a){return new Qm(a)};a.curveBasis=function(a){return new Ji(a)};a.curveBundle=Js;a.curveCardinalClosed=Ls;a.curveCardinalOpen=Ms;a.curveCardinal=Ks;a.curveCatmullRomClosed=Os;a.curveCatmullRomOpen=Ps;a.curveCatmullRom=Ns;a.curveLinearClosed=function(a){return new Vm(a)};a.curveLinear=gj;a.curveMonotoneX=function(a){return new Li(a)};
a.curveMonotoneY=function(a){return new Ym(a)};a.curveNatural=function(a){return new $m(a)};a.curveStep=function(a){return new Mi(a,.5)};a.curveStepAfter=function(a){return new Mi(a,1)};a.curveStepBefore=function(a){return new Mi(a,0)};a.stack=function(){function a(a){var e,h;h=f.apply(this,arguments);var w=a.length,z=h.length,B=Array(z);for(e=0;e<z;++e){for(var y,C=h[e],K=B[e]=Array(w),G=0;G<w;++G)K[G]=y=[0,+u(a[G],C,G,a)],y.data=a[G];K.key=C}e=0;for(h=m(B);e<z;++e)B[h[e]].index=e;return p(B,h),
B}var f=Ja([]),m=$g,p=Zg,u=Pq;return a.keys=function(e){return arguments.length?(f="function"==typeof e?e:Ja(Ho.call(e)),a):f},a.value=function(e){return arguments.length?(u="function"==typeof e?e:Ja(+e),a):u},a.order=function(e){return arguments.length?(m=null==e?$g:"function"==typeof e?e:Ja(Ho.call(e)),a):m},a.offset=function(e){return arguments.length?(p=null==e?Zg:e,a):p},a};a.stackOffsetExpand=function(a,f){if(0<(h=a.length)){for(var e,h,m,p=0,y=a[0].length;p<y;++p){for(m=e=0;e<h;++e)m+=a[e][p][1]||
0;if(m)for(e=0;e<h;++e)a[e][p][1]/=m}Zg(a,f)}};a.stackOffsetNone=Zg;a.stackOffsetSilhouette=function(a,f){if(0<(e=a.length)){for(var e,h=0,m=a[f[0]],p=m.length;h<p;++h){for(var y=0,C=0;y<e;++y)C+=a[y][h][1]||0;m[h][1]+=m[h][0]=-C/2}Zg(a,f)}};a.stackOffsetWiggle=function(a,f){if(0<(m=a.length)&&0<(h=(e=a[f[0]]).length)){for(var e,h,m,p=0,y=1;y<h;++y){for(var C=0,K=0,G=0;C<m;++C){for(var H=a[f[C]],J=H[y][1]||0,H=(J-(H[y-1][1]||0))/2,N=0;N<C;++N)var Z=a[f[N]],H=H+((Z[y][1]||0)-(Z[y-1][1]||0));K+=J;G+=
H*J}e[y-1][1]+=e[y-1][0]=p;K&&(p-=G/K)}e[y-1][1]+=e[y-1][0]=p;Zg(a,f)}};a.stackOrderAscending=Io;a.stackOrderDescending=function(a){return Io(a).reverse()};a.stackOrderInsideOut=function(a){var e,f=a.length,m=a.map(bn),p=$g(a).sort(function(a,e){return m[e]-m[a]}),y=0,C=0,K=[],G=[];for(a=0;a<f;++a)e=p[a],y<C?(y+=m[e],K.push(e)):(C+=m[e],G.push(e));return G.reverse().concat(K)};a.stackOrderNone=$g;a.stackOrderReverse=function(a){return $g(a).reverse()};a.timeInterval=Cb;a.timeMillisecond=wg;a.timeMilliseconds=
jo;a.utcMillisecond=wg;a.utcMilliseconds=jo;a.timeSecond=Oh;a.timeSeconds=ko;a.utcSecond=Oh;a.utcSeconds=ko;a.timeMinute=Tk;a.timeMinutes=Ur;a.timeHour=Uk;a.timeHours=Vr;a.timeDay=Di;a.timeDays=Wr;a.timeWeek=vh;a.timeWeeks=qo;a.timeSunday=vh;a.timeSundays=qo;a.timeMonday=ek;a.timeMondays=Xr;a.timeTuesday=lo;a.timeTuesdays=Yr;a.timeWednesday=mo;a.timeWednesdays=Zr;a.timeThursday=no;a.timeThursdays=$r;a.timeFriday=oo;a.timeFridays=as;a.timeSaturday=po;a.timeSaturdays=bs;a.timeMonth=Vk;a.timeMonths=
cs;a.timeYear=tg;a.timeYears=ds;a.utcMinute=Wk;a.utcMinutes=es;a.utcHour=Xk;a.utcHours=fs;a.utcDay=Ei;a.utcDays=gs;a.utcWeek=wh;a.utcWeeks=wo;a.utcSunday=wh;a.utcSundays=wo;a.utcMonday=fk;a.utcMondays=hs;a.utcTuesday=ro;a.utcTuesdays=is;a.utcWednesday=so;a.utcWednesdays=js;a.utcThursday=to;a.utcThursdays=ks;a.utcFriday=uo;a.utcFridays=ls;a.utcSaturday=vo;a.utcSaturdays=ms;a.utcMonth=Yk;a.utcMonths=ns;a.utcYear=ug;a.utcYears=os;a.timeFormatDefaultLocale=Hm;a.timeFormatLocale=Am;a.isoFormat=ps;a.isoParse=
qs;a.now=vb;a.timer=Hb;a.timerFlush=ye;a.timeout=qj;a.interval=function(a,f,m){var e=new yb,h=f;return null==f?(e.restart(a,f,m),e):(f=+f,m=null==m?vb():+m,e.restart(function F(p){p+=h;e.restart(F,h+=f,m);a(p)},f,m),e)};a.transition=ae;a.active=function(a,f){var e,h,m=a.__transition;if(m)for(h in f=null==f?null:f+"",m)if((e=m[h]).state>oj&&e.name===f)return new W([[a]],yr,f,+h);return null};a.interrupt=Xf;a.voronoi=function(){function a(a){return new rk(a.map(function(e,h){var p=[Math.round(f(e,h,
a)/Ua)*Ua,Math.round(m(e,h,a)/Ua)*Ua];return p.index=h,p.data=e,p}),p)}var f=Qq,m=Rq,p=null;return a.polygons=function(e){return a(e).polygons()},a.links=function(e){return a(e).links()},a.triangles=function(e){return a(e).triangles()},a.x=function(e){return arguments.length?(f="function"==typeof e?e:Jo(+e),a):f},a.y=function(e){return arguments.length?(m="function"==typeof e?e:Jo(+e),a):m},a.extent=function(e){return arguments.length?(p=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],a):p&&
[[p[0][0],p[0][1]],[p[1][0],p[1][1]]]},a.size=function(e){return arguments.length?(p=null==e?null:[[0,0],[+e[0],+e[1]]],a):p&&[p[1][0]-p[0][0],p[1][1]-p[0][1]]},a};a.zoom=function(){function e(a){a.on("wheel.zoom",G).on("mousedown.zoom",H).on("dblclick.zoom",J).on("touchstart.zoom",N).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",kn)}function f(a,e){return e=Math.max(Na,Math.min(T,e)),e===a.k?a:new yf(e,a.x,a.y)}
function p(a,e,f){var h=e[0]-f[0]*a.k;e=e[1]-f[1]*a.k;return h===a.x&&e===a.y?a:new yf(a.k,h,e)}function z(a,e){var f=a.invertX(e[0][0])-V,h=a.invertX(e[1][0])-W,m=a.invertY(e[0][1])-Y,p=a.invertY(e[1][1])-aa;return a.translate(h>f?(f+h)/2:Math.min(0,f)||Math.max(0,h),p>m?(m+p)/2:Math.min(0,m)||Math.max(0,p))}function u(a){return[(+a[0][0]+ +a[1][0])/2,(+a[0][1]+ +a[1][1])/2]}function y(a,e,f){a.on("start.zoom",function(){C(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){C(this,
arguments).end()}).tween("zoom",function(){var a=arguments,h=C(this,a),m=S.apply(this,a),p=f||u(m),w=Math.max(m[1][0]-m[0][0],m[1][1]-m[0][1]),m=this.__zoom,z="function"==typeof e?e.apply(this,a):e,y=da(m.invert(p).concat(w/m.k),z.invert(p).concat(w/z.k));return function(a){if(1===a)a=z;else{a=y(a);var e=w/a[2];a=new yf(e,p[0]-a[0]*e,p[1]-a[1]*e)}h.zoom(null,a)}})}function C(a,e){for(var f,h=0,m=ea.length;h<m;++h)if((f=ea[h]).that===a)return f;return new K(a,e)}function K(a,e){this.that=a;this.args=
e;this.index=-1;this.active=0;this.extent=S.apply(a,e)}function G(){function e(){h.wheel=null;h.end()}if(Q.apply(this,arguments)){var h=C(this,arguments),m=this.__zoom,u=Math.max(Na,Math.min(T,m.k*Math.pow(2,-a.event.deltaY*(a.event.deltaMode?120:1)/500))),w=Af(this);if(h.wheel)h.mouse[0][0]===w[0]&&h.mouse[0][1]===w[1]||(h.mouse[1]=m.invert(h.mouse[0]=w)),clearTimeout(h.wheel);else{if(m.k===u)return;h.mouse=[w,m.invert(w)];Xf(this);h.start()}Ph();h.wheel=setTimeout(e,ia);h.zoom("mouse",z(p(f(m,u),
h.mouse[0],h.mouse[1]),h.extent))}}function H(){function e(){Ph();h.moved=!0;h.zoom("mouse",z(p(h.that.__zoom,h.mouse[0]=Af(h.that),h.mouse[1]),h.extent))}function f(){m.on("mousemove.zoom mouseup.zoom",null);Nc(a.event.view,h.moved);Ph();h.end()}if(!R&&Q.apply(this,arguments)){var h=C(this,arguments),m=Cd(a.event.view).on("mousemove.zoom",e,!0).on("mouseup.zoom",f,!0),u=Af(this);bi(a.event.view);a.event.stopImmediatePropagation();h.mouse=[u,this.__zoom.invert(u)];Xf(this);h.start()}}function J(){if(Q.apply(this,
arguments)){var h=this.__zoom,m=Af(this),u=h.invert(m),h=z(p(f(h,h.k*(a.event.shiftKey?.5:2)),m,u),S.apply(this,arguments));Ph();0<ba?Cd(this).transition().duration(ba).call(y,h,m):Cd(this).call(e.transform,h)}}function N(){if(Q.apply(this,arguments)){var e,f,h,m,p=C(this,arguments),u=a.event.changedTouches,w=u.length;a.event.stopImmediatePropagation();for(f=0;f<w;++f)h=u[f],m=Ri(this,u,h.identifier),m=[m,this.__zoom.invert(m),h.identifier],p.touch0?p.touch1||(p.touch1=m):(p.touch0=m,e=!0);return O&&
(O=clearTimeout(O),!p.touch1)?(p.end(),m=Cd(this).on("dblclick.zoom"),void(m&&m.apply(this,arguments))):void(e&&(O=setTimeout(function(){O=null},ha),Xf(this),p.start()))}}function Z(){var e,h,m,u,w=C(this,arguments),y=a.event.changedTouches,B=y.length;Ph();O&&(O=clearTimeout(O));for(e=0;e<B;++e)h=y[e],m=Ri(this,y,h.identifier),w.touch0&&w.touch0[2]===h.identifier?w.touch0[0]=m:w.touch1&&w.touch1[2]===h.identifier&&(w.touch1[0]=m);if(h=w.that.__zoom,w.touch1){m=w.touch0[0];e=w.touch0[1];B=w.touch1[0];
y=w.touch1[1];u=(u=B[0]-m[0])*u+(u=B[1]-m[1])*u;var K=(K=y[0]-e[0])*K+(K=y[1]-e[1])*K;h=f(h,Math.sqrt(u/K));m=[(m[0]+B[0])/2,(m[1]+B[1])/2];u=[(e[0]+y[0])/2,(e[1]+y[1])/2]}else{if(!w.touch0)return;m=w.touch0[0];u=w.touch0[1]}w.zoom("touch",z(p(h,m,u),w.extent))}function P(){var e,f,h=C(this,arguments),m=a.event.changedTouches,p=m.length;a.event.stopImmediatePropagation();R&&clearTimeout(R);R=setTimeout(function(){R=null},ha);for(e=0;e<p;++e)f=m[e],h.touch0&&h.touch0[2]===f.identifier?delete h.touch0:
h.touch1&&h.touch1[2]===f.identifier&&delete h.touch1;h.touch1&&!h.touch0&&(h.touch0=h.touch1,delete h.touch1);h.touch0||h.end()}var O,R,Q=ar,S=br,Na=0,T=1/0,V=-T,W=T,Y=V,aa=W,ba=250,da=Fn,ea=[],fa=m("start","zoom","end"),ha=500,ia=150;return e.transform=function(a,e){var f=a.selection?a.selection():a;f.property("__zoom",kn);a!==f?y(a,e):f.interrupt().each(function(){C(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},e.scaleBy=function(a,f){e.scaleTo(a,function(){var a=
this.__zoom.k,e="function"==typeof f?f.apply(this,arguments):f;return a*e})},e.scaleTo=function(a,h){e.transform(a,function(){var a=S.apply(this,arguments),e=this.__zoom,m=u(a),w=e.invert(m),y="function"==typeof h?h.apply(this,arguments):h;return z(p(f(e,y),m,w),a)})},e.translateBy=function(a,f,h){e.transform(a,function(){return z(this.__zoom.translate("function"==typeof f?f.apply(this,arguments):f,"function"==typeof h?h.apply(this,arguments):h),S.apply(this,arguments))})},K.prototype={start:function(){return 1===
++this.active&&(this.index=ea.push(this)-1,this.emit("start")),this},zoom:function(a,e){return this.mouse&&"mouse"!==a&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==a&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==a&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(ea.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(a){Qa(new $q(e,a,this.that.__zoom),fa.apply,
fa,[a,this.that,this.args])}},e.filter=function(a){return arguments.length?(Q="function"==typeof a?a:Ko(!!a),e):Q},e.extent=function(a){return arguments.length?(S="function"==typeof a?a:Ko([[+a[0][0],+a[0][1]],[+a[1][0],+a[1][1]]]),e):S},e.scaleExtent=function(a){return arguments.length?(Na=+a[0],T=+a[1],e):[Na,T]},e.translateExtent=function(a){return arguments.length?(V=+a[0][0],W=+a[1][0],Y=+a[0][1],aa=+a[1][1],e):[[V,Y],[W,aa]]},e.duration=function(a){return arguments.length?(ba=+a,e):ba},e.interpolate=
function(a){return arguments.length?(da=a,e):da},e.on=function(){var a=fa.on.apply(fa,arguments);return a===fa?e:a},e};a.zoomTransform=jn;a.zoomIdentity=sk;Object.defineProperty(a,"__esModule",{value:!0})});function Rectangle(a,N,f,J){this.ax1=a;this.ay1=N;this.ax2=f;this.ay2=J;this._height10=this._max_ay24=this._min_ay13=this._min_ax12=this._parent9=this._right8=this._left7=void 0}function RectangleHolder(){this.my_size=0;this._root1=null}RectangleHolder.prototype.size=function(){return this.my_size};
RectangleHolder.prototype.add=function(a){++this.my_size;var N=a.ax2;a._left7=null;a._right8=null;a._min_ax12=a.ax1;a._min_ay13=a.ay1;a._max_ay24=a.ay2;a._height10=0;for(var f=null,J=this._root1,C=!1;null!=J;)f=J,N<J.ax2?(J=J._left7,C=!0):(J=J._right8,C=!1);null==f?this._root1=a:(a._parent9=f,C?f._left7=a:f._right8=a);for(var G=a._parent9,p=!0;p&&null!=G;){var y=G._min_ax12,H=G._min_ay13,m=G._max_ay24,Q=G._height10,P=G.ax1,S=G._left7;if(null!=S)var R=S._min_ax12,P=P<R?P:R;var ma=G._right8;if(null!=
ma)var ga=ma._min_ax12,P=P<ga?P:ga;G._min_ax12=P;var $a=G.ay1,lb=G._left7;if(null!=lb)var Db=lb._min_ay13,$a=$a<Db?$a:Db;var Lc=G._right8;if(null!=Lc)var ab=Lc._min_ay13,$a=$a<ab?$a:ab;G._min_ay13=$a;var pb=G.ay2,Qa=G._left7;if(null!=Qa)var Pb=Qa._max_ay24,pb=pb<Pb?Pb:pb;var wb=G._right8;if(null!=wb)var Wa=wb._max_ay24,pb=pb<Wa?Wa:pb;G._max_ay24=pb;G._height10=1+((null==G._left7?-1:G._left7._height10)>(null==G._right8?-1:G._right8._height10)?null==G._left7?-1:G._left7._height10:null==G._right8?-1:
G._right8._height10);p=(p=(p=(p=(p=!1,y!=G._min_ax12))||H!=G._min_ay13)||m!=G._max_ay24)||Q!=G._height10;G=G._parent9}for(var va=a,wa;null!=va._parent9;)if(va=va._parent9,va._height10=1+((null==va._left7?-1:va._left7._height10)>(null==va._right8?-1:va._right8._height10)?null==va._left7?-1:va._left7._height10:null==va._right8?-1:va._right8._height10),wa=(null==va._left7?-1:va._left7._height10)-(null==va._right8?-1:va._right8._height10),1<wa){if((null==va._left7._left7?-1:va._left7._left7._height10)<
(null==va._left7._right8?-1:va._left7._right8._height10)){var ja=va._left7,Y=ja._right8,Z=Y._left7;null!=ja._parent9&&(ja._parent9._left7==ja?ja._parent9._left7=Y:ja._parent9._right8=Y);null!=Y&&(Y._parent9=ja._parent9);Y._left7=ja;null!=ja&&(ja._parent9=Y);ja._right8=Z;null!=Z&&(Z._parent9=ja);var qb=ja.ax1,qe=ja._left7;if(null!=qe)var kc=qe._min_ax12,qb=qb<kc?qb:kc;var Vd=ja._right8;if(null!=Vd)var re=Vd._min_ax12,qb=qb<re?qb:re;ja._min_ax12=qb;var db=ja.ay1,Wd=ja._left7;if(null!=Wd)var Eb=Wd._min_ay13,
db=db<Eb?db:Eb;var Xd=ja._right8;if(null!=Xd)var Mc=Xd._min_ay13,db=db<Mc?db:Mc;ja._min_ay13=db;var Ra=ja.ay2,Qb=ja._left7;if(null!=Qb)var rb=Qb._max_ay24,Ra=Ra<rb?rb:Ra;var Rb=ja._right8;if(null!=Rb)var sd=Rb._max_ay24,Ra=Ra<sd?sd:Ra;ja._max_ay24=Ra;ja._height10=1+((null==ja._left7?-1:ja._left7._height10)>(null==ja._right8?-1:ja._right8._height10)?null==ja._left7?-1:ja._left7._height10:null==ja._right8?-1:ja._right8._height10);var ha=Y.ax1,xb=Y._left7;if(null!=xb)var aa=xb._min_ax12,ha=ha<aa?ha:
aa;var Xa=Y._right8;if(null!=Xa)var sb=Xa._min_ax12,ha=ha<sb?ha:sb;Y._min_ax12=ha;var K=Y.ay1,Na=Y._left7;if(null!=Na)var Le=Na._min_ay13,K=K<Le?K:Le;var Sb=Y._right8;if(null!=Sb)var se=Sb._min_ay13,K=K<se?K:se;Y._min_ay13=K;var Tb=Y.ay2,Ub=Y._left7;if(null!=Ub)var td=Ub._max_ay24,Tb=Tb<td?td:Tb;var Vb=Y._right8;if(null!=Vb)var Bd=Vb._max_ay24,Tb=Tb<Bd?Bd:Tb;Y._max_ay24=Tb;Y._height10=1+((null==Y._left7?-1:Y._left7._height10)>(null==Y._right8?-1:Y._right8._height10)?null==Y._left7?-1:Y._left7._height10:
null==Y._right8?-1:Y._right8._height10);if(null!=Y._parent9){var Oa=Y._parent9.ax1,bb=Y._parent9._left7;if(null!=bb)var Nc=bb._min_ax12,Oa=Oa<Nc?Oa:Nc;var Ob=Y._parent9._right8;if(null!=Ob)var Ke=Ob._min_ax12,Oa=Oa<Ke?Oa:Ke;Y._parent9._min_ax12=Oa;var Jc=Y._parent9.ay1,Kc=Y._parent9._left7;if(null!=Kc)var ud=Kc._min_ay13,Jc=Jc<ud?Jc:ud;var tb=Y._parent9._right8;if(null!=tb)var ib=tb._min_ay13,Jc=Jc<ib?Jc:ib;Y._parent9._min_ay13=Jc;var Wb=Y._parent9.ay2,ya=Y._parent9._left7;if(null!=ya)var mb=ya._max_ay24,
Wb=Wb<mb?mb:Wb;var vd=Y._parent9._right8;if(null!=vd)var pa=vd._max_ay24,Wb=Wb<pa?pa:Wb;Y._parent9._max_ay24=Wb;Y._parent9._height10=1+((null==Y._parent9._left7?-1:Y._parent9._left7._height10)>(null==Y._parent9._right8?-1:Y._parent9._right8._height10)?null==Y._parent9._left7?-1:Y._parent9._left7._height10:null==Y._parent9._right8?-1:Y._parent9._right8._height10)}else this._root1=Y}var xa=va,ka=xa._left7,Fb=ka._right8;null!=xa._parent9&&(xa._parent9._left7==xa?xa._parent9._left7=ka:xa._parent9._right8=
ka);null!=ka&&(ka._parent9=xa._parent9);ka._right8=xa;null!=xa&&(xa._parent9=ka);xa._left7=Fb;null!=Fb&&(Fb._parent9=xa);var eb=xa.ax1,te=xa._left7;if(null!=te)var Xb=te._min_ax12,eb=eb<Xb?eb:Xb;var Dd=xa._right8;if(null!=Dd)var fb=Dd._min_ax12,eb=eb<fb?eb:fb;xa._min_ax12=eb;var Yb=xa.ay1,Zd=xa._left7;if(null!=Zd)var Zb=Zd._min_ay13,Yb=Yb<Zb?Yb:Zb;var Yd=xa._right8;if(null!=Yd)var Gb=Yd._min_ay13,Yb=Yb<Gb?Yb:Gb;xa._min_ay13=Yb;var jb=xa.ay2,ub=xa._left7;if(null!=ub)var nb=ub._max_ay24,jb=jb<nb?nb:
jb;var ue=xa._right8;if(null!=ue)var Da=ue._max_ay24,jb=jb<Da?Da:jb;xa._max_ay24=jb;xa._height10=1+((null==xa._left7?-1:xa._left7._height10)>(null==xa._right8?-1:xa._right8._height10)?null==xa._left7?-1:xa._left7._height10:null==xa._right8?-1:xa._right8._height10);var lc=ka.ax1,Aa=ka._left7;if(null!=Aa)var O=Aa._min_ax12,lc=lc<O?lc:O;var Sa=ka._right8;if(null!=Sa)var sa=Sa._min_ax12,lc=lc<sa?lc:sa;ka._min_ax12=lc;var da=ka.ay1,ve=ka._left7;if(null!=ve)var mc=ve._min_ay13,da=da<mc?da:mc;var we=ka._right8;
if(null!=we)var nc=we._min_ay13,da=da<nc?da:nc;ka._min_ay13=da;var oc=ka.ay2,xe=ka._left7;if(null!=xe)var vb=xe._max_ay24,oc=oc<vb?vb:oc;var Me=ka._right8;if(null!=Me)var yb=Me._max_ay24,oc=oc<yb?yb:oc;ka._max_ay24=oc;ka._height10=1+((null==ka._left7?-1:ka._left7._height10)>(null==ka._right8?-1:ka._right8._height10)?null==ka._left7?-1:ka._left7._height10:null==ka._right8?-1:ka._right8._height10);if(null!=ka._parent9){var Hb=ka._parent9.ax1,ye=ka._parent9._left7;if(null!=ye)var pc=ye._min_ax12,Hb=
Hb<pc?Hb:pc;var Ne=ka._parent9._right8;if(null!=Ne)var $b=Ne._min_ax12,Hb=Hb<$b?Hb:$b;ka._parent9._min_ax12=Hb;var ac=ka._parent9.ay1,qc=ka._parent9._left7;if(null!=qc)var gb=qc._min_ay13,ac=ac<gb?ac:gb;var Oe=ka._parent9._right8;if(null!=Oe)var Oc=Oe._min_ay13,ac=ac<Oc?ac:Oc;ka._parent9._min_ay13=ac;var Pc=ka._parent9.ay2,$d=ka._parent9._left7;if(null!=$d)var Qc=$d._max_ay24,Pc=Pc<Qc?Qc:Pc;var Pe=ka._parent9._right8;if(null!=Pe)var Rc=Pe._max_ay24,Pc=Pc<Rc?Rc:Pc;ka._parent9._max_ay24=Pc;ka._parent9._height10=
1+((null==ka._parent9._left7?-1:ka._parent9._left7._height10)>(null==ka._parent9._right8?-1:ka._parent9._right8._height10)?null==ka._parent9._left7?-1:ka._parent9._left7._height10:null==ka._parent9._right8?-1:ka._parent9._right8._height10)}else this._root1=ka;va=va._parent9}else if(-1>wa){if((null==va._right8._left7?-1:va._right8._left7._height10)>(null==va._right8._right8?-1:va._right8._right8._height10)){var Ea=va._right8,ia=Ea._left7,rc=ia._right8;null!=Ea._parent9&&(Ea._parent9._left7==Ea?Ea._parent9._left7=
ia:Ea._parent9._right8=ia);null!=ia&&(ia._parent9=Ea._parent9);ia._right8=Ea;null!=Ea&&(Ea._parent9=ia);Ea._left7=rc;null!=rc&&(rc._parent9=Ea);var Sc=Ea.ax1,Tc=Ea._left7;if(null!=Tc)var Qe=Tc._min_ax12,Sc=Sc<Qe?Sc:Qe;var Re=Ea._right8;if(null!=Re)var Uc=Re._min_ax12,Sc=Sc<Uc?Sc:Uc;Ea._min_ax12=Sc;var Vc=Ea.ay1,Wc=Ea._left7;if(null!=Wc)var Se=Wc._min_ay13,Vc=Vc<Se?Vc:Se;var Te=Ea._right8;if(null!=Te)var Xc=Te._min_ay13,Vc=Vc<Xc?Vc:Xc;Ea._min_ay13=Vc;var Yc=Ea.ay2,Zc=Ea._left7;if(null!=Zc)var Ue=Zc._max_ay24,
Yc=Yc<Ue?Ue:Yc;var Ve=Ea._right8;if(null!=Ve)var $c=Ve._max_ay24,Yc=Yc<$c?$c:Yc;Ea._max_ay24=Yc;Ea._height10=1+((null==Ea._left7?-1:Ea._left7._height10)>(null==Ea._right8?-1:Ea._right8._height10)?null==Ea._left7?-1:Ea._left7._height10:null==Ea._right8?-1:Ea._right8._height10);var ad=ia.ax1,Fa=ia._left7;if(null!=Fa)var W=Fa._min_ax12,ad=ad<W?ad:W;var ae=ia._right8;if(null!=ae)var ta=ae._min_ax12,ad=ad<ta?ad:ta;ia._min_ax12=ad;var ba=ia.ay1,be=ia._left7;if(null!=be)var sc=be._min_ay13,ba=ba<sc?ba:sc;
var ze=ia._right8;if(null!=ze)var zb=ze._min_ay13,ba=ba<zb?ba:zb;ia._min_ay13=ba;var Ab=ia.ay2,We=ia._left7;if(null!=We)var bd=We._max_ay24,Ab=Ab<bd?bd:Ab;var ce=ia._right8;if(null!=ce)var bc=ce._max_ay24,Ab=Ab<bc?bc:Ab;ia._max_ay24=Ab;ia._height10=1+((null==ia._left7?-1:ia._left7._height10)>(null==ia._right8?-1:ia._right8._height10)?null==ia._left7?-1:ia._left7._height10:null==ia._right8?-1:ia._right8._height10);if(null!=ia._parent9){var cc=ia._parent9.ax1,Xe=ia._parent9._left7;if(null!=Xe)var dc=
Xe._min_ax12,cc=cc<dc?cc:dc;var tc=ia._parent9._right8;if(null!=tc)var cd=tc._min_ax12,cc=cc<cd?cc:cd;ia._parent9._min_ax12=cc;var dd=ia._parent9.ay1,Ye=ia._parent9._left7;if(null!=Ye)var ed=Ye._min_ay13,dd=dd<ed?dd:ed;var Ze=ia._parent9._right8;if(null!=Ze)var Ib=Ze._min_ay13,dd=dd<Ib?dd:Ib;ia._parent9._min_ay13=dd;var cb=ia._parent9.ay2,$e=ia._parent9._left7;if(null!=$e)var fd=$e._max_ay24,cb=cb<fd?fd:cb;var Ae=ia._parent9._right8;if(null!=Ae)var uc=Ae._max_ay24,cb=cb<uc?uc:cb;ia._parent9._max_ay24=
cb;ia._parent9._height10=1+((null==ia._parent9._left7?-1:ia._parent9._left7._height10)>(null==ia._parent9._right8?-1:ia._parent9._right8._height10)?null==ia._parent9._left7?-1:ia._parent9._left7._height10:null==ia._parent9._right8?-1:ia._parent9._right8._height10)}else this._root1=ia}var za=va,fa=za._right8,ec=fa._left7;null!=za._parent9&&(za._parent9._left7==za?za._parent9._left7=fa:za._parent9._right8=fa);null!=fa&&(fa._parent9=za._parent9);fa._left7=za;null!=za&&(za._parent9=fa);za._right8=ec;
null!=ec&&(ec._parent9=za);var gd=za.ax1,hd=za._left7;if(null!=hd)var Be=hd._min_ax12,gd=gd<Be?gd:Be;var af=za._right8;if(null!=af)var id=af._min_ax12,gd=gd<id?gd:id;za._min_ax12=gd;var Jb=za.ay1,fc=za._left7;if(null!=fc)var Ce=fc._min_ay13,Jb=Jb<Ce?Jb:Ce;var bf=za._right8;if(null!=bf)var jd=bf._min_ay13,Jb=Jb<jd?Jb:jd;za._min_ay13=Jb;var kd=za.ay2,vc=za._left7;if(null!=vc)var cf=vc._max_ay24,kd=kd<cf?cf:kd;var df=za._right8;if(null!=df)var wc=df._max_ay24,kd=kd<wc?wc:kd;za._max_ay24=kd;za._height10=
1+((null==za._left7?-1:za._left7._height10)>(null==za._right8?-1:za._right8._height10)?null==za._left7?-1:za._left7._height10:null==za._right8?-1:za._right8._height10);var ld=fa.ax1,Ca=fa._left7;if(null!=Ca)var T=Ca._min_ax12,ld=ld<T?ld:T;var ee=fa._right8;if(null!=ee)var ua=ee._min_ax12,ld=ld<ua?ld:ua;fa._min_ax12=ld;var V=fa.ay1,fe=fa._left7;if(null!=fe)var Ia=fe._min_ay13,V=V<Ia?V:Ia;var Fd=fa._right8;if(null!=Fd)var gc=Fd._min_ay13,V=V<gc?V:gc;fa._min_ay13=V;var xc=fa.ay2,ef=fa._left7;if(null!=
ef)var md=ef._max_ay24,xc=xc<md?md:xc;var gf=fa._right8;if(null!=gf)var yc=gf._max_ay24,xc=xc<yc?yc:xc;fa._max_ay24=xc;fa._height10=1+((null==fa._left7?-1:fa._left7._height10)>(null==fa._right8?-1:fa._right8._height10)?null==fa._left7?-1:fa._left7._height10:null==fa._right8?-1:fa._right8._height10);if(null!=fa._parent9){var Kb=fa._parent9.ax1,Ac=fa._parent9._left7;if(null!=Ac)var Lb=Ac._min_ax12,Kb=Kb<Lb?Kb:Lb;var nd=fa._parent9._right8;if(null!=nd)var hc=nd._min_ax12,Kb=Kb<hc?Kb:hc;fa._parent9._min_ax12=
Kb;var Mb=fa._parent9.ay1,Gd=fa._parent9._left7;if(null!=Gd)var ic=Gd._min_ay13,Mb=Mb<ic?Mb:ic;var De=fa._parent9._right8;if(null!=De)var Bc=De._min_ay13,Mb=Mb<Bc?Mb:Bc;fa._parent9._min_ay13=Mb;var Cc=fa._parent9.ay2,Ee=fa._parent9._left7;if(null!=Ee)var od=Ee._max_ay24,Cc=Cc<od?od:Cc;var hf=fa._parent9._right8;if(null!=hf)var Va=hf._max_ay24,Cc=Cc<Va?Va:Cc;fa._parent9._max_ay24=Cc;fa._parent9._height10=1+((null==fa._parent9._left7?-1:fa._parent9._left7._height10)>(null==fa._parent9._right8?-1:fa._parent9._right8._height10)?
null==fa._parent9._left7?-1:fa._parent9._left7._height10:null==fa._parent9._right8?-1:fa._parent9._right8._height10)}else this._root1=fa;va=va._parent9}};
RectangleHolder.prototype.remove=function(a){--this.my_size;var N=a._parent9,f=a._left7,J=a._right8;if(null==f&&null==J)J=null,null!=N&&(N._left7==a?N._left7=J:N._right8=J),null!=J&&(J._parent9=N);else if(null!=f&&null==J)J=f,null!=N&&(N._left7==a?N._left7=J:N._right8=J),null!=J&&(J._parent9=N);else if(null==f&&null!=J)null!=N&&(N._left7==a?N._left7=J:N._right8=J),null!=J&&(J._parent9=N);else{for(var C=J=a._right8,G=!0,p=!0;;){if(null==C){C=null;break}if(G)if(null!=C._left7)C=C._left7;else break;
else if(p)break;else if(C==J){C=null;break}else G=!1,p=null!=C._parent9&&C==C._parent9._left7,C=C._parent9}J=C;G=C._parent9;p=C._right8;null!=G&&(G._left7==C?G._left7=p:G._right8=p);null!=p&&(p._parent9=G);null!=N&&(N._left7==a?N._left7=C:N._right8=C);null!=C&&(C._parent9=N);C._left7=f;null!=f&&(f._parent9=C);C._right8=a._right8;null!=a._right8&&(a._right8._parent9=C);f=C.ax1;p=C._left7;null!=p&&(p=p._min_ax12,f=f<p?f:p);p=C._right8;null!=p&&(p=p._min_ax12,f=f<p?f:p);C._min_ax12=f;f=C.ay1;p=C._left7;
null!=p&&(p=p._min_ay13,f=f<p?f:p);p=C._right8;null!=p&&(p=p._min_ay13,f=f<p?f:p);C._min_ay13=f;f=C.ay2;p=C._left7;null!=p&&(p=p._max_ay24,f=f<p?p:f);p=C._right8;null!=p&&(p=p._max_ay24,f=f<p?p:f);C._max_ay24=f;C._height10=1+((null==C._left7?-1:C._left7._height10)>(null==C._right8?-1:C._right8._height10)?null==C._left7?-1:C._left7._height10:null==C._right8?-1:C._right8._height10);for(var C=G,y=!0;y&&C!=N;){var G=C._min_ax12,f=C._min_ay13,p=C._max_ay24,H=C._height10,y=C.ax1,m=C._left7;null!=m&&(m=
m._min_ax12,y=y<m?y:m);m=C._right8;null!=m&&(m=m._min_ax12,y=y<m?y:m);C._min_ax12=y;y=C.ay1;m=C._left7;null!=m&&(m=m._min_ay13,y=y<m?y:m);m=C._right8;null!=m&&(m=m._min_ay13,y=y<m?y:m);C._min_ay13=y;y=C.ay2;m=C._left7;null!=m&&(m=m._max_ay24,y=y<m?m:y);m=C._right8;null!=m&&(m=m._max_ay24,y=y<m?m:y);C._max_ay24=y;C._height10=1+((null==C._left7?-1:C._left7._height10)>(null==C._right8?-1:C._right8._height10)?null==C._left7?-1:C._left7._height10:null==C._right8?-1:C._right8._height10);y=(y=(y=(y=(y=!1,
G!=C._min_ax12))||f!=C._min_ay13)||p!=C._max_ay24)||H!=C._height10;C=C._parent9}}for(H=!0;H&&null!=N;)C=N._min_ax12,G=N._min_ay13,f=N._max_ay24,p=N._height10,H=N.ax1,y=N._left7,null!=y&&(y=y._min_ax12,H=H<y?H:y),y=N._right8,null!=y&&(y=y._min_ax12,H=H<y?H:y),N._min_ax12=H,H=N.ay1,y=N._left7,null!=y&&(y=y._min_ay13,H=H<y?H:y),y=N._right8,null!=y&&(y=y._min_ay13,H=H<y?H:y),N._min_ay13=H,H=N.ay2,y=N._left7,null!=y&&(y=y._max_ay24,H=H<y?y:H),y=N._right8,null!=y&&(y=y._max_ay24,H=H<y?y:H),N._max_ay24=
H,N._height10=1+((null==N._left7?-1:N._left7._height10)>(null==N._right8?-1:N._right8._height10)?null==N._left7?-1:N._left7._height10:null==N._right8?-1:N._right8._height10),H=(H=(H=(H=(H=!1,C!=N._min_ax12))||G!=N._min_ay13)||f!=N._max_ay24)||p!=N._height10,N=N._parent9;this._root1==a&&(this._root1=J)};
RectangleHolder.prototype.updateAx1=function(a,N){if(a.ax1!=N){var f=N,J=a._left7;null!=J&&(J=J._min_ax12,f=f<J?f:J);J=a._right8;null!=J&&(J=J._min_ax12,f=f<J?f:J);a._min_ax12=f;for(var f=a._parent9,C=!0;C&&null!=f;){var J=f._min_ax12,G=f._height10,C=f.ax1,p=f._left7;null!=p&&(p=p._min_ax12,C=C<p?C:p);p=f._right8;null!=p&&(p=p._min_ax12,C=C<p?C:p);f._min_ax12=C;f._height10=1+((null==f._left7?-1:f._left7._height10)>(null==f._right8?-1:f._right8._height10)?null==f._left7?-1:f._left7._height10:null==
f._right8?-1:f._right8._height10);C=(C=(C=!1,J!=f._min_ax12))||G!=f._height10;f=f._parent9}a.ax1=N}};
RectangleHolder.prototype.updateAy1=function(a,N){if(a.ay1!=N){var f=N,J=a._left7;null!=J&&(J=J._min_ay13,f=f<J?f:J);J=a._right8;null!=J&&(J=J._min_ay13,f=f<J?f:J);a._min_ay13=f;for(var f=a._parent9,C=!0;C&&null!=f;){var J=f._min_ay13,G=f._height10,C=f.ay1,p=f._left7;null!=p&&(p=p._min_ay13,C=C<p?C:p);p=f._right8;null!=p&&(p=p._min_ay13,C=C<p?C:p);f._min_ay13=C;f._height10=1+((null==f._left7?-1:f._left7._height10)>(null==f._right8?-1:f._right8._height10)?null==f._left7?-1:f._left7._height10:null==
f._right8?-1:f._right8._height10);C=(C=(C=!1,J!=f._min_ay13))||G!=f._height10;f=f._parent9}a.ay1=N}};
RectangleHolder.prototype.updateAx2=function(a,N){if(a.ax2!=N){var f=a._parent9,J=a._left7,C=a._right8,G;if(null==J&&null==C)G=null,null!=f&&(f._left7==a?f._left7=G:f._right8=G),null!=G&&(G._parent9=f);else if(null!=J&&null==C)G=J,null!=f&&(f._left7==a?f._left7=G:f._right8=G),null!=G&&(G._parent9=f);else if(null==J&&null!=C)G=C,null!=f&&(f._left7==a?f._left7=G:f._right8=G),null!=G&&(G._parent9=f);else{for(var p=a._right8,y=p,H=!0,m=!0;;){if(null==y){y=null;break}if(H)if(null!=y._left7)y=y._left7;
else break;else if(m)break;else if(y==p){y=null;break}else H=!1,m=null!=y._parent9&&y==y._parent9._left7,y=y._parent9}G=y;var Q=y._parent9,P=y._right8;null!=Q&&(Q._left7==y?Q._left7=P:Q._right8=P);null!=P&&(P._parent9=Q);null!=f&&(f._left7==a?f._left7=y:f._right8=y);null!=y&&(y._parent9=f);y._left7=J;null!=J&&(J._parent9=y);y._right8=a._right8;null!=a._right8&&(a._right8._parent9=y);var S=y.ax1,R=y._left7;if(null!=R)var ma=R._min_ax12,S=S<ma?S:ma;var ga=y._right8;if(null!=ga)var $a=ga._min_ax12,S=
S<$a?S:$a;y._min_ax12=S;var lb=y.ay1,Db=y._left7;if(null!=Db)var Lc=Db._min_ay13,lb=lb<Lc?lb:Lc;var ab=y._right8;if(null!=ab)var pb=ab._min_ay13,lb=lb<pb?lb:pb;y._min_ay13=lb;var Qa=y.ay2,Pb=y._left7;if(null!=Pb)var wb=Pb._max_ay24,Qa=Qa<wb?wb:Qa;var Wa=y._right8;if(null!=Wa)var va=Wa._max_ay24,Qa=Qa<va?va:Qa;y._max_ay24=Qa;y._height10=1+((null==y._left7?-1:y._left7._height10)>(null==y._right8?-1:y._right8._height10)?null==y._left7?-1:y._left7._height10:null==y._right8?-1:y._right8._height10);for(var wa=
Q,ja=!0;ja&&wa!=f;){var Y=wa._min_ax12,Z=wa._min_ay13,qb=wa._max_ay24,qe=wa._height10,kc=wa.ax1,Vd=wa._left7;if(null!=Vd)var re=Vd._min_ax12,kc=kc<re?kc:re;var db=wa._right8;if(null!=db)var Wd=db._min_ax12,kc=kc<Wd?kc:Wd;wa._min_ax12=kc;var Eb=wa.ay1,Xd=wa._left7;if(null!=Xd)var Mc=Xd._min_ay13,Eb=Eb<Mc?Eb:Mc;var Ra=wa._right8;if(null!=Ra)var Qb=Ra._min_ay13,Eb=Eb<Qb?Eb:Qb;wa._min_ay13=Eb;var rb=wa.ay2,Rb=wa._left7;if(null!=Rb)var sd=Rb._max_ay24,rb=rb<sd?sd:rb;var ha=wa._right8;if(null!=ha)var xb=
ha._max_ay24,rb=rb<xb?xb:rb;wa._max_ay24=rb;wa._height10=1+((null==wa._left7?-1:wa._left7._height10)>(null==wa._right8?-1:wa._right8._height10)?null==wa._left7?-1:wa._left7._height10:null==wa._right8?-1:wa._right8._height10);ja=(ja=(ja=(ja=(ja=!1,Y!=wa._min_ax12))||Z!=wa._min_ay13)||qb!=wa._max_ay24)||qe!=wa._height10;wa=wa._parent9}}for(var aa=f,Xa=!0;Xa&&null!=aa;){var sb=aa._min_ax12,K=aa._min_ay13,Na=aa._max_ay24,Le=aa._height10,Sb=aa.ax1,se=aa._left7;if(null!=se)var Tb=se._min_ax12,Sb=Sb<Tb?
Sb:Tb;var Ub=aa._right8;if(null!=Ub)var td=Ub._min_ax12,Sb=Sb<td?Sb:td;aa._min_ax12=Sb;var Vb=aa.ay1,Bd=aa._left7;if(null!=Bd)var Oa=Bd._min_ay13,Vb=Vb<Oa?Vb:Oa;var bb=aa._right8;if(null!=bb)var Nc=bb._min_ay13,Vb=Vb<Nc?Vb:Nc;aa._min_ay13=Vb;var Ob=aa.ay2,Ke=aa._left7;if(null!=Ke)var Jc=Ke._max_ay24,Ob=Ob<Jc?Jc:Ob;var Kc=aa._right8;if(null!=Kc)var ud=Kc._max_ay24,Ob=Ob<ud?ud:Ob;aa._max_ay24=Ob;aa._height10=1+((null==aa._left7?-1:aa._left7._height10)>(null==aa._right8?-1:aa._right8._height10)?null==
aa._left7?-1:aa._left7._height10:null==aa._right8?-1:aa._right8._height10);Xa=(Xa=(Xa=(Xa=(Xa=!1,sb!=aa._min_ax12))||K!=aa._min_ay13)||Na!=aa._max_ay24)||Le!=aa._height10;aa=aa._parent9}this._root1==a&&(this._root1=G);a._left7=null;a._right8=null;a._min_ax12=a.ax1;a._min_ay13=a.ay1;a._max_ay24=a.ay2;a._height10=0;for(var tb=null,ib=this._root1,Wb=!1;null!=ib;)tb=ib,N<ib.ax2?(ib=ib._left7,Wb=!0):(ib=ib._right8,Wb=!1);null==tb?this._root1=a:(a._parent9=tb,Wb?tb._left7=a:tb._right8=a);for(var ya=a._parent9,
mb=!0;mb&&null!=ya;){var vd=ya._min_ax12,pa=ya._min_ay13,xa=ya._max_ay24,ka=ya._height10,Fb=ya.ax1,eb=ya._left7;if(null!=eb)var te=eb._min_ax12,Fb=Fb<te?Fb:te;var Xb=ya._right8;if(null!=Xb)var Dd=Xb._min_ax12,Fb=Fb<Dd?Fb:Dd;ya._min_ax12=Fb;var fb=ya.ay1,Yb=ya._left7;if(null!=Yb)var Zd=Yb._min_ay13,fb=fb<Zd?fb:Zd;var Zb=ya._right8;if(null!=Zb)var Yd=Zb._min_ay13,fb=fb<Yd?fb:Yd;ya._min_ay13=fb;var Gb=ya.ay2,jb=ya._left7;if(null!=jb)var ub=jb._max_ay24,Gb=Gb<ub?ub:Gb;var nb=ya._right8;if(null!=nb)var ue=
nb._max_ay24,Gb=Gb<ue?ue:Gb;ya._max_ay24=Gb;ya._height10=1+((null==ya._left7?-1:ya._left7._height10)>(null==ya._right8?-1:ya._right8._height10)?null==ya._left7?-1:ya._left7._height10:null==ya._right8?-1:ya._right8._height10);mb=(mb=(mb=(mb=(mb=!1,vd!=ya._min_ax12))||pa!=ya._min_ay13)||xa!=ya._max_ay24)||ka!=ya._height10;ya=ya._parent9}for(var Da=a,lc;null!=Da._parent9;)if(Da=Da._parent9,Da._height10=1+((null==Da._left7?-1:Da._left7._height10)>(null==Da._right8?-1:Da._right8._height10)?null==Da._left7?
-1:Da._left7._height10:null==Da._right8?-1:Da._right8._height10),lc=(null==Da._left7?-1:Da._left7._height10)-(null==Da._right8?-1:Da._right8._height10),1<lc){if((null==Da._left7._left7?-1:Da._left7._left7._height10)<(null==Da._left7._right8?-1:Da._left7._right8._height10)){var Aa=Da._left7,O=Aa._right8,Sa=O._left7;null!=Aa._parent9&&(Aa._parent9._left7==Aa?Aa._parent9._left7=O:Aa._parent9._right8=O);null!=O&&(O._parent9=Aa._parent9);O._left7=Aa;null!=Aa&&(Aa._parent9=O);Aa._right8=Sa;null!=Sa&&(Sa._parent9=
Aa);var sa=Aa.ax1,da=Aa._left7;if(null!=da)var ve=da._min_ax12,sa=sa<ve?sa:ve;var mc=Aa._right8;if(null!=mc)var we=mc._min_ax12,sa=sa<we?sa:we;Aa._min_ax12=sa;var nc=Aa.ay1,oc=Aa._left7;if(null!=oc)var xe=oc._min_ay13,nc=nc<xe?nc:xe;var vb=Aa._right8;if(null!=vb)var Me=vb._min_ay13,nc=nc<Me?nc:Me;Aa._min_ay13=nc;var yb=Aa.ay2,Hb=Aa._left7;if(null!=Hb)var ye=Hb._max_ay24,yb=yb<ye?ye:yb;var pc=Aa._right8;if(null!=pc)var Ne=pc._max_ay24,yb=yb<Ne?Ne:yb;Aa._max_ay24=yb;Aa._height10=1+((null==Aa._left7?
-1:Aa._left7._height10)>(null==Aa._right8?-1:Aa._right8._height10)?null==Aa._left7?-1:Aa._left7._height10:null==Aa._right8?-1:Aa._right8._height10);var $b=O.ax1,ac=O._left7;if(null!=ac)var qc=ac._min_ax12,$b=$b<qc?$b:qc;var gb=O._right8;if(null!=gb)var Oe=gb._min_ax12,$b=$b<Oe?$b:Oe;O._min_ax12=$b;var Oc=O.ay1,Pc=O._left7;if(null!=Pc)var $d=Pc._min_ay13,Oc=Oc<$d?Oc:$d;var Qc=O._right8;if(null!=Qc)var Pe=Qc._min_ay13,Oc=Oc<Pe?Oc:Pe;O._min_ay13=Oc;var Rc=O.ay2,Ea=O._left7;if(null!=Ea)var ia=Ea._max_ay24,
Rc=Rc<ia?ia:Rc;var rc=O._right8;if(null!=rc)var Sc=rc._max_ay24,Rc=Rc<Sc?Sc:Rc;O._max_ay24=Rc;O._height10=1+((null==O._left7?-1:O._left7._height10)>(null==O._right8?-1:O._right8._height10)?null==O._left7?-1:O._left7._height10:null==O._right8?-1:O._right8._height10);if(null!=O._parent9){var Tc=O._parent9.ax1,Qe=O._parent9._left7;if(null!=Qe)var Re=Qe._min_ax12,Tc=Tc<Re?Tc:Re;var Uc=O._parent9._right8;if(null!=Uc)var Vc=Uc._min_ax12,Tc=Tc<Vc?Tc:Vc;O._parent9._min_ax12=Tc;var Wc=O._parent9.ay1,Se=O._parent9._left7;
if(null!=Se)var Te=Se._min_ay13,Wc=Wc<Te?Wc:Te;var Xc=O._parent9._right8;if(null!=Xc)var Yc=Xc._min_ay13,Wc=Wc<Yc?Wc:Yc;O._parent9._min_ay13=Wc;var Zc=O._parent9.ay2,Ue=O._parent9._left7;if(null!=Ue)var Ve=Ue._max_ay24,Zc=Zc<Ve?Ve:Zc;var $c=O._parent9._right8;if(null!=$c)var ad=$c._max_ay24,Zc=Zc<ad?ad:Zc;O._parent9._max_ay24=Zc;O._parent9._height10=1+((null==O._parent9._left7?-1:O._parent9._left7._height10)>(null==O._parent9._right8?-1:O._parent9._right8._height10)?null==O._parent9._left7?-1:O._parent9._left7._height10:
null==O._parent9._right8?-1:O._parent9._right8._height10)}else this._root1=O}var Fa=Da,W=Fa._left7,ae=W._right8;null!=Fa._parent9&&(Fa._parent9._left7==Fa?Fa._parent9._left7=W:Fa._parent9._right8=W);null!=W&&(W._parent9=Fa._parent9);W._right8=Fa;null!=Fa&&(Fa._parent9=W);Fa._left7=ae;null!=ae&&(ae._parent9=Fa);var ta=Fa.ax1,ba=Fa._left7;if(null!=ba)var be=ba._min_ax12,ta=ta<be?ta:be;var sc=Fa._right8;if(null!=sc)var ze=sc._min_ax12,ta=ta<ze?ta:ze;Fa._min_ax12=ta;var zb=Fa.ay1,Ab=Fa._left7;if(null!=
Ab)var We=Ab._min_ay13,zb=zb<We?zb:We;var bd=Fa._right8;if(null!=bd)var ce=bd._min_ay13,zb=zb<ce?zb:ce;Fa._min_ay13=zb;var bc=Fa.ay2,cc=Fa._left7;if(null!=cc)var Xe=cc._max_ay24,bc=bc<Xe?Xe:bc;var dc=Fa._right8;if(null!=dc)var tc=dc._max_ay24,bc=bc<tc?tc:bc;Fa._max_ay24=bc;Fa._height10=1+((null==Fa._left7?-1:Fa._left7._height10)>(null==Fa._right8?-1:Fa._right8._height10)?null==Fa._left7?-1:Fa._left7._height10:null==Fa._right8?-1:Fa._right8._height10);var cd=W.ax1,dd=W._left7;if(null!=dd)var Ye=dd._min_ax12,
cd=cd<Ye?cd:Ye;var ed=W._right8;if(null!=ed)var Ze=ed._min_ax12,cd=cd<Ze?cd:Ze;W._min_ax12=cd;var Ib=W.ay1,cb=W._left7;if(null!=cb)var $e=cb._min_ay13,Ib=Ib<$e?Ib:$e;var fd=W._right8;if(null!=fd)var Ae=fd._min_ay13,Ib=Ib<Ae?Ib:Ae;W._min_ay13=Ib;var uc=W.ay2,za=W._left7;if(null!=za)var fa=za._max_ay24,uc=uc<fa?fa:uc;var ec=W._right8;if(null!=ec)var gd=ec._max_ay24,uc=uc<gd?gd:uc;W._max_ay24=uc;W._height10=1+((null==W._left7?-1:W._left7._height10)>(null==W._right8?-1:W._right8._height10)?null==W._left7?
-1:W._left7._height10:null==W._right8?-1:W._right8._height10);if(null!=W._parent9){var hd=W._parent9.ax1,Be=W._parent9._left7;if(null!=Be)var af=Be._min_ax12,hd=hd<af?hd:af;var id=W._parent9._right8;if(null!=id)var Jb=id._min_ax12,hd=hd<Jb?hd:Jb;W._parent9._min_ax12=hd;var fc=W._parent9.ay1,Ce=W._parent9._left7;if(null!=Ce)var bf=Ce._min_ay13,fc=fc<bf?fc:bf;var jd=W._parent9._right8;if(null!=jd)var kd=jd._min_ay13,fc=fc<kd?fc:kd;W._parent9._min_ay13=fc;var vc=W._parent9.ay2,cf=W._parent9._left7;if(null!=
cf)var df=cf._max_ay24,vc=vc<df?df:vc;var wc=W._parent9._right8;if(null!=wc)var ld=wc._max_ay24,vc=vc<ld?ld:vc;W._parent9._max_ay24=vc;W._parent9._height10=1+((null==W._parent9._left7?-1:W._parent9._left7._height10)>(null==W._parent9._right8?-1:W._parent9._right8._height10)?null==W._parent9._left7?-1:W._parent9._left7._height10:null==W._parent9._right8?-1:W._parent9._right8._height10)}else this._root1=W;Da=Da._parent9}else if(-1>lc){if((null==Da._right8._left7?-1:Da._right8._left7._height10)>(null==
Da._right8._right8?-1:Da._right8._right8._height10)){var Ca=Da._right8,T=Ca._left7,ee=T._right8;null!=Ca._parent9&&(Ca._parent9._left7==Ca?Ca._parent9._left7=T:Ca._parent9._right8=T);null!=T&&(T._parent9=Ca._parent9);T._right8=Ca;null!=Ca&&(Ca._parent9=T);Ca._left7=ee;null!=ee&&(ee._parent9=Ca);var ua=Ca.ax1,V=Ca._left7;if(null!=V)var fe=V._min_ax12,ua=ua<fe?ua:fe;var Ia=Ca._right8;if(null!=Ia)var Fd=Ia._min_ax12,ua=ua<Fd?ua:Fd;Ca._min_ax12=ua;var gc=Ca.ay1,xc=Ca._left7;if(null!=xc)var ef=xc._min_ay13,
gc=gc<ef?gc:ef;var md=Ca._right8;if(null!=md)var gf=md._min_ay13,gc=gc<gf?gc:gf;Ca._min_ay13=gc;var yc=Ca.ay2,Kb=Ca._left7;if(null!=Kb)var Ac=Kb._max_ay24,yc=yc<Ac?Ac:yc;var Lb=Ca._right8;if(null!=Lb)var nd=Lb._max_ay24,yc=yc<nd?nd:yc;Ca._max_ay24=yc;Ca._height10=1+((null==Ca._left7?-1:Ca._left7._height10)>(null==Ca._right8?-1:Ca._right8._height10)?null==Ca._left7?-1:Ca._left7._height10:null==Ca._right8?-1:Ca._right8._height10);var hc=T.ax1,Mb=T._left7;if(null!=Mb)var Gd=Mb._min_ax12,hc=hc<Gd?hc:
Gd;var ic=T._right8;if(null!=ic)var De=ic._min_ax12,hc=hc<De?hc:De;T._min_ax12=hc;var Bc=T.ay1,Cc=T._left7;if(null!=Cc)var Ee=Cc._min_ay13,Bc=Bc<Ee?Bc:Ee;var od=T._right8;if(null!=od)var hf=od._min_ay13,Bc=Bc<hf?Bc:hf;T._min_ay13=Bc;var Va=T.ay2,Zf=T._left7;if(null!=Zf)var Cf=Zf._max_ay24,Va=Va<Cf?Cf:Va;var wd=T._right8;if(null!=wd)var Fe=wd._max_ay24,Va=Va<Fe?Fe:Va;T._max_ay24=Va;T._height10=1+((null==T._left7?-1:T._left7._height10)>(null==T._right8?-1:T._right8._height10)?null==T._left7?-1:T._left7._height10:
null==T._right8?-1:T._right8._height10);if(null!=T._parent9){var Id=T._parent9.ax1,$f=T._parent9._left7;if(null!=$f)var ag=$f._min_ax12,Id=Id<ag?Id:ag;var Jd=T._parent9._right8;if(null!=Jd)var bg=Jd._min_ax12,Id=Id<bg?Id:bg;T._parent9._min_ax12=Id;var he=T._parent9.ay1,cg=T._parent9._left7;if(null!=cg)var Df=cg._min_ay13,he=he<Df?he:Df;var xd=T._parent9._right8;if(null!=xd)var sf=xd._min_ay13,he=he<sf?he:sf;T._parent9._min_ay13=he;var Kd=T._parent9.ay2,Ef=T._parent9._left7;if(null!=Ef)var Ff=Ef._max_ay24,
Kd=Kd<Ff?Ff:Kd;var Ld=T._parent9._right8;if(null!=Ld)var Gf=Ld._max_ay24,Kd=Kd<Gf?Gf:Kd;T._parent9._max_ay24=Kd;T._parent9._height10=1+((null==T._parent9._left7?-1:T._parent9._left7._height10)>(null==T._parent9._right8?-1:T._parent9._right8._height10)?null==T._parent9._left7?-1:T._parent9._left7._height10:null==T._parent9._right8?-1:T._parent9._right8._height10)}else this._root1=T}var Ga=Da,la=Ga._right8,jf=la._left7;null!=Ga._parent9&&(Ga._parent9._left7==Ga?Ga._parent9._left7=la:Ga._parent9._right8=
la);null!=la&&(la._parent9=Ga._parent9);la._left7=Ga;null!=Ga&&(Ga._parent9=la);Ga._right8=jf;null!=jf&&(jf._parent9=Ga);var Ba=Ga.ax1,oa=Ga._left7;if(null!=oa)var Hf=oa._min_ax12,Ba=Ba<Hf?Ba:Hf;var Md=Ga._right8;if(null!=Md)var If=Md._min_ax12,Ba=Ba<If?Ba:If;Ga._min_ax12=Ba;var Nd=Ga.ay1,dg=Ga._left7;if(null!=dg)var eg=dg._min_ay13,Nd=Nd<eg?Nd:eg;var Od=Ga._right8;if(null!=Od)var fg=Od._min_ay13,Nd=Nd<fg?Nd:fg;Ga._min_ay13=Nd;var Nb=Ga.ay2,Jf=Ga._left7;if(null!=Jf)var gg=Jf._max_ay24,Nb=Nb<gg?gg:
Nb;var je=Ga._right8;if(null!=je)var Kf=je._max_ay24,Nb=Nb<Kf?Kf:Nb;Ga._max_ay24=Nb;Ga._height10=1+((null==Ga._left7?-1:Ga._left7._height10)>(null==Ga._right8?-1:Ga._right8._height10)?null==Ga._left7?-1:Ga._left7._height10:null==Ga._right8?-1:Ga._right8._height10);var ke=la.ax1,ig=la._left7;if(null!=ig)var hg=ig._min_ax12,ke=ke<hg?ke:hg;var Pd=la._right8;if(null!=Pd)var Lf=Pd._min_ax12,ke=ke<Lf?ke:Lf;la._min_ax12=ke;var le=la.ay1,Mf=la._left7;if(null!=Mf)var Nf=Mf._min_ay13,le=le<Nf?le:Nf;var Qd=
la._right8;if(null!=Qd)var jg=Qd._min_ay13,le=le<jg?le:jg;la._min_ay13=le;var me=la.ay2,mf=la._left7;if(null!=mf)var uf=mf._max_ay24,me=me<uf?uf:me;var jc=la._right8;if(null!=jc)var kg=jc._max_ay24,me=me<kg?kg:me;la._max_ay24=me;la._height10=1+((null==la._left7?-1:la._left7._height10)>(null==la._right8?-1:la._right8._height10)?null==la._left7?-1:la._left7._height10:null==la._right8?-1:la._right8._height10);if(null!=la._parent9){var ne=la._parent9.ax1,zd=la._parent9._left7;if(null!=zd)var vf=zd._min_ax12,
ne=ne<vf?ne:vf;var Ad=la._parent9._right8;if(null!=Ad)var mg=Ad._min_ax12,ne=ne<mg?ne:mg;la._parent9._min_ax12=ne;var Rd=la._parent9.ay1,ng=la._parent9._left7;if(null!=ng)var Of=ng._min_ay13,Rd=Rd<Of?Rd:Of;var Gc=la._parent9._right8;if(null!=Gc)var nf=Gc._min_ay13,Rd=Rd<nf?Rd:nf;la._parent9._min_ay13=Rd;var Sd=la._parent9.ay2,Pf=la._parent9._left7;if(null!=Pf)var Je=Pf._max_ay24,Sd=Sd<Je?Je:Sd;var Td=la._parent9._right8;if(null!=Td)var wf=Td._max_ay24,Sd=Sd<wf?wf:Sd;la._parent9._max_ay24=Sd;la._parent9._height10=
1+((null==la._parent9._left7?-1:la._parent9._left7._height10)>(null==la._parent9._right8?-1:la._parent9._right8._height10)?null==la._parent9._left7?-1:la._parent9._left7._height10:null==la._parent9._right8?-1:la._parent9._right8._height10)}else this._root1=la;Da=Da._parent9}a.ax2=N}};
RectangleHolder.prototype.updateAy2=function(a,N){if(a.ay2!=N){var f=N,J=a._left7;null!=J&&(J=J._max_ay24,f=f<J?J:f);J=a._right8;null!=J&&(J=J._max_ay24,f=f<J?J:f);a._max_ay24=f;for(var f=a._parent9,C=!0;C&&null!=f;){var J=f._max_ay24,G=f._height10,C=f.ay2,p=f._left7;null!=p&&(p=p._max_ay24,C=C<p?p:C);p=f._right8;null!=p&&(p=p._max_ay24,C=C<p?p:C);f._max_ay24=C;f._height10=1+((null==f._left7?-1:f._left7._height10)>(null==f._right8?-1:f._right8._height10)?null==f._left7?-1:f._left7._height10:null==
f._right8?-1:f._right8._height10);C=(C=(C=!1,J!=f._max_ay24))||G!=f._height10;f=f._parent9}a.ay2=N}};
RectangleHolder.prototype.update=function(a,N,f,J,C){var G=a._parent9,p=a._left7,y=a._right8,H;if(null==p&&null==y)H=null,null!=G&&(G._left7==a?G._left7=H:G._right8=H),null!=H&&(H._parent9=G);else if(null!=p&&null==y)H=p,null!=G&&(G._left7==a?G._left7=H:G._right8=H),null!=H&&(H._parent9=G);else if(null==p&&null!=y)H=y,null!=G&&(G._left7==a?G._left7=H:G._right8=H),null!=H&&(H._parent9=G);else{for(var m=a._right8,Q=m,P=!0,S=!0;;){if(null==Q){Q=null;break}if(P)if(null!=Q._left7)Q=Q._left7;else break;
else if(S)break;else if(Q==m){Q=null;break}else P=!1,S=null!=Q._parent9&&Q==Q._parent9._left7,Q=Q._parent9}H=Q;var R=Q._parent9,ma=Q._right8;null!=R&&(R._left7==Q?R._left7=ma:R._right8=ma);null!=ma&&(ma._parent9=R);null!=G&&(G._left7==a?G._left7=Q:G._right8=Q);null!=Q&&(Q._parent9=G);Q._left7=p;null!=p&&(p._parent9=Q);Q._right8=a._right8;null!=a._right8&&(a._right8._parent9=Q);var ga=Q.ax1,$a=Q._left7;if(null!=$a)var lb=$a._min_ax12,ga=ga<lb?ga:lb;var Db=Q._right8;if(null!=Db)var Lc=Db._min_ax12,
ga=ga<Lc?ga:Lc;Q._min_ax12=ga;var ab=Q.ay1,pb=Q._left7;if(null!=pb)var Qa=pb._min_ay13,ab=ab<Qa?ab:Qa;var Pb=Q._right8;if(null!=Pb)var wb=Pb._min_ay13,ab=ab<wb?ab:wb;Q._min_ay13=ab;var Wa=Q.ay2,va=Q._left7;if(null!=va)var wa=va._max_ay24,Wa=Wa<wa?wa:Wa;var ja=Q._right8;if(null!=ja)var Y=ja._max_ay24,Wa=Wa<Y?Y:Wa;Q._max_ay24=Wa;Q._height10=1+((null==Q._left7?-1:Q._left7._height10)>(null==Q._right8?-1:Q._right8._height10)?null==Q._left7?-1:Q._left7._height10:null==Q._right8?-1:Q._right8._height10);
for(var Z=R,qb=!0;qb&&Z!=G;){var qe=Z._min_ax12,kc=Z._min_ay13,Vd=Z._max_ay24,re=Z._height10,db=Z.ax1,Wd=Z._left7;if(null!=Wd)var Eb=Wd._min_ax12,db=db<Eb?db:Eb;var Xd=Z._right8;if(null!=Xd)var Mc=Xd._min_ax12,db=db<Mc?db:Mc;Z._min_ax12=db;var Ra=Z.ay1,Qb=Z._left7;if(null!=Qb)var rb=Qb._min_ay13,Ra=Ra<rb?Ra:rb;var Rb=Z._right8;if(null!=Rb)var sd=Rb._min_ay13,Ra=Ra<sd?Ra:sd;Z._min_ay13=Ra;var ha=Z.ay2,xb=Z._left7;if(null!=xb)var aa=xb._max_ay24,ha=ha<aa?aa:ha;var Xa=Z._right8;if(null!=Xa)var sb=Xa._max_ay24,
ha=ha<sb?sb:ha;Z._max_ay24=ha;Z._height10=1+((null==Z._left7?-1:Z._left7._height10)>(null==Z._right8?-1:Z._right8._height10)?null==Z._left7?-1:Z._left7._height10:null==Z._right8?-1:Z._right8._height10);qb=(qb=(qb=(qb=(qb=!1,qe!=Z._min_ax12))||kc!=Z._min_ay13)||Vd!=Z._max_ay24)||re!=Z._height10;Z=Z._parent9}}for(var K=G,Na=!0;Na&&null!=K;){var Le=K._min_ax12,Sb=K._min_ay13,se=K._max_ay24,Tb=K._height10,Ub=K.ax1,td=K._left7;if(null!=td)var Vb=td._min_ax12,Ub=Ub<Vb?Ub:Vb;var Bd=K._right8;if(null!=Bd)var Oa=
Bd._min_ax12,Ub=Ub<Oa?Ub:Oa;K._min_ax12=Ub;var bb=K.ay1,Nc=K._left7;if(null!=Nc)var Ob=Nc._min_ay13,bb=bb<Ob?bb:Ob;var Ke=K._right8;if(null!=Ke)var Jc=Ke._min_ay13,bb=bb<Jc?bb:Jc;K._min_ay13=bb;var Kc=K.ay2,ud=K._left7;if(null!=ud)var tb=ud._max_ay24,Kc=Kc<tb?tb:Kc;var ib=K._right8;if(null!=ib)var Wb=ib._max_ay24,Kc=Kc<Wb?Wb:Kc;K._max_ay24=Kc;K._height10=1+((null==K._left7?-1:K._left7._height10)>(null==K._right8?-1:K._right8._height10)?null==K._left7?-1:K._left7._height10:null==K._right8?-1:K._right8._height10);
Na=(Na=(Na=(Na=(Na=!1,Le!=K._min_ax12))||Sb!=K._min_ay13)||se!=K._max_ay24)||Tb!=K._height10;K=K._parent9}this._root1==a&&(this._root1=H);a._left7=null;a._right8=null;a._min_ax12=a.ax1;a._min_ay13=a.ay1;a._max_ay24=a.ay2;a._height10=0;for(var ya=null,mb=this._root1,vd=!1;null!=mb;)ya=mb,J<mb.ax2?(mb=mb._left7,vd=!0):(mb=mb._right8,vd=!1);null==ya?this._root1=a:(a._parent9=ya,vd?ya._left7=a:ya._right8=a);for(var pa=a._parent9,xa=!0;xa&&null!=pa;){var ka=pa._min_ax12,Fb=pa._min_ay13,eb=pa._max_ay24,
te=pa._height10,Xb=pa.ax1,Dd=pa._left7;if(null!=Dd)var fb=Dd._min_ax12,Xb=Xb<fb?Xb:fb;var Yb=pa._right8;if(null!=Yb)var Zd=Yb._min_ax12,Xb=Xb<Zd?Xb:Zd;pa._min_ax12=Xb;var Zb=pa.ay1,Yd=pa._left7;if(null!=Yd)var Gb=Yd._min_ay13,Zb=Zb<Gb?Zb:Gb;var jb=pa._right8;if(null!=jb)var ub=jb._min_ay13,Zb=Zb<ub?Zb:ub;pa._min_ay13=Zb;var nb=pa.ay2,ue=pa._left7;if(null!=ue)var Da=ue._max_ay24,nb=nb<Da?Da:nb;var lc=pa._right8;if(null!=lc)var Aa=lc._max_ay24,nb=nb<Aa?Aa:nb;pa._max_ay24=nb;pa._height10=1+((null==pa._left7?
-1:pa._left7._height10)>(null==pa._right8?-1:pa._right8._height10)?null==pa._left7?-1:pa._left7._height10:null==pa._right8?-1:pa._right8._height10);xa=(xa=(xa=(xa=(xa=!1,ka!=pa._min_ax12))||Fb!=pa._min_ay13)||eb!=pa._max_ay24)||te!=pa._height10;pa=pa._parent9}for(var O=a,Sa;null!=O._parent9;)if(O=O._parent9,O._height10=1+((null==O._left7?-1:O._left7._height10)>(null==O._right8?-1:O._right8._height10)?null==O._left7?-1:O._left7._height10:null==O._right8?-1:O._right8._height10),Sa=(null==O._left7?-1:
O._left7._height10)-(null==O._right8?-1:O._right8._height10),1<Sa){if((null==O._left7._left7?-1:O._left7._left7._height10)<(null==O._left7._right8?-1:O._left7._right8._height10)){var sa=O._left7,da=sa._right8,ve=da._left7;null!=sa._parent9&&(sa._parent9._left7==sa?sa._parent9._left7=da:sa._parent9._right8=da);null!=da&&(da._parent9=sa._parent9);da._left7=sa;null!=sa&&(sa._parent9=da);sa._right8=ve;null!=ve&&(ve._parent9=sa);var mc=sa.ax1,we=sa._left7;if(null!=we)var nc=we._min_ax12,mc=mc<nc?mc:nc;
var oc=sa._right8;if(null!=oc)var xe=oc._min_ax12,mc=mc<xe?mc:xe;sa._min_ax12=mc;var vb=sa.ay1,Me=sa._left7;if(null!=Me)var yb=Me._min_ay13,vb=vb<yb?vb:yb;var Hb=sa._right8;if(null!=Hb)var ye=Hb._min_ay13,vb=vb<ye?vb:ye;sa._min_ay13=vb;var pc=sa.ay2,Ne=sa._left7;if(null!=Ne)var $b=Ne._max_ay24,pc=pc<$b?$b:pc;var ac=sa._right8;if(null!=ac)var qc=ac._max_ay24,pc=pc<qc?qc:pc;sa._max_ay24=pc;sa._height10=1+((null==sa._left7?-1:sa._left7._height10)>(null==sa._right8?-1:sa._right8._height10)?null==sa._left7?
-1:sa._left7._height10:null==sa._right8?-1:sa._right8._height10);var gb=da.ax1,Oe=da._left7;if(null!=Oe)var Oc=Oe._min_ax12,gb=gb<Oc?gb:Oc;var Pc=da._right8;if(null!=Pc)var $d=Pc._min_ax12,gb=gb<$d?gb:$d;da._min_ax12=gb;var Qc=da.ay1,Pe=da._left7;if(null!=Pe)var Rc=Pe._min_ay13,Qc=Qc<Rc?Qc:Rc;var Ea=da._right8;if(null!=Ea)var ia=Ea._min_ay13,Qc=Qc<ia?Qc:ia;da._min_ay13=Qc;var rc=da.ay2,Sc=da._left7;if(null!=Sc)var Tc=Sc._max_ay24,rc=rc<Tc?Tc:rc;var Qe=da._right8;if(null!=Qe)var Re=Qe._max_ay24,rc=
rc<Re?Re:rc;da._max_ay24=rc;da._height10=1+((null==da._left7?-1:da._left7._height10)>(null==da._right8?-1:da._right8._height10)?null==da._left7?-1:da._left7._height10:null==da._right8?-1:da._right8._height10);if(null!=da._parent9){var Uc=da._parent9.ax1,Vc=da._parent9._left7;if(null!=Vc)var Wc=Vc._min_ax12,Uc=Uc<Wc?Uc:Wc;var Se=da._parent9._right8;if(null!=Se)var Te=Se._min_ax12,Uc=Uc<Te?Uc:Te;da._parent9._min_ax12=Uc;var Xc=da._parent9.ay1,Yc=da._parent9._left7;if(null!=Yc)var Zc=Yc._min_ay13,Xc=
Xc<Zc?Xc:Zc;var Ue=da._parent9._right8;if(null!=Ue)var Ve=Ue._min_ay13,Xc=Xc<Ve?Xc:Ve;da._parent9._min_ay13=Xc;var $c=da._parent9.ay2,ad=da._parent9._left7;if(null!=ad)var Fa=ad._max_ay24,$c=$c<Fa?Fa:$c;var W=da._parent9._right8;if(null!=W)var ae=W._max_ay24,$c=$c<ae?ae:$c;da._parent9._max_ay24=$c;da._parent9._height10=1+((null==da._parent9._left7?-1:da._parent9._left7._height10)>(null==da._parent9._right8?-1:da._parent9._right8._height10)?null==da._parent9._left7?-1:da._parent9._left7._height10:
null==da._parent9._right8?-1:da._parent9._right8._height10)}else this._root1=da}var ta=O,ba=ta._left7,be=ba._right8;null!=ta._parent9&&(ta._parent9._left7==ta?ta._parent9._left7=ba:ta._parent9._right8=ba);null!=ba&&(ba._parent9=ta._parent9);ba._right8=ta;null!=ta&&(ta._parent9=ba);ta._left7=be;null!=be&&(be._parent9=ta);var sc=ta.ax1,ze=ta._left7;if(null!=ze)var zb=ze._min_ax12,sc=sc<zb?sc:zb;var Ab=ta._right8;if(null!=Ab)var We=Ab._min_ax12,sc=sc<We?sc:We;ta._min_ax12=sc;var bd=ta.ay1,ce=ta._left7;
if(null!=ce)var bc=ce._min_ay13,bd=bd<bc?bd:bc;var cc=ta._right8;if(null!=cc)var Xe=cc._min_ay13,bd=bd<Xe?bd:Xe;ta._min_ay13=bd;var dc=ta.ay2,tc=ta._left7;if(null!=tc)var cd=tc._max_ay24,dc=dc<cd?cd:dc;var dd=ta._right8;if(null!=dd)var Ye=dd._max_ay24,dc=dc<Ye?Ye:dc;ta._max_ay24=dc;ta._height10=1+((null==ta._left7?-1:ta._left7._height10)>(null==ta._right8?-1:ta._right8._height10)?null==ta._left7?-1:ta._left7._height10:null==ta._right8?-1:ta._right8._height10);var ed=ba.ax1,Ze=ba._left7;if(null!=Ze)var Ib=
Ze._min_ax12,ed=ed<Ib?ed:Ib;var cb=ba._right8;if(null!=cb)var $e=cb._min_ax12,ed=ed<$e?ed:$e;ba._min_ax12=ed;var fd=ba.ay1,Ae=ba._left7;if(null!=Ae)var uc=Ae._min_ay13,fd=fd<uc?fd:uc;var za=ba._right8;if(null!=za)var fa=za._min_ay13,fd=fd<fa?fd:fa;ba._min_ay13=fd;var ec=ba.ay2,gd=ba._left7;if(null!=gd)var hd=gd._max_ay24,ec=ec<hd?hd:ec;var Be=ba._right8;if(null!=Be)var af=Be._max_ay24,ec=ec<af?af:ec;ba._max_ay24=ec;ba._height10=1+((null==ba._left7?-1:ba._left7._height10)>(null==ba._right8?-1:ba._right8._height10)?
null==ba._left7?-1:ba._left7._height10:null==ba._right8?-1:ba._right8._height10);if(null!=ba._parent9){var id=ba._parent9.ax1,Jb=ba._parent9._left7;if(null!=Jb)var fc=Jb._min_ax12,id=id<fc?id:fc;var Ce=ba._parent9._right8;if(null!=Ce)var bf=Ce._min_ax12,id=id<bf?id:bf;ba._parent9._min_ax12=id;var jd=ba._parent9.ay1,kd=ba._parent9._left7;if(null!=kd)var vc=kd._min_ay13,jd=jd<vc?jd:vc;var cf=ba._parent9._right8;if(null!=cf)var df=cf._min_ay13,jd=jd<df?jd:df;ba._parent9._min_ay13=jd;var wc=ba._parent9.ay2,
ld=ba._parent9._left7;if(null!=ld)var Ca=ld._max_ay24,wc=wc<Ca?Ca:wc;var T=ba._parent9._right8;if(null!=T)var ee=T._max_ay24,wc=wc<ee?ee:wc;ba._parent9._max_ay24=wc;ba._parent9._height10=1+((null==ba._parent9._left7?-1:ba._parent9._left7._height10)>(null==ba._parent9._right8?-1:ba._parent9._right8._height10)?null==ba._parent9._left7?-1:ba._parent9._left7._height10:null==ba._parent9._right8?-1:ba._parent9._right8._height10)}else this._root1=ba;O=O._parent9}else if(-1>Sa){if((null==O._right8._left7?
-1:O._right8._left7._height10)>(null==O._right8._right8?-1:O._right8._right8._height10)){var ua=O._right8,V=ua._left7,fe=V._right8;null!=ua._parent9&&(ua._parent9._left7==ua?ua._parent9._left7=V:ua._parent9._right8=V);null!=V&&(V._parent9=ua._parent9);V._right8=ua;null!=ua&&(ua._parent9=V);ua._left7=fe;null!=fe&&(fe._parent9=ua);var Ia=ua.ax1,Fd=ua._left7;if(null!=Fd)var gc=Fd._min_ax12,Ia=Ia<gc?Ia:gc;var xc=ua._right8;if(null!=xc)var ef=xc._min_ax12,Ia=Ia<ef?Ia:ef;ua._min_ax12=Ia;var md=ua.ay1,gf=
ua._left7;if(null!=gf)var yc=gf._min_ay13,md=md<yc?md:yc;var Kb=ua._right8;if(null!=Kb)var Ac=Kb._min_ay13,md=md<Ac?md:Ac;ua._min_ay13=md;var Lb=ua.ay2,nd=ua._left7;if(null!=nd)var hc=nd._max_ay24,Lb=Lb<hc?hc:Lb;var Mb=ua._right8;if(null!=Mb)var Gd=Mb._max_ay24,Lb=Lb<Gd?Gd:Lb;ua._max_ay24=Lb;ua._height10=1+((null==ua._left7?-1:ua._left7._height10)>(null==ua._right8?-1:ua._right8._height10)?null==ua._left7?-1:ua._left7._height10:null==ua._right8?-1:ua._right8._height10);var ic=V.ax1,De=V._left7;if(null!=
De)var Bc=De._min_ax12,ic=ic<Bc?ic:Bc;var Cc=V._right8;if(null!=Cc)var Ee=Cc._min_ax12,ic=ic<Ee?ic:Ee;V._min_ax12=ic;var od=V.ay1,hf=V._left7;if(null!=hf)var Va=hf._min_ay13,od=od<Va?od:Va;var Zf=V._right8;if(null!=Zf)var Cf=Zf._min_ay13,od=od<Cf?od:Cf;V._min_ay13=od;var wd=V.ay2,Fe=V._left7;if(null!=Fe)var Id=Fe._max_ay24,wd=wd<Id?Id:wd;var $f=V._right8;if(null!=$f)var ag=$f._max_ay24,wd=wd<ag?ag:wd;V._max_ay24=wd;V._height10=1+((null==V._left7?-1:V._left7._height10)>(null==V._right8?-1:V._right8._height10)?
null==V._left7?-1:V._left7._height10:null==V._right8?-1:V._right8._height10);if(null!=V._parent9){var Jd=V._parent9.ax1,bg=V._parent9._left7;if(null!=bg)var he=bg._min_ax12,Jd=Jd<he?Jd:he;var cg=V._parent9._right8;if(null!=cg)var Df=cg._min_ax12,Jd=Jd<Df?Jd:Df;V._parent9._min_ax12=Jd;var xd=V._parent9.ay1,sf=V._parent9._left7;if(null!=sf)var Kd=sf._min_ay13,xd=xd<Kd?xd:Kd;var Ef=V._parent9._right8;if(null!=Ef)var Ff=Ef._min_ay13,xd=xd<Ff?xd:Ff;V._parent9._min_ay13=xd;var Ld=V._parent9.ay2,Gf=V._parent9._left7;
if(null!=Gf)var Ga=Gf._max_ay24,Ld=Ld<Ga?Ga:Ld;var la=V._parent9._right8;if(null!=la)var jf=la._max_ay24,Ld=Ld<jf?jf:Ld;V._parent9._max_ay24=Ld;V._parent9._height10=1+((null==V._parent9._left7?-1:V._parent9._left7._height10)>(null==V._parent9._right8?-1:V._parent9._right8._height10)?null==V._parent9._left7?-1:V._parent9._left7._height10:null==V._parent9._right8?-1:V._parent9._right8._height10)}else this._root1=V}var Ba=O,oa=Ba._right8,Hf=oa._left7;null!=Ba._parent9&&(Ba._parent9._left7==Ba?Ba._parent9._left7=
oa:Ba._parent9._right8=oa);null!=oa&&(oa._parent9=Ba._parent9);oa._left7=Ba;null!=Ba&&(Ba._parent9=oa);Ba._right8=Hf;null!=Hf&&(Hf._parent9=Ba);var Md=Ba.ax1,If=Ba._left7;if(null!=If)var Nd=If._min_ax12,Md=Md<Nd?Md:Nd;var dg=Ba._right8;if(null!=dg)var eg=dg._min_ax12,Md=Md<eg?Md:eg;Ba._min_ax12=Md;var Od=Ba.ay1,fg=Ba._left7;if(null!=fg)var Nb=fg._min_ay13,Od=Od<Nb?Od:Nb;var Jf=Ba._right8;if(null!=Jf)var gg=Jf._min_ay13,Od=Od<gg?Od:gg;Ba._min_ay13=Od;var je=Ba.ay2,Kf=Ba._left7;if(null!=Kf)var ke=Kf._max_ay24,
je=je<ke?ke:je;var ig=Ba._right8;if(null!=ig)var hg=ig._max_ay24,je=je<hg?hg:je;Ba._max_ay24=je;Ba._height10=1+((null==Ba._left7?-1:Ba._left7._height10)>(null==Ba._right8?-1:Ba._right8._height10)?null==Ba._left7?-1:Ba._left7._height10:null==Ba._right8?-1:Ba._right8._height10);var Pd=oa.ax1,Lf=oa._left7;if(null!=Lf)var le=Lf._min_ax12,Pd=Pd<le?Pd:le;var Mf=oa._right8;if(null!=Mf)var Nf=Mf._min_ax12,Pd=Pd<Nf?Pd:Nf;oa._min_ax12=Pd;var Qd=oa.ay1,jg=oa._left7;if(null!=jg)var me=jg._min_ay13,Qd=Qd<me?Qd:
me;var mf=oa._right8;if(null!=mf)var uf=mf._min_ay13,Qd=Qd<uf?Qd:uf;oa._min_ay13=Qd;var jc=oa.ay2,kg=oa._left7;if(null!=kg)var ne=kg._max_ay24,jc=jc<ne?ne:jc;var zd=oa._right8;if(null!=zd)var vf=zd._max_ay24,jc=jc<vf?vf:jc;oa._max_ay24=jc;oa._height10=1+((null==oa._left7?-1:oa._left7._height10)>(null==oa._right8?-1:oa._right8._height10)?null==oa._left7?-1:oa._left7._height10:null==oa._right8?-1:oa._right8._height10);if(null!=oa._parent9){var Ad=oa._parent9.ax1,mg=oa._parent9._left7;if(null!=mg)var Rd=
mg._min_ax12,Ad=Ad<Rd?Ad:Rd;var ng=oa._parent9._right8;if(null!=ng)var Of=ng._min_ax12,Ad=Ad<Of?Ad:Of;oa._parent9._min_ax12=Ad;var Gc=oa._parent9.ay1,nf=oa._parent9._left7;if(null!=nf)var Sd=nf._min_ay13,Gc=Gc<Sd?Gc:Sd;var Pf=oa._parent9._right8;if(null!=Pf)var Je=Pf._min_ay13,Gc=Gc<Je?Gc:Je;oa._parent9._min_ay13=Gc;var Td=oa._parent9.ay2,wf=oa._parent9._left7;if(null!=wf)var og=wf._max_ay24,Td=Td<og?og:Td;var Jg=oa._parent9._right8;if(null!=Jg)var Kg=Jg._max_ay24,Td=Td<Kg?Kg:Td;oa._parent9._max_ay24=
Td;oa._parent9._height10=1+((null==oa._parent9._left7?-1:oa._parent9._left7._height10)>(null==oa._parent9._right8?-1:oa._parent9._right8._height10)?null==oa._parent9._left7?-1:oa._parent9._left7._height10:null==oa._parent9._right8?-1:oa._parent9._right8._height10)}else this._root1=oa;O=O._parent9}a.ax1=N;a.ay1=f;a.ax2=J;a.ay2=C};
RectangleHolder.prototype.findMatchingRectangles=function(a,N,f,J,C){for(var G=this._root1,p=G,y=!0,H=!0;;){if(null==p){p=null;break}if(y)if(p.ax2<=a)if(null!=p._right8&&p._right8._min_ax12<f&&p._right8._min_ay13<J&&p._right8._max_ay24>N)p==G&&(G=p._right8),p=p._right8;else if(p==G){p=null;break}else y=!1,H=null!=p._parent9&&p==p._parent9._left7,p=p._parent9;else if(null!=p._left7&&p._left7._min_ax12<f&&p._left7._min_ay13<J&&p._left7._max_ay24>N)p=p._left7;else if(p.ax1<f&&p.ay1<J&&p.ay2>N)break;
else p==G?p=G=p._right8:null!=p._right8&&p._right8._min_ax12<f&&p._right8._min_ay13<J&&p._right8._max_ay24>N?(p==G&&(G=p._right8),p=p._right8):(y=!1,H=null!=p._parent9&&p==p._parent9._left7,p=p._parent9);else if(H)if(p.ax1<f&&p.ay1<J&&p.ay2>N)break;else if(null!=p._right8&&p._right8._min_ax12<f&&p._right8._min_ay13<J&&p._right8._max_ay24>N)y=!0,p==G&&(G=p._right8),p=p._right8;else if(p==G){p=null;break}else y=!1,H=null!=p._parent9&&p==p._parent9._left7,p=p._parent9;else if(p==G){p=null;break}else y=
!1,H=null!=p._parent9&&p==p._parent9._left7,p=p._parent9}for(G=p;null!=G;){p=y=G;do{H=null;if(null!=G._right8&&G._right8._min_ax12<f&&G._right8._min_ay13<J&&G._right8._max_ay24>N){for(var m=H=G._right8,Q=!0,P=!0;;){if(null==m){m=null;break}if(Q)if(m.ax2<=a)if(null!=m._right8&&m._right8._min_ax12<f&&m._right8._min_ay13<J&&m._right8._max_ay24>N)m==H&&(H=m._right8),m=m._right8;else if(m==H){m=null;break}else Q=!1,P=null!=m._parent9&&m==m._parent9._left7,m=m._parent9;else if(null!=m._left7&&m._left7._min_ax12<
f&&m._left7._min_ay13<J&&m._left7._max_ay24>N)m=m._left7;else if(m.ax1<f&&m.ay1<J&&m.ay2>N)break;else m==H?m=H=m._right8:null!=m._right8&&m._right8._min_ax12<f&&m._right8._min_ay13<J&&m._right8._max_ay24>N?(m==H&&(H=m._right8),m=m._right8):(Q=!1,P=null!=m._parent9&&m==m._parent9._left7,m=m._parent9);else if(P)if(m.ax1<f&&m.ay1<J&&m.ay2>N)break;else if(null!=m._right8&&m._right8._min_ax12<f&&m._right8._min_ay13<J&&m._right8._max_ay24>N)Q=!0,m==H&&(H=m._right8),m=m._right8;else if(m==H){m=null;break}else Q=
!1,P=null!=m._parent9&&m==m._parent9._left7,m=m._parent9;else if(m==H){m=null;break}else Q=!1,P=null!=m._parent9&&m==m._parent9._left7,m=m._parent9}H=m}if(null!=H){G=H;break}else{for(;null!=G._parent9&&G==G._parent9._right8;)G=G._parent9;G=G._parent9}}while(null!=G&&!(G.ax1<f&&G.ay1<J&&G.ay2>N));if(C(y)){H=p._parent9;P=p._left7;y=p._right8;if(null==P&&null==y)y=null,null!=H&&(H._left7==p?H._left7=y:H._right8=y),null!=y&&(y._parent9=H);else if(null!=P&&null==y)y=P,null!=H&&(H._left7==p?H._left7=y:
H._right8=y),null!=y&&(y._parent9=H);else if(null==P&&null!=y)null!=H&&(H._left7==p?H._left7=y:H._right8=y),null!=y&&(y._parent9=H);else{for(var m=y=p._right8,S=Q=!0;;){if(null==m){m=null;break}if(Q)if(null!=m._left7)m=m._left7;else break;else if(S)break;else if(m==y){m=null;break}else Q=!1,S=null!=m._parent9&&m==m._parent9._left7,m=m._parent9}y=m;Q=m._parent9;S=m._right8;null!=Q&&(Q._left7==m?Q._left7=S:Q._right8=S);null!=S&&(S._parent9=Q);null!=H&&(H._left7==p?H._left7=m:H._right8=m);null!=m&&(m._parent9=
H);m._left7=P;null!=P&&(P._parent9=m);m._right8=p._right8;null!=p._right8&&(p._right8._parent9=m);P=m.ax1;S=m._left7;null!=S&&(S=S._min_ax12,P=P<S?P:S);S=m._right8;null!=S&&(S=S._min_ax12,P=P<S?P:S);m._min_ax12=P;P=m.ay1;S=m._left7;null!=S&&(S=S._min_ay13,P=P<S?P:S);S=m._right8;null!=S&&(S=S._min_ay13,P=P<S?P:S);m._min_ay13=P;P=m.ay2;S=m._left7;null!=S&&(S=S._max_ay24,P=P<S?S:P);S=m._right8;null!=S&&(S=S._max_ay24,P=P<S?S:P);m._max_ay24=P;m._height10=1+((null==m._left7?-1:m._left7._height10)>(null==
m._right8?-1:m._right8._height10)?null==m._left7?-1:m._left7._height10:null==m._right8?-1:m._right8._height10);for(var m=Q,R=!0;R&&m!=H;){var Q=m._min_ax12,P=m._min_ay13,S=m._max_ay24,ma=m._height10,R=m.ax1,ga=m._left7;null!=ga&&(ga=ga._min_ax12,R=R<ga?R:ga);ga=m._right8;null!=ga&&(ga=ga._min_ax12,R=R<ga?R:ga);m._min_ax12=R;R=m.ay1;ga=m._left7;null!=ga&&(ga=ga._min_ay13,R=R<ga?R:ga);ga=m._right8;null!=ga&&(ga=ga._min_ay13,R=R<ga?R:ga);m._min_ay13=R;R=m.ay2;ga=m._left7;null!=ga&&(ga=ga._max_ay24,R=
R<ga?ga:R);ga=m._right8;null!=ga&&(ga=ga._max_ay24,R=R<ga?ga:R);m._max_ay24=R;m._height10=1+((null==m._left7?-1:m._left7._height10)>(null==m._right8?-1:m._right8._height10)?null==m._left7?-1:m._left7._height10:null==m._right8?-1:m._right8._height10);R=(R=(R=(R=(R=!1,Q!=m._min_ax12))||P!=m._min_ay13)||S!=m._max_ay24)||ma!=m._height10;m=m._parent9}}for(ma=!0;ma&&null!=H;)m=H._min_ax12,Q=H._min_ay13,P=H._max_ay24,S=H._height10,ma=H.ax1,R=H._left7,null!=R&&(R=R._min_ax12,ma=ma<R?ma:R),R=H._right8,null!=
R&&(R=R._min_ax12,ma=ma<R?ma:R),H._min_ax12=ma,ma=H.ay1,R=H._left7,null!=R&&(R=R._min_ay13,ma=ma<R?ma:R),R=H._right8,null!=R&&(R=R._min_ay13,ma=ma<R?ma:R),H._min_ay13=ma,ma=H.ay2,R=H._left7,null!=R&&(R=R._max_ay24,ma=ma<R?R:ma),R=H._right8,null!=R&&(R=R._max_ay24,ma=ma<R?R:ma),H._max_ay24=ma,H._height10=1+((null==H._left7?-1:H._left7._height10)>(null==H._right8?-1:H._right8._height10)?null==H._left7?-1:H._left7._height10:null==H._right8?-1:H._right8._height10),ma=(ma=(ma=(ma=(ma=!1,m!=H._min_ax12))||
Q!=H._min_ay13)||P!=H._max_ay24)||S!=H._height10,H=H._parent9;this._root1==p&&(this._root1=y)}}};function buildViz(a,N,f,J,C,G,p,y,H,m,Q,P,S,R){function ma(a,f){return["Infrequent","Average","Frequent"][f]}function ga(){ja&&(ja=ja.style.stroke=null)}function $a(a){var f,m,p=[[],[]];if(void 0===fullData.docs)a=p;else if(H)a=lb(a);else{var p=[[],[]],C;a:{C=a.term;var J="\\b",N="[^\\w]+";y&&(J="( |$|^)",N=" ");J=new RegExp(J+"("+C.replace(" ",N,"gim")+")"+J,"gim");try{J.exec("X")}catch(xb){console.log("Can't search "+C);console.log(xb);C=null;break a}C=J}if(null!==C)for(var Z in fullData.docs.texts)if(!(1<
fullData.docs.labels[Z])){var J=fullData.docs.texts[Z],P=null,N=null,R=!1,Q={id:Z,snippets:[]};for(fullData.docs.meta&&(Q.meta=fullData.docs.meta[Z]);null!=(m=C.exec(J));){if(null==P){f=J;for(var S=y?/\n/gmi:/\(?[^\.\?\!\n\b]+[\n\.!\?]\)?/g,Y=[];null!=(P=S.exec(f));)Y.push(P.index);Y.push(f.length);P=Y}f=void 0;var S=J,Y=P,ga=m.index,ja=C.lastIndex,ma=m=null;for(f in Y){var ha=Y[f];ha<=ga&&(null==m||ha>m)&&(m=ha);if(ha>=ja){ma=ha;break}}f=(S.slice(m,ga)+"<b>"+S.slice(ga,ja)+"</b>"+S.slice(ja,ma)).trim();
null==m&&(m=0);m!=N&&(N=m,Q.snippets.push(f),R=!0)}R&&(G&&(Q.snippets=[J.replace(/\n$/g,"\n\n").replace(C,"<b>$&</b>")]),p[fullData.docs.labels[Z]].push(Q))}a={contexts:p,info:a}}return a}function lb(a){var f=[[],[]],m=a.term,p;for(p in fullData.docs.extra)if(m in fullData.docs.extra[p]){var y=fullData.docs.extra[p][m]/Object.values(fullData.docs.extra[p]).reduce(function(a,f){return a+f}),C=fullData.docs.texts[p];G||(C=C.slice(0,300));y={id:p,snippets:[C],strength:y};y.meta=fullData.docs.meta[p];
f[fullData.docs.labels[p]].push(y)}for(p in[0,1])f[p]=f[p].sort(function(a,f){return a.strength<f.strength?1:-1});return{contexts:f,info:a}}function Db(a,m){function p(a,f,m){f=a+" frequency: <div class=text_subhead>"+f+" per 25,000 terms</div>";return 0==m?f+("<u>Not found in any "+a+" documents.</u>"):f+("<u>Some of the "+m+" mentions:</u>")}m=void 0===m?!0:m;var y=a.contexts,C=a.info;if(0==y[0].length&&0==y[1].length)return null;var G=fullData.info.category_internal_name;fullData.docs.categories.map(function(a,
m){null!=f&&y[m].slice(0,f);var p=a==G?"#cat":"#notcat";d3.select(p).selectAll("div").remove();y[m].forEach(function(a){var f=a.meta?a.meta:"&nbsp;";d3.select(p).append("div").attr("class","snippet_meta").html(f);a.snippets.forEach(function(a){d3.select(p).append("div").attr("class","snippet").html(a)})})});d3.select("#termstats").selectAll("div").remove();d3.select("#termstats").append("div").attr("class","snippet_header").html("Term: <b>"+C.term+"</b>");var H=fullData.info.category_name,N=fullData.info.not_category_name;
d3.select("#cathead").style("fill",J(1)).html(p(H,C.cat25k,C.cat));d3.select("#notcathead").style("fill",J(0)).html(p(N,C.ncat25k,C.ncat));console.log(C);m&&(window.location.hash="#snippets"==window.location.hash?"#snippetsalt":"#snippets")}function Lc(a,f,m){ga();var p=a.term+"<br/>"+a.cat25k+":"+a.ncat25k+" per 25k words";C||(p+="<br/>score: "+a.os.toFixed(4));Y.transition().duration(0).style("opacity",1).style("z-index",1E7);Y.html(p).style("left",f+"px").style("top",m-28+"px");Y.on("click",function(){Y.transition().style("opacity",
0)})}function ab(a){var f=termDict[a];if(void 0===f)d3.select("#alertMessage").text(a+" didn't make it into the visualization.");else{d3.select("#alertMessage").text("");a=mysvg._groups[0][f.i];var m=a.getScreenCTM().translate(a.cx.baseVal.value,a.cy.baseVal.value),p=m.e,m=m.f;a.style.stroke="black";Lc(f,p,m);ja=a}}function pb(a,f){return a.on("mouseover",function(a){ab(f);d3.select(this).style("stroke","black")}).on("mouseout",function(a){Y.transition().duration(0).style("opacity",0);d3.select(this).style("stroke",
null)}).on("click",function(a){Db($a(termDict[f]))})}f=void 0===f?null:f;J=void 0===J?null:J;C=void 0===C?!0:C;G=void 0===G?!1:G;p=void 0===p?!1:p;y=void 0===y?!1:y;H=void 0===H?!1:H;m=void 0===m?!0:m;Q=void 0===Q?!1:Q;P=void 0===P?!1:P;S=void 0===S?!1:S;R=void 0===R?.05:R;var Qa=(void 0===a?800:a)-50-20,Pb=(void 0===N?600:N)-30-30,wb=d3.scaleLinear().range([0,Qa]),Wa=d3.scaleLinear().range([Pb,0]),va=d3.axisBottom(wb).ticks(3).tickFormat(ma),wa=d3.axisLeft(Wa).ticks(3).tickFormat(ma);d3.select("#d3-div-1").append("div").attr("class",
"label");null==J&&(J=d3.interpolateRdYlBu);svg=d3.select("#d3-div-1").append("svg").attr("width",Qa+50+20+200).attr("height",Pb+30+30).append("g").attr("transform","translate(50,30)");var ja=null;handleSearch=function(a){ga();a=document.getElementById("searchTerm").value.toLowerCase().replace("'"," '").trim();ab(a);a=termDict[a];null!=a&&Db($a(a),!1);return!1};fullData=getDataAndInfo();(function(a){function f(a){var f=data[a].term,m=[{anchor:"end",xoff:-5,yoff:-3},{anchor:"end",xoff:-5,yoff:10},{anchor:"start",
xoff:3,yoff:10},{anchor:"start",xoff:3,yoff:-3},{anchor:"start",xoff:5,yoff:10},{anchor:"start",xoff:5,yoff:-3},{anchor:"start",xoff:10,yoff:15},{anchor:"start",xoff:-10,yoff:-15},{anchor:"start",xoff:10,yoff:-15},{anchor:"start",xoff:-10,yoff:15}],p=null,y;for(y in m){var C=m[y],C=pb(svg.append("text").attr("x",wb(data[a].x)+C.xoff).attr("y",Wa(data[a].y)+C.yoff).attr("class","label").attr("font-family","Helvetica, Arial, Sans-Serif").attr("font-size","10px").attr("text-anchor",C.anchor).text(f),
f),K=C.node().getBBox(),G=K.x+.5,H=K.y+.5,J=K.x+K.width-.5,K=K.y+K.height-.5,p=!1;xb.findMatchingRectangles(G,H,J,K,function(a){p=!0;return!1});if(p)C.remove();else break}if(p&&"auto"!=f)return!1;coords[f]=[G,H,J,K];xb.add(new Rectangle(G,H,J,K));return!0}function G(a,f){return 2*(Math.min(a.x*a.x+(1-a.y)*(1-a.y),a.y*a.y+(1-a.x)*(1-a.x))>Math.min(f.x*f.x+(1-f.y)*(1-f.y),f.y*f.y+(1-f.x)*(1-f.x)))-1}function N(a,f){return 2*(a.x*a.x+(1-a.y)*(1-a.y)>f.x*f.x+(1-f.y)*(1-f.y))-1}function Z(a,f){return 2*
(a.y*a.y+(1-a.x)*(1-a.x)>f.y*f.y+(1-f.x)*(1-f.x))-1}function ga(a,f){return a.s-f.s}function ja(a,f){return f.s-a.s}function ma(a,f){return f.bg-a.bg}function ab(a,f){return{aGood:a.x*a.x+(1-a.y)*(1-a.y)<a.y*a.y+(1-a.x)*(1-a.x),bGood:f.x*f.x+(1-f.y)*(1-f.y)<f.y*f.y+(1-f.x)*(1-f.x)}}function lb(a,f){var m=ab(a,f),p=m.aGood,m=m.bGood;return p&&!m?-1:!p&&m?1:f.s-a.s}function Mc(a,f){var m=ab(a,f),p=m.aGood,m=m.bGood;return p&&!m?1:!p&&m?-1:S?a.s-f.s:f.s-a.s}function Ra(a){a=a.node().getBBox();xb.add(new Rectangle(a.x+
1.5,a.y+1.5,a.x+a.width-1.5,a.y+a.height-1.5))}function Qb(a,f){var m=a.node().getBBox().width,p;for(p in f){var y=a,C=f[p].term;a=pb(svg.append("text").attr("text-anchor","start").attr("font-family","Helvetica, Arial, Sans-Serif").attr("font-size","12px").attr("x",y.node().getBBox().x).attr("y",y.node().getBBox().y+2*y.node().getBBox().height).text(C),C);a.node().getBBox().width>m&&(m=a.node().getBBox().width);Ra(a)}return{word:a,maxWidth:m}}function rb(a){if(C)return a=1==a?N:Z,a;console.log("PICK SCORE ALGO");
console.log(a);a=1==a?lb:Mc;return a}function Rb(a,f,m){m=void 0===m?14:m;var p=null,p=rb(f),p=data.sort(p);Q&&(p=p.filter(function(a){return f?a.p>=1-R:a.p<=R}));return Qb(a,p.slice(0,m))}function sd(){var f={},m={};a.docs.labels.forEach(function(m,p){var y=(a.docs.texts[p].trim().replace(/['";:,.?\u00bf\-!\u00a1]+/g,"").match(/\S+/g)||[]).length;f[m]=f[m]?f[m]+y:y});a.docs.labels.forEach(function(a){m[a]=m[a]?m[a]+1:1});var p=[];a.docs.categories.forEach(function(y,C){var G=a.info.not_category_name;
y==a.info.category_internal_name&&(G=a.info.category_name);p.push("<b>"+G+"</b> document count: "+Number(m[C]).toLocaleString("en")+"; word count: "+Number(f[C]).toLocaleString("en"))});d3.select("#corpus-stats").style("width",Qa+50+20+200).append("div").html(p.join("<br />"))}var ha=a.info;data=a.data;termDict={};data.forEach(function(a,f){termDict[a.term]=a;termDict[a.term].i=f});console.log(data);wb.domain([-.1,d3.max(data,function(a){return a.x})+.1]);Wa.domain([-.1,d3.max(data,function(a){return a.y})+
.1]);var xb=new RectangleHolder;mysvg=svg.selectAll("dot").data(data).enter().append("circle").attr("r",2).attr("cx",function(a){return wb(a.x)}).attr("cy",function(a){return Wa(a.y)}).style("fill",function(a){return p&&0==a.os?d3.rgb(230,230,230):J(a.s)}).on("mouseover",function(a){Lc(a,d3.event.pageX,d3.event.pageY);d3.select(this).style("stroke","black")}).on("click",function(a){Db($a(a))}).on("mouseout",function(a){Y.transition().duration(0).style("opacity",0);d3.select(this).style("stroke",null)});
coords={};data=C?data.sort(G):data.sort(ga);data.forEach(function(a){a=svg.append("text").attr("x",wb(a.x)).attr("y",Wa(a.y)+3).attr("text-anchor","middle").text("x");console.log(a);var f=a.node().getBBox();xb.add(new Rectangle(f.x+.5,f.y+.5,f.x+f.width-.5,f.y+f.height-.5));a.remove()});svg.append("g").attr("class","x axis").attr("transform","translate(0,"+Pb+")").call(va);svg.append("text").attr("class","x label").attr("text-anchor","end").attr("x",Qa).attr("y",Pb-6).attr("font-family","Helvetica, Arial, Sans-Serif").attr("font-size",
"10px").text(ha.not_category_name+" Frequency");var aa=svg.append("g").attr("class","y axis").call(wa).selectAll("text").style("text-anchor","end").attr("dx","30px").attr("dy","-13px").attr("font-family","Helvetica, Arial, Sans-Serif").attr("font-size","10px").attr("transform","rotate(-90)");Ra(aa);ha=svg.append("text").attr("class","y label").attr("text-anchor","end").attr("y",6).attr("dy",".75em").attr("transform","rotate(-90)").attr("font-family","Helvetica, Arial, Sans-Serif").attr("font-size",
"10px").text(ha.category_name+" Frequency");Ra(ha);ha=svg.append("text").attr("text-anchor","start").attr("x",Qa).attr("dy","6px").attr("font-family","Helvetica, Arial, Sans-Serif").attr("font-size","12px").attr("font-weight","bolder").attr("font-decoration","underline").text("Top "+a.info.category_name);Ra(ha);console.log(ha);var Xa=Rb(ha,!0),aa=Xa.word,sb=Xa.maxWidth,ha=svg.append("text").attr("font-family","Helvetica, Arial, Sans-Serif").attr("font-size","12px").attr("font-weight","bolder").attr("font-decoration",
"underline").attr("text-anchor","start").attr("x",Qa).attr("y",aa.node().getBBox().y+4*aa.node().getBBox().height).text("Top "+a.info.not_category_name),Xa=Rb(ha,!1),aa=Xa.word;Xa.maxWidth>sb&&(sb=Xa.maxWidth);H||y||!m||(aa="Characteristic",Q&&(aa="Most similar"),aa=svg.append("text").attr("font-family","Helvetica, Arial, Sans-Serif").attr("text-anchor","start").attr("font-size","12px").attr("font-weight","bolder").attr("font-decoration","underline").attr("x",ha.node().getBBox().x+sb+10).attr("dy",
"6px").text(aa),ha=ma,Q&&(ha=ja),Xa=Qb(aa,data.sort(ha).slice(0,30)),aa=Xa.word,sb=Xa.maxWidth,console.log(sb),console.log(aa.node().getBBox().x+sb),svg.attr("width",aa.node().getBBox().x+3*sb+10));for(aa=ha=0;aa<data.length;aa++)f(aa)&&ha++;console.log("numPointsLabeled");console.log(ha);a.docs&&sd();P&&(ha=document.getElementById("d3-div-1"),ha=(new XMLSerializer).serializeToString(ha),ha.match(/^<svg[^>]+xmlns="http\:\/\/www\.w3\.org\/2000\/svg"/)||(ha=ha.replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')),
ha.match(/^<svg[^>]+"http\:\/\/www\.w3\.org\/1999\/xlink"/)||(ha=ha.replace(/^<svg/,'<svg xmlns:xlink="http://www.w3.org/1999/xlink"')),ha="data:image/svg+xml;charset=utf-8,"+encodeURIComponent('<?xml version="1.0" standalone="no"?>\r\n'+ha),aa=document.createElement("a"),aa.href=ha,aa.download=a.info.category_name+".svg",aa.innerText="Download SVG",document.body.appendChild(aa))})(fullData);var Y=d3.select("#d3-div-1").append("div").attr("class",C?"tooltip":"tooltipscore").style("opacity",0)};